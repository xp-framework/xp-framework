XP Framework ChangeLog
========================================================================
$Id$

Version ?.?.?, released ????-??-??
----------------------------------
SVN version: ?????

Bugfixes
~~~~~~~~
- Fixed common stack trace element calculation in lang.ChainedException
  if chained exception is a chained exception itself.
  (friebe)
- Fixed peer.ftp.FtpConnection to be able to cope with FTP servers
  sending an empty directory listing (without "." and "..") for 
  nonexistant directories
  (friebe)
- Fixed format string BIT_AND operator to only use one placeholder
  (ohinckel)

Features
~~~~~~~~
- Made exception messages raised from injection more verbose in XPCLIs
  (friebe)
- Added support to peer.Socket::canRead() to block forever when NULL
  is passed as value for the timeout parameter.
  (friebe)
- Changed unittest.web.WebTestCase to load HTML from a stream instead
  of buffering it all into memory first
  (friebe)
- Log exceptions caught by web runner to scriptlet log
  (ohinckel)
  

Version 5.7.8, released 2010-03-24
----------------------------------
SVN version: 14410

Heads up!
~~~~~~~~~
- Changed xpcli runner to display exceptions raised in run() block of  
  the run command class including stacktrace
  (friebe)
- Deprecated lang.Primitive::$INTEGER in favor of lang.Primitive::$INT
  (friebe)
- Deprecated lang.Type::$ANY in favor of lang.Type::$VAR
  (friebe)
- Changed util.collections.Map interface to ensure array access works.
  Any implementation must now adhere to http://de3.php.net/arrayaccess
  (friebe)

RFCs
~~~~
- Implemented RFC #0178 - XP installations (runner part)
  (friebe)
- Implemented RFC #0183 - lang.ResourceProvider
  (kiesel)

Bugfixes
~~~~~~~~
- Fixed rdbms.StatementFormatter handling of booleans in %d token
  (friebe)
- Fixed org.nagios.NscaClient's handling of CRC32 checksums
  and thus fixes passive nagios checks since security.checksum
  refactoring
  (kiesel)
- Cleaned up various apidoc spelling issues in @param / @return, and
  exchanged "mixed" with "var" throughout the entire repository.
  (friebe)
- Fixed lang.XPClass raising fatals when methods inherited / implemented
  from builtin classes
  (friebe)
- Fixed reflection on lang.Throwable class in certain cases when builtin
  Exception class is queried for non-existant details
  (friebe)
- Fixed Wrapper::load() not executing casters and checkers when array
  values were submitted and first value is empty
  (ohinckel, Sebastian Kusnier)
- Fixed peer.URL::getQuery() to build query string correctly when using
  multi-dimensional arrays in query string
  (ohinckel)

Features
~~~~~~~~
- Implemented HTTPOnly support in scriptlet.Cookie
  (friebe)
- Made unittest.TestCase::assertInstanceOf() accept lang.Type instances
  as first parameter as well as strings with type names
  (friebe)
- Added new scriptlet.DirectOutputHttpScriptletResponse class
  (kiesel)
- Added "-r" command line switch to xp runner
  http://news.xp-framework.net/article/345/2010/02/16/
  (friebe)
- Enabled discovery of port used in bind() when setting to port to 0 -
  which indicates to use any free port - in peer.ServerSocket
  http://news.xp-framework.net/article/343/2010/02/01/ 
  (friebe)


Version 5.7.7, released 2010-01-26
----------------------------------
SVN version: 14139

Heads up!
~~~~~~~~~
- Deprecated unittest.TestCase::assertClass() and assertSubclass() -
  replaced by new method assertInstanceOf().
  (friebe)
- Changed FTP_ASCII / FTP_BINARY constants in peer.ftp package to class
  constants FtpTransfer::ASCII and FtpTransfer::BINARY.
  http://news.xp-framework.net/article/334/2009/12/28/
  (friebe)

Features
~~~~~~~~
- Added getOptions() and getSelectedOptions() to unittest.web.SelectField 
  (friebe)
- Added support for cookies to web test API
  (friebe)
- Added new security.checksum.MessageDigest API supporting incrementally
  creating checksums (md5, sha1, crc32, whirlpool, adler32 and more)
  (friebe)
- Added new lang.Runtime::newInstance() method
  (friebe)
- Added member "in" to command line classes to read from standard input
  (friebe, srogin)
- Added compressing input and decompressing output streams to io.streams:
  deflate / inflate, gzcompress / gzdecompress, bz2compress / bz2decompress
  http://news.xp-framework.net/article/335/2010/01/06/
  (friebe)
- Added io.streams.StreamTransfer class to copy one stream to another
  (friebe)
- Improved performance of reflection on class members (fields, methods)
  (friebe)
- Changed util.log.Logger::configure() to refrain from using global
  and deprecated LOGGER_FLAG_* constants (soon to be removed).
  (friebe)
- Added util.log.LogCategory::getAppenders() to make adding appenders
  more testable
  (friebe)
- Always include current URL in web testcase failure messages
  (friebe)
- Added new methods to unittest.web.WebTestCase: assertStatusIn(),
  assertTextPatternNotPresent() and assertTextPatternPresent()
  (friebe)
- Added "-a" commandline option to unittest command
  (friebe)
- Added text.regex.MatchResult::$EMPTY static member holding an empty
  match - can be used for MatchResult::$EMPTY.equals(...) e.g.
  (friebe)
- Added withCallback() and withEncoding() methods to XMLParser class
  http://news.xp-framework.net/article/331/2009/12/17/
  (friebe) 

RFCs
~~~~
- Implemented RFC #0175 - ZIP File support
  (friebe)

Bugfixes
~~~~~~~~
- Fixed core unittests to correctly recognize "Darwin" (Mac OS X) not
  as Windows but as a Un*x system
  http://news.xp-framework.net/article/340/2010/01/24/
  (friebe, gellweiler)
- Fixed incorrect EOF detection in peer.Socket class
  (friebe)
- Fixed web test API always returning UTF-8 encoded strings
  (friebe)
- Fixed peer.http API not to choke on consecutive requests if data isn't
  completely read
  (friebe)
- Fixed XP runners not terminating PHP runtime on Windows
  http://news.xp-framework.net/article/338/2010/01/15
  (friebe)
- Fixed XP runners on BSD systems not being able to parse command line
  when procfs is not mounted
  http://news.xp-framework.net/article/337/2010/01/10
  (friebe)
- Fixed adding a testcase class twice (or a test twice) to a TestSuite
  would result in the tests (or the test, respectively) only being run 
  once - especially makes sense with tests with different arguments.
  (friebe)
- Fixed lang.reflect.Routine methods dealing with class details when
  working with inherited interface methods
  (friebe)
- Fixed unittest.web.WebTestCase::navigateTo() not handling the request
  method but instead always using HTTP GET
  (friebe)
- Fixed unittest.web.WebTestCase::assertTextPresent() method to check
  for substring matches instead of for text nodes with exact string
  (friebe)
- Reset EOF status in peer.Socket::close() to get correct EOF status
  after reconnecting
  (ohinckel, Christine Karch, kiesel)


Version 5.7.6, released 2009-12-16
----------------------------------
SVN version: 13941

Heads up!
~~~~~~~~~
- Changed io.File to no longer to accept filenames containing a NUL byte
  (friebe)
- Changed io.File to accept only scheme URLs beginning with xar:// as well 
  as php://stderr, php://stdout and php://stdin.
  (friebe)
- Made scriptlet.HttpScriptlet use a merge of $_GET and $_POST,
  instead of $_REQUEST, effectively not taking cookie values
  into account when using HttpScriptletRequest::getParam().
  (friebe, kiesel)

Features
~~~~~~~~
- Added lang.types.ArrayList::contains() method 
  (friebe)
- Made WorkflowScriptletRequest give a less information-leaking error message
  (friebe, kiesel)
- Made ClassNotFoundException constructor take an optional, second argument
  to separate information on available loaders from actual error message
  (kiesel, friebe)
- Added util.Currency and util.Money classes
  (friebe)
- Made scriptlet.HttpScriplet check for existance of X-Forwarded-Host
  HTTP-header when creating Location:-headers
  (friebe, kiesel)
- Made scriptlet.HttpScriptlet support all HTTP methods ("verbs") by
  default
  (kiesel)
- Added new text.DateFormat class
  (friebe)
- Added with*() methods complementing the setter to img.util.ExifData 
  and img.util.IptcData to allow for fluent usage
  (friebe)
- XPCLI: Check for injection type not only in @inject(type= ...) and in
  in the type restriction but also in the documented type (in this order)
  (friebe, kiesel)

RFCs
~~~~
- Implemented RFC #0192 - Logging API enhancements
  (friebe)
- Implemented RFC #0191 - New CSV API
  (friebe)

Bugfixes
~~~~~~~~
- Fixed fatals in peer.server.PreforkingServer if logging was disabled
  (gellweiler)
- Fixed exception message for @args methods in xp.command.Runner
  (friebe, Rene Patzer)
- Fixed memory leak caused by assigning $this as member of $this
  (friebe, kiesel, Tobias Roth)
- Fixed bug on uncaught exceptions in @beforeClass-method in
  unittest-API
  (friebe)
- Ensured that injection occurs before argument passing in
  util.cmd.Command classes
  (friebe)
- Made scriptlet.xml.workflow.casters.ToDateCaster explicitely check for
  errors and warnings when parsing a date and reject that value in case
  (kiesel, Ionut Manta)
- Fixed WSDL code generation for functions with no arguments
  (hinckel, Christine Karch)


Version 5.7.5, released 2009-10-22
----------------------------------
SVN version: 13740

Heads up!
~~~~~~~~~
- Refactored command line parsing and composition from lang.Process to
  new lang.CommandLine class
  (friebe)
- Made peer.URL throw a lang.FormatException when passed malformed URLs
  (friebe)
- Changed peer.URL::addParams() and peer.URL::addParam() to throw a
  lang.IllegalArgumentException if the parameter to be added already
  exists
  (friebe)
- Refactored scriptlet API classes to make them testable
  (friebe)

Features
~~~~~~~~
- Added new rdbms.finder.GenericFinder class
  (friebe)
- Added support for custom error pages to the web runner
  (kiesel)
- Added setLocation() method to webservices.soap.native.NativeSoapClient
  to overwrite endpoint location if needed.
  (gelli)
- Added peer.http.FormRequestData and peer.http.FormData as an implementation
  of multipart/form-data http requests
  (kiesel)
- Added unittest.XmlTestListener class which reports results in an XML 
  format adequate for continuous integration systems.
  http://news.xp-framework.net/article/320/2009/10/02/
  (friebe)
- Added peer.URL::removeParam() method
  (friebe)
- Added support for array parameters (num[]=one&num[]=two) and hash
  parameters (data[size]=S&data[color]=green) to peer.URL 
  (friebe, Patrick Kohlmann)
- Added peer.URL::hasParam() method to test for existance of a single
  parameter - it complements hasParams()
  (friebe)
- Added peer.URL::setParams() and peer.URL::setParam() methods
  (friebe)
- Added xml.Stylesheet::addTemplate() (and withTemplate()) which work 
  with xml.XslTemplate instances.
  (friebe)
- Added xml.Node::withChild() method to complete addChild() - but instead
  of returning the child returns the node itself.
  http://news.xp-framework.net/article/318/2009/09/21/
  (friebe)
- Added various with*() methods to xml.Stylesheet to complement their
  add*() counterparts - but instead return the stylesheet instance to
  allow for a fluent API.
  (friebe)
- Changed scriptlet error pages to use data protocol instead of relying
  on an image named "err.gif" in the document root's /image subdirectory
  (friebe)
- Added rdbms.finder.FinderMethod::getFinder() method
  (friebe)
- Added getInputStream() and getOutputStream() methods to io.File
  (friebe)
- Added getInputStream() and getOutputStream() methods to peer.Socket
  (friebe)
- Added possibility to pass an associative array to HTTP request params
  (friebe)

RFCs
~~~~
- Implemented RFC #0190 - Readers and Writers
  (friebe)
- Implemented RFC #0188 - Test outcome
  (friebe)
- Implemented RFC #0187 - @expect withMessage
  (friebe)

Bugfixes
~~~~~~~~
- Fixed remote.protocol.Serializer to apply mappings for interfaces
  (srogin, gelli)
- Fix util.TimeZoneTransition::previous() implementation.
  Fixes bug #41
  (kiesel, Jan Walschburger)
- Fixed lang.Enum::membersOf() to return correct list of members for
  abstract enums
  (friebe)
- Updated org.bugzilla.gateway.BugMessage to use "=" instead of ":" as
  assignment character for tokens (required for Bugzilla V3)
  (hinckel)
- Fixed content type header in peer.mail.MimeMessage with multiple parts
  (hinckel)
- Fixed extraneous trailing whitespace in rdbms.mysql.MySQLDBAdapter
  (Tobias Roth)
- Fixed peer.URL::getQuery() and peer.URL::hashCode() not being returning
  the correct values after the URL object has been modified
  (friebe)
- Fixed newline detection in StreamReader::readLine()
  (hinckel)
- Fixed XPath constructor to include XML declaration when creating XPath
  object from xml.Tree
  (hinckel, Christine Karch)


Version 5.7.4, released 2009-09-05
----------------------------------
SVN version: 13480

Heads up!
~~~~~~~~~
- Deprecated peer.ftp.server.FtpConnectionListener class
  http://news.xp-framework.net/article/309/2009/08/19/
  (friebe)
- Refactored rdbms.pgsql.PostgreSQLConnection class so it behaves in 
  line with other rdbms.DBConnection classes - this includes 
  behavorial changes visible to outside
  (kiesel)
- Made util.Locale fully qualified, to make XP forward compatible
  with PHP 5.3.0 with ext/intl enabled
  (kiesel)
- Changed "unittest" command to exit with non-zero exitcode if either no
  tests are found or any test fails
  (friebe)
- Changed ClassDoc::sourceFile() and PackageDoc::sourceFile() in 
  text.doclet to return io.File objects instead of strings
  (friebe)
- Refactored scriptlet.workflow.casters.ToValidXMLString into the
  checker scriptlet.workflow.checkers.WellformedXMLChecker
  (kiesel)

Features
~~~~~~~~
- Refactored DBConnection classes; streamline code and remove leftovers
  from PHP4 times
  (kiesel)
- Added optional parameter "file" to xp::gc() which will only clean up
  errors caused inside the given file (versus all errors)
  (friebe, kiesel)
- Added memory reporting methods to lang.Runtime class
  (friebe)
- Made timeouts during socket reads detectable by specialized exception
  peer.SocketTimeoutException
  http://news.xp-framework.net/article/308/2009/08/11
  (friebe, Rene Patzer)
- Added Console input stream (Console::$in)
  (friebe)
- Added lang.Runtime::bootstrapScript() method which returns the boot-
  strap script (e.g. "tools/class.php" or "tools/xar.php")
  (friebe)
- Added lang.Runtime::mainClass() method which returns the entry point
  class (e.g. "tools.unittest.Runner")
  (friebe)
- Added lang.Runtime::startupOptions() method which returns the options
  given to the runtime on the command line (e.g. "-dinclude_path=...", 
  "-q" or "-denable_dl=Off")
  (friebe)
- Added lang.Process::getArguments() which returns command line arguments
  passed to the process as an array of strings.
  (friebe)
- Support data type "varbinary" in MySQLDBAdapter class
  (hinckel)
- Made XML_ILLEGAL_CHARS a xml.Node class constant
  (kiesel)
- Added accessors for underlying output stream to io.streams.StringWriter
  http://news.xp-framework.net/article/306/2009/07/12/
  (friebe)
- Made rdbms.ConnectionManager initialize rdbms.DBConnection lazily, so
  that configuring with unsupported protocols only ends in exceptions
  when that connection is actually requested.
  (kiesel, friebe)
- Added Microsoft SQL server support to rdbms API (depending either on 
  "mssql" or "sqlsrv" PHP extensions).
  (friebe)
- Added InterBase/Firebird support to rdbms API (depending on "ibase"
  PHP extension).
  (friebe)
- Extended error handling mechanism to provide class and method information
  for E_NOTICE and E_WARNING stacktrace elements.
  (kiesel)
- Made only those access implementations available in rdbms.DriverManager 
  where the correct driver is loaded 
  http://news.xp-framework.net/article/303/2009/06/09
  (friebe)

RFCs
~~~~
- Implemented RFC #0159 - Deadlock handling
  http://news.xp-framework.net/article/304/2009/06/16/
  (friebe)

Bugfixes
~~~~~~~~
- Fixed util.TimeSpan to handle "%%" correctly in its format() method
  (friebe)
- Prevented creation of negative timespans in util.TimeSpan::subtract()
  (friebe)
- Fixed valuesOf(), membersOf() and valueOf() methods in lang.Enum not
  to return static members other than those of the enum declaration.
  (friebe)
- Fixed bug #38 - Annotation parsing fails for strings containing "=" 
  (friebe)
- Removed superfluous newline from message string in compoundMessage()
  of HttpScriptletException class
  (hinckel)
- Fixed xml.dom.Document to work as advertised (getElementById() and
  getElementsByName() methods).
  (Rene Patzer)
- Fixed xp.codegen.esdl.Generator so it does work now
  (wagner)
- Fixed util.log.SyslogAppender which never logged anything due to a 
  broken syslog() call.
  (friebe)
- Added missing dependency lang.Primitive to lang.Type
  (hinckel)
- Fixed lang.archive.ArchiveClassLoader::packageContents() to work for 
  the base package
  (wagner)
- Fixed lang.reflect.Package::getPackageNames() to work for the base 
  package
  (wagner)
- Fixed lang.Process to ignore directories when looking up the executable
  (hinckel)
- Fixed rdbms.mysql.MySQLDBAdapter class to recognize longtext and 
  tinyblob fields
  (Tobias Roth)
- Fixed img.util.ExifData class to no longer set date to "1999-12-31" 
  when EXIF data does not contain a date
  (friebe)
  

Version 5.7.3, released 2009-06-08
----------------------------------
SVN version: 13125

Heads up!
~~~~~~~~~
- Changed text.doclet.Doclet::start() to be abstract
  (friebe)
- Removed webservices.soap.transport.SOAPHTTPSTransport - the transport
  class SOAPHTTPTransport can handle this already
  (hinckel)
- Replaced all base RPC webservice transport classes with newly created
  scriptlet.rpc.transport.AbstractRpcTransport class
  (hinckel)
- Rewrote FTP API to no longer depend on ext/ftp
  http://news.xp-framework.net/article/298/2009/05/17/
  (friebe)
- Made scriptlet.xml.workflow.checkers.ParamChecker and 
  scriptlet.xml.workflow.casters.ParamCaster abstract.
  (kiesel)
- Deprecated global constants in scriptlet.xml.XMLScriptletResponse
  in favor of class constants
  (kiesel)
- Deprecated HTTP_* constants, use peer.http.HttpConstants class 
  constants instead.
  (kiesel)
- Removed net.xp_framework.website from ports (now resides in xpadmin
  repository, web/src)
  (friebe)
- Modified package mapping to also work from client to server in 
  remote.protocol.Serializer
  (gelli)

Bugfixes
~~~~~~~~
- Fixed JSONDecoder unserialization for objects having __wakeup() method
  declared (e.g. util.Date)
  (hinckel)
- Made JSONClient work again by using JsonRequestMessage::create() instead
  of JsonMessage::createCall() function when invoking RPC
  (hinckel)
- Fixed GenericHttpTransport (which is not JsonRpcHttpTransport) to work
  with "new" HttpConnection and HttpRequest object (see RFC #0162)
  (hinckel)
- Fixed image tags parsing in text.doclet.markup API for multiple 
  adjacent images
  (friebe)
- Fixed lang.reflect.Constructor::newInstance() check on instantiating
  an abstract class
  (kiesel, friebe)
- Fixed webservices.soap.xp.XPSoapNode class to not fatal when
  serializing stdClass objects.
  (kiesel)
- Fixed com.microsoft.com.COMObject class to work with PHP5 COM
  (friebe)
- Fixed lang.XPClass::getSimpleName() cutting off first character when 
  class name is unqualified
  (friebe)
- Fixed class names for soap generator
  (wagner)
- Fixed endless recursion in text.util.RandomCodeGenerator class
  (kiesel, Tom Geiger)
- Fixed text.util.RandomCodeGenerator not being able to generate codes
  longer than 44 characters
  (friebe)
- Added fix to catch submission of malicious request data in 
  scriptlet.xml.XMLScriptletResponse.
  (kiesel)
- Fixed typo in security.crypto.PrivateKey class
  (Thomas Geiger, Tobias Roth, kiesel)

Features
~~~~~~~~
- Extended doclet command to be able to work with .xar files
  http://news.xp-framework.net/article/300/2009/06/07/
  (friebe)
- Added usage to the doclet command.
  (friebe)
- Added support for package names as arguments to doclets, where lang.*
  will expand to all classes inside the lang package, and lang.** to all
  classes inside lang and all subpackages
  (friebe)
- Changed text.doclet.TagletManager to process test tags via specialized 
  taglet
  (friebe)
- Added support for attributes to custom markup processors in 
  text.doclet.markup API
  (friebe)
- Added text.spelling package and SpellChecker class based on ext/pspell
  http://news.xp-framework.net/article/297/2009/05/17/
  (friebe)
- Changed io.Folder constructor signature to (string|Folder [, string*])
  (friebe)
- Added a new soap type caster webservices.soap.types.SOAPDecimal
  (wagner)
- Added a new Caster that removes illegal control characters from input 
  strings scriptlet.workflow.casters.ToValidXMLString
  (toennishoff)
- made lang.XPClass support reflection for class constants
  (kiesel)
- org.bugzilla.gateway.BugMessage class now inhertits methods from
  peer.mail.MimeMessage class instead of peer.mail.Message class to
  support file attachments
  (toennishoff)
- Added a setBody() method to peer.mail.MimeMessage class to add more 
  compatibility to peer.mail.Message and to support older bedavior of
  org.bugzilla.gateway.BugMessage class
  (toennishoff)


Version 5.7.2, released 2009-03-27
----------------------------------
SVN version: 12947

Heads up!
~~~~~~~~~
- Removed xp-net.xp_framework-{VERSION}.xar from boot classpath. It is
  no longer required for runners, that's all in xp-tools-${VERSION}.xar.
  See http://news.xp-framework.net/article/290/2009/03/27/
  (friebe)

RFCs
~~~~
- Implemented RFC #0087 - Move class details information to ClassLoader
  (friebe)
- Implemented RFC #0174 - io.collections interface additions / io.streams 
  integration
  (friebe)
- Implemented RFC #0167 - RDBMS and Timezones
  (gelli)

Features
~~~~~~~~
- Added lang.Primitive::wrapperClass() method
  (friebe)
- Included type information in unittest.AssertionFailedError's message
  See http://news.xp-framework.net/article/291/2009/03/28/
  (friebe)
- Included prerequisites in unittest.PrerequisitesNotMetError's message
  (friebe)
- Added lang.reflect.Package::getSimpleName() which complements 
  lang.XPClass::getSimpleName()
  (friebe)
- Added util.log.StreamAppender to use streams as log appender
  (hinckel)
- Added io.streams.ChannelInputStream and io.streams.ChannelOutputStream 
  classes that read from / write to stdin, stdout and stderr
  (friebe)
- Made peer.ftp.FtpConnection constructor accept not only strings but also
  peer.URL objects - same as in peer.http.HttpConnection
  (friebe)
- Implemented feature suggested in bug #31 - Allow Numbers in Scriptlet
  States
  (friebe)
- Added io.collections.ArchiveCollection class to work with XARs
  (friebe)
- Added support for enums to the Remote API (EASC)
  See http://news.xp-framework.net/article/287/2009/01/28/
  (hinckel, friebe)
- Made lang.XPClass::isSubclassOf() accept not only a string with the 
  classname but also XPClass objects
  (friebe)

Bugfixes
~~~~~~~~
- Fixed XMLScriptletResponse::forwardTo() function to clear query and
  fraction value when not specified
  (kiesel)
- Fixed xp::stringOf() to not incorrectly detect recursion with objects 
  returning hashcodes which are very large numbers
  (friebe)
- Fixed dataset generator to use prefixed XML file names when accessing
  referenced tables for foreign keys
  (gellweiler, hinckel)
- Fixed WSDL code generator: replace "." with "_" and upper case first
  letter in generated class names
  (wagner, hinckel)
- Fixed org.fpdf.FPDF::writeCells() when writing justified cells
  (friebe, Tobias Roth, Thomas Geiger)
- Use "etc" directory as default configuration path for xpcli command
  (hinckel)
- Fixed rdbms.mysql.MySQLDBAdapter did not handle '"' quotes (bug #34)
  (wagner)
- Fixed util.Date::hashCode() returns timestamp now instead of object id.
  (wagner)
- Made /proc lookup inside lang.Process::getProcessById() work on 
  FreeBSD 7 - the link is /proc/$PID/file instead of /proc/$PID/exe
  (friebe, wagner)
- Fixed bug #33 - Parse error for comments having a line ending with "]" 
  (friebe)
- Fixed io.File::write() and io.File::writeLine() to throw an IOException
  if the underlying file handle has been closed
  (friebe)
- Fixed io.streams.FileInputStream and io.streams.FileOutputStream not 
  to close underlying file when they get garbage-collected.
  (friebe)
- Fixed remote interface mapping when creating the remote interface in the
  remote API
  (hinckel)
- Fixed util.Locale::setDefault() fatalling when the given locale does
  not exist (and while trying to throw an exception).
  (friebe)
- Fixed scriptlet.xml.XMLScriptletRequest not handling URLs handled
  by rewrite rules such as RewriteRule ^/category/([0-9]+)/.*$ /index.php 
  [E=PRODUCT:news,E=LANGUAGE:en_US,E=STATE:bycategory,E=CATID:$1,PT]
  (friebe)
- Fixed lang.Process thinking it would be able to execute directories 
  which would simply fail later on.
  (friebe)
- Fixed leftover of refactoring of peer.mail.MessagingAddress 
  interface in peer.mail.transport.SmtpTransport
  (gellweiler, reuter, kiesel)


Version 5.7.1, released 2009-01-23
----------------------------------
SVN version: 12768 

Heads up!
~~~~~~~~~
- Deprecated SOAP_ACTION_* global constants in 
  webservices.soap.transport.SOAPHTTPTransport class in favor of
  class constants in same class.
  (kiesel)

RFCs
~~~~
- Implemented RFC #0176 - Scriptlet URL handler classes
  (hinckel)

Bugfixes
~~~~~~~~
- Fixed net.xp_framework.unittest.bootstrap package to work with paths
  with spaces inside
  (friebe)
- Fixed peer.ftp.DefaultFtpListParser to return correct dates for entries
  listed with compact format ("Apr 4 20:16" instead of "Apr 4 2009")
  (friebe, hinckel)
- Fixed io.File's members filename, dirname and extension being set from
  original URI instead of resolved one
  (friebe)
- Fixed bug #30 - recursive class loading in static initializer 
  (friebe)
- Fixed error in rdbms.sybase.SybaseDialect, the cast SQL function had 
  flipped arguments.
  (wagner)
- Set default encoding in JsonMessage to UTF-8 since JsonEncoder/
  JsonDecoder always encodes stuff in UTF-8
  (hinckel)
- Fixed WebdavClient::put() method to explicitely pass a RequestData 
  object to HttpConnection's put() method
  (hinckel)

Features
~~~~~~~~
- Added support to unittest command to run all non-abstract TestCase
  classes inside a package (e.g. unittest my.package.name.*')
  (friebe)
- Added -e option to unittest command to evaluate assertions directly 
  from the command line (e.g. unittest -e '$this->assertTrue(TRUE);')
  (friebe)
- Increased verbosity in unittest.TestCase's methods assertClass() and 
  assertSubclass() in case given variable is not instanceof Generic
  (friebe)
- Changed lang.Thread to not forget process id of forked children after
  it has been stopped or exited
  (kiesel, friebe)


Version 5.7.0, released 2008-11-24
----------------------------------
SVN version: 12656

Heads up!
~~~~~~~~~
- Deprecated util.cmd.Runner class, this is now in xp.command in the 
  tools-xar (part of RFC #0173 implementation)
  (friebe)
- Removed class util.profiling.ClassProfiler
  (kiesel)
- Deprecated LOGGER_* global constants in util.log.LogCategory in favor
  of class constants in util.log.LogLevel
  (friebe)
- Deprecated HTTP_* global constants in peer.http.HttpConstants in favor
  of class constants
  (friebe)
- Removed package util.io and class util.io.VirtualFileManager and
  io.EmbeddedFile
  (kiesel)
  
RFCs
~~~~
- Implemented RFC #0173 - xp-tools.xar
  (friebe)
- Implemented RFC #0164 - Exceptions for XPClass::get*()
  (friebe)

Bugfixes
~~~~~~~~
- Fixed img.util.ExifData::flashUsed() method
  (friebe)
- Fixed unittest.AssertionFailedError not to hide the actual location
  in the stacktrace.
  (friebe)
- Made message part optional in HTTP status response when parsing it in
  peer.http.HttpResponse::readHeader()
  (hinckel)
- Fixed functionality of peer.ldap.LDAPQuery::getAttrsOnly()
  (wagner)

Features
~~~~~~~~
- Switched from is_callable() to method_exists() in classloading parts 
  of the core for performance reasons.
  (friebe)
- Added support for io.streams API to StreamReader and StreamWriter
  from the img.io package (keeping backwards compatibility)
  http://news.xp-framework.net/article/279/2008/10/21
  (friebe)
- Added peer.ftp.collections package - bridge between peer.ftp and 
  io.collections
  (friebe)
- Added lang.XPClass::getSimpleName() 
  (friebe)
- Made multiple forward-compatibility related adjustments
  (friebe, kiesel)
- Added peer.ldap.LDAPQuery::setAttrsOnly()
  (wagner)


Version 5.6.9, released 2008-09-03
----------------------------------
SVN version: 12451

Heads up!
~~~~~~~~~
- Removed disfunctional unittest.coverage package
  (friebe)
- Deprecated lang.Collection class - Use lang.types.ArrayList or the 
  classes from util.collections instead
  (friebe)
- Deprecated util.DateInterval in favor util.TimeInterval
  (friebe)

RFCs
~~~~
- Implemented RFC #0171 - Rename util.DateInterval class
  (friebe)
- Implemented RFC #0169 - New package unittest.web
  (friebe)

Bugfixes
~~~~~~~~
- Fixed text.encode.QuotedPrintable to encode question marks
  (treuter)
- Fixed lang.types.Number::equals() to return false for different types
  with same values (new Integer(1)->equals(new Long(1)) no longer yields
  TRUE now).
  (friebe)
- Made util.DateMath::diff() produce correct results (fixed segfault
  for PHP 5.2.6).
  (kiesel)

Features
~~~~~~~~
- Added util.collections.Arrays class: extension methods and bridging
  between lang.types and util.collections.
  (friebe)
- Added annotation accessors to lang.reflect.Field: hasAnnotation(),
  getAnnotation(), hasAnnotations(), getAnnotations()
  (friebe)
- Added XML declaration to debug output at sapi scriptlet.development
  (kiesel)
- Moved xml.wsdl to net.xp_framework.wsdl; this package only contained
  wsdl.xsl - so no code affected.
  (kiesel)


Version 5.6.8, released 2008-08-03
----------------------------------
SVN version: 12409

Heads up!
~~~~~~~~~
- Completely refactored the peer.http API to be able to nicely 
  implement RFC #0162.
  (friebe)
- HttpConnection::put() method explicitely required now a RequestData
  object as argument to upload a file, instead of just passing the data
  string
  (hinckel)

RFCs
~~~~
- Implemented RFC #0162: HTTP proxy
  (friebe)

Bugfixes
~~~~~~~~
- Fixed peer.ftp API to be able to cope with numerous FTP servers
  (friebe)
- Fixed fatal error when XPClass::isEnum() had been used before
  lang.Enum has actually been loaded
  (kiesel)
- Fixed off-by-one error when reading chunked http response bodies and
  added a unittest for this
  (kiesel, hinckel)
- Added missing function rdbms.Peer::getTable() which is used in
  rdbms.DataSet class
  (hinckel)
- Made lang.ClassLoader::loadClass() raise a ClassFormatException in
  case the included file does not declare the class.
  (friebe)

Features
~~~~~~~~
- Added lang.reflect.Field::set() method
  (friebe)
- Made peer.Socket instances cloneable
  (friebe)
- Made peer.URL constructor parameter optional
  (friebe)
- Extended util.MimeType class to include types for various programming
  languages.
  (friebe)
- Added 503 error page to scriptlet SAPI
  (friebe)
- Added pushBack() method to text.Tokenizer class and its implementations
  (friebe)


Version 5.6.7, released 2008-06-09
----------------------------------
SVN version: 12285

Heads up!
~~~~~~~~~
- Deprecated xml.XML class
  (friebe)

RFCs
~~~~
- Implemented RFC #0166: XP Runners
  (friebe)
- Implemented RFC #0165: New text.regex package
  (friebe)
- Implemented RFC #0163: Respect ANSI SQL in rdbms package
  (kiesel)
- Implemented RFC #0157: Make product, language and session optional 
  URL parts
  (kiesel)
  
Bugfixes
~~~~~~~~
- Fixed FtpConnection::getDir() function by passing FTP connection object
  to FtpDir constructor
  (hinckel)
- Fixed _recurseData() in XPSoapMessage to handle arrays vs. objects
  correctly
  (hinckel)
- Made HttpScriptlet::process() rethrow HttpScriptletExceptions as-is,
  while any other exception is wrapped into a HttpScriptletException.
  (friebe).
- Fixed bug when scriptlet.xml.workflow.casters.ToDate accepted an
  abbreviated date, interpreted it as a time and used the
  current date with given time instead the given date
  (kiesel)
- Fixed session id initialization in XMLScriptletRequest::initialize()
  (hinckel)
- Fixed rdbms.Record::set() method
  (Michael Bayer, kiesel)

Features
~~~~~~~~
- Added lang.Process::newInstance() method
  http://news.xp-framework.net/article/258/2008/05/28/New_Process
  (friebe)
- Added " @ {host}" to rdbms.SQLConnectionClosedException's message
  (friebe)
- Changed XAR file format (BC-break-free) to be less memory-consuming,
  platform-independent and get rid of original filename junk
  (friebe)
- Added a parameter "bool append" (defaulting to FALSE) to 
  io.streams.FileOutputStream's constructor
  (friebe)
- Made io.streams.FileInputStream and io.streams.FileOutputStream's
  constructors accept either an io.File or a string with the filename
  (friebe)
- Added syntactical support in text.doclet.markup API for ordered and
  unordered lists.
  (friebe)


Version 5.6.6, released 2008-04-23
----------------------------------
SVN version: 12077

Heads up!
~~~~~~~~~
- Changed xpcli / util.cmd.Runner argument passing - argv[0] should not be
  passed to Runner::main()
  (friebe)
- Deprecated addMinutes(), addHours(), addDays() methods in util.TimeSpan
  (gellweiler)
- Backwards incompatible changes in lang.reflect package
  http://news.xp-framework.net/article/240/2008/03/08/BC
  (friebe)
- Removed deprecated lang.reflect.Argument class and corresponding 
  methods in lang.reflect.Routine
  (friebe)

RFCs
~~~~
- Implemented RFC #0160: xml.IXSLProcessor::setXMLTree() / setXSLTree()
  (friebe)
- Implemented RFC #0156: Constructor::newInstance()
  (friebe)
- Implemented RFC #0155: lang.reflect.Routine::getReturnType(): Type 
  instead of string
  (friebe)
- Implemented RFC #0148: Bytes type
  (friebe)

Bugfixes
~~~~~~~~
- Made xarloader::acquire() throw a lang.FormatException in case the
  given file is not a valid XAR archive
  (friebe)
- Fixed bug #28 - MySQLConnection does not honor Port given in DSN
  (Martin Contento, friebe)
- Fixed util.Date's constructor with timestamps
  (doebele, kiesel)
- Fixed wrong date creation in util.Message which created wrong sending
  dates
  (hinckel)
- Fixed newinstance() and create() for fully qualified classes
  (friebe)
- Fixed xml.DomXSLProcessor to produce meaningful error messages in
  case a transformation failed
  (kiesel)
- Fixed text.doclet.markup API to handle sourcecode, preformatted text
  ordered and unordered lists correctly
  (friebe)
- Added mapping for field type double to rdbms.mysql.MySQLDBAdapter
  (hinckel)
- Fixed problems with percent sign (%) substitution in RDBMS API when
  using Criteria or Statement class
  (hinckel)
- Fixed unittest.TestSuite to not report errors if a previously run
  test's setUp() routine failed.
  (friebe)
- Fixed util.Properties::readBool() to return TRUE if any of "1", "yes",
  "true" or "on" is given (see bug #26)
  (friebe)
- Fixed lang.Process to not throw exceptions if non-qualified command
  is given (e.g. new Process('ssh')) by resolving PATH environment
  (friebe)
- Fixed problem with xpcli -c / -cp option conflicting with the run 
  Command class' -c / -cp options
  (friebe)
- Fixed HttpScriptletRequest::getData never read from php://input
  (wagner)

Features
~~~~~~~~
- Added lang.ClassLoader::getLoaders()
  (friebe)
- Made lang.ClassLoader::registerPath() throw an exception in case
  the given path does not exist
  (friebe)
- Made lang.base.php use PHP_INT_MAX for LONG_MIN / LONG_MAX values 
  instead of calculating it manually. Saves on function call.
  (friebe)
- Added security.password package
  (friebe)
- Added ENUM class type to text.doclet API - ClassDoc::isEnum() will return
  true and ClassDoc::classType() will yield ENUM_CLASS if this classdoc 
  object represents a subclass of lang.Enum.
  (friebe)
- Added containingPackage() and contains() methods to PackageDoc class
  (friebe)
- Made io.File constructor accept (string, string) and (Folder, string)
  See http://news.xp-framework.net/article/241/2008/03/24/io.File
  (friebe)
- QA work: Completed / updated apidocs in multiple places
  (friebe)
- Added util.TimeSpan::add(), util.TimeSpan::subtract() methods
  (gellweiler, friebe)
- Added static seconds(), minutes(), hours(), days() and weeks() to
  util.TimeSpan
  (gellweiler, friebe)
- Added rdbms.DBTableAttribute::getLength() accessor - add this 
  information to XML generated from databases via DBXmlGenerator
  (Martin Contento, friebe)
- Added SQL function to week() to extrakt the "week of year" from a
  date field
  (wagner)


Version 5.6.5, released 2007-02-04
----------------------------------
SVN version: 11747

Heads up!
~~~~~~~~~
- Removed deprecated lang.reflect.Argument::isPassedByReference() method
  (friebe)
- Changed cast() core functionality to no longer change the object given,
  throw a lang.ClassCastException in case of errors, throw a 
  lang.ClassNotFoundException in case the given type does not exist,
  no longer support primitives (will result in a lang.IllegalArgumentException)
  and to return xp::null() if NULL is given
  (friebe)

RFCs
~~~~
- Implemented RFC #0152: Arguments vs. Parameters
  (friebe)
- Implemented RFC #0153: HTTP protocol versions
  (friebe)
- Implemented RFC #0151: Runtime class
  (friebe)
- Implemented RFC #0150: Before and after methods for testcases
  (friebe)
- Implemented RFC #0010: Type casts
  (friebe)

Bugfixes
~~~~~~~~
- Fix double utf8 decode in SOAPHTTPTransport::retrieve() by ignoring the
  Content-Type header (XMLParser already determines the encoding and uses
  ISO-8859-1 as default output encoding)
  (hinckel, kiesel)
- Added "static" keyword to System::putEnv() und System::getEnv()
  (hinckel)
- Ensured arguments passed to XSL callbacks are utf8_decode()d and return 
  values are utf8_encode()d
  (friebe)
- Fixed peer.ftp.FtpFile not reloading file details (size, date, permissions,
  ...) after a successfull upload
  (friebe)
- Fixed peer.ftp.FtpDir::findEntry() 
  (gellweiler, kiesel)
- Fixed FTP server API to parse parameters to NLST correctly and report
  directories as single entities if "-d" is given in NLST and LIST
  (gellweiler, friebe)
- Fixed lang.reflect.Proxy to add type hints to generated methods
  (friebe)

Features
~~~~~~~~
- Added "-cp" command line option to xpcli which will add XAR files and
  directories given to it to the classpath
  (friebe)
- Added lang.ClassLoader::registerPath() method
  (friebe)
- Added util.collections.Vector::addAll() method
  (friebe)
- Added optional parameter "hinted" to lang.reflect.Argument::getType()
  with which one can retrieve the type hint's type name.
  (friebe)
- Added lang.reflect.Argument::getDefaultValue() method. In contrast to 
  getDefault() it returns the value as-is (not as a string)
  (friebe)


Version 5.6.4, released 2007-12-25
----------------------------------
SVN version: 11651

Heads up!
~~~~~~~~~
- Removed deprecated rdbms.Criteria::newInstance() method
  (friebe)
- Removed deprecated lang.reflect.Routine::returnsReference() method
  (friebe)
- Refactored unittest.TestSuite/unittest.TestCase for added listener API.
  With these changes, test cases cannot be run on their own but must always
  be added to a suite before - it can run single tests via runTest()
  (friebe)
- An implementation of scriptlet.rpc.AbstractRpcRequest::getMessage()
  must set the message's encoding on it's own now, the router does
  not do this anymore
  (kiesel)
- Removed constant SKELETON_PATH
  (friebe)
- Changed stack trace elements generated from PHP error message to no 
  longer contain the class. The filename cannot really be translated to 
  the fully qualified class name in a consistent *and* fast-enough manner
  (friebe)
- Made util.Properties::fromFile() throw an IOException when the given
  file cannot be read
  (friebe)
- Deprecated lang.archive.ArchiveReader in favor of lang.archive.Archive
  http://news.xp-framework.net/article/226/2007/12/11/ArchiveReader_deprecation
  (friebe)

RFCs
~~~~
- Implemented RFC #0145: Make unittests strict
  (friebe, kiesel)

Bugfixes
~~~~~~~~
- Fixed util.collections.HashSet::addAll() to not change the list if one
  of the array elements is of invalid type
  (friebe)
- Fixed lang.reflect.Routine::getExceptionTypes() always throwing exceptions.
  (friebe)
- Fixed lang.Primitive::boxed() for NULL values
  (friebe)
- Fixed a bug in peer.ldap which occurred when the size-limit for the results
  was exceeded.. 
  (hinckel, doebele)
- Fixed webservices.soap API to fix problem with SOAP clients that send 
  UTF-8 encoded values
  (kiesel)
- Fixed webservices.soap API to properly read timezone from serialized
  SOAP dateTime values and also pass timezone information
  (kiesel)
- Fixed util.Properties class to throw IOExceptions in case the ini file
  cannot be read
  (friebe)
- Fixed lang.archive.ArchiveClassLoader::providesPackage() method
  (friebe)
- Fixed rdbms.util.DBXmlGenerator::getSource() - (bug #25)
  (friebe)
- Fixed security.cert.X509Certificate::getSubjectDN() and
  security.cert.X509Certificate::getIssuerDN() to decode DNs correctly
  (friebe)
- Fixed notices and warnings in various places (E_ALL conformance).
  (friebe)

Features
~~~~~~~~
- Changed raise() functionality to support more than one argument to be
  passed to exception's constructor via varargs
  (kiesel, friebe)
- Made rdbms.DriverManager::register() throw an IllegalArgumentException
  when an incorrect driver class was given
  (friebe)
- Improved performance of lang.types.ArrayList::equals() method
  (friebe)
- Improved performance of XPClass::getFields() and XPClass::getField()
  (friebe)
- Added API to listen to events during a unit test run
  (friebe)
- Made it possible to run multiple unittests at once with the
  unittest cli runner - see "unittest -?" for examples.
  (friebe)
- Added option to choose target encoding in xml.parser.XMLParser with
  the setEncoding() method. Default encoding still is ISO-8859-1.
  (kiesel)
- Added 'd' (diff) instruction to xar command
  (kiesel)
- Added setters for all elements of an URL to peer.URL class
  (kiesel)
- Added support for XARs inside XARs
  (friebe)
- Added lang.ClassLoader::removeLoader() method to complement its
  registerLoader() method.
  (friebe)
- Made lang.archive.ArchiveClassLoader use xar loader provided by
  lang.base.php instead of having to use an extra ArchiveReader class
  (friebe, kiesel)
- Improved performance of xml.XSLCallback class
  (friebe)
- Improved performance of XPClass::getMethods() / XPClass::getMethod() / 
  XPClass::hasMethod() and XPClass::getConstructor() / 
  XPClass::hasConstructor()
  (friebe)


Version 5.6.3, released 2007-11-9
----------------------------------
SVN version: 11393

Heads up!
~~~~~~~~~

RFCs
~~~~

Bugfixes
~~~~~~~~
- Fixed pre-fetching mode in peer.ldap-API
  (friebe, kiesel)
- Fixed scriptlet.xml.workflow.casters.ToDate which was accepting 
  when it encountered empty input (unittest said it shouldn't)
  (friebe)
- Fixed DomXSLProcessor::determineOutputEncoding() to handle absolute
  URIs in xsl:include/xsl:import hrefs correctly
  (friebe)
- Fixed DomXSLProcessor::determineOutputEncoding() to return the output
  encoding declared in imported XSL files using <xsl:import/>
  (friebe, hinckel)
- Fixed lang.ClassLoader::defineInterface() and defineClass() methods
  (kiesel)
- Fixed use of undefined variables in lang.Primitive,
  lang.types.ArrayList and lang.types.String
  (kiesel)
- Fixed LDAPClient::read() method
  (kiesel)
- Ports: Fixed Nagios Heartbeat adding two dots between unqualified host
  name and domain (e.g. example..1and1.com where example is the host name)
  (hinckel, doebele)

Features
~~~~~~~~


Version 5.6.2, released 2007-11-21
----------------------------------
SVN version: 11353

Heads up!
~~~~~~~~~
- Removed deprecated xml.XSLProcessor class
  (friebe)
- Changed img.util.IptcData::setDateCreated() to accept and 
  img.util.IptcData::getDateCreated() to return util.Date instances
  (friebe)
- The directories "experiments", "ports/dist" and several project-
  specific classes from ports/classes have been moved to the XPForge
  repository - http://xp-framework.info/xml/xp.en_US/news/view?217
  (friebe)

RFCs
~~~~
- Implemented RFC #0143: Image metadata API enhancements
  (friebe)
- Implemented RFC #0139: XPForge SVN
  (friebe, kiesel)
- Implemented RFC #0141: FTP Transfer listening
  (friebe)
- Implemented RFC #0142: I/O Streams to PHP streams wrapper
  (friebe)
- Implemented RFC #0140: FTP API enhancements
  (friebe)
- Implemented RFC #0138: Additional interceptor callbacks in 
  peer.ftp.server
  (gellweiler)

Bugfixes
~~~~~~~~
- Fixed peer.mail.Message which set the Date of the message via
  Date::now()->toString(). Since the default behaviour of toString
  was changed with the new date object this led to a non rfc-conform
  date in the mail header.
  (hinckel, doebele)
- Work around PHP bug #43206 by using date_time_set / date_date_set
  in util.DateUtil instead of Date::getTimeZone().
  (clang)
- Fix XPSoapMessage::_recurseData() to return array keys without ":" in
  case a namespace is included in node name
  (hinckel)
- Fixed xp::sapi() when using XAR-releases on Windows
  (friebe)
- Added support for field type tinytext, mediumblob and bit to
  rdbms.mysql.MySQLDBAdapter
  (wagner, hinckel)
- Ensured file is only then closed in io.streams.FileOutputStream's 
  destructor if it's still open
  (friebe)
- scriptlet.xml.workflow.casters.ToDate now uses the constructor of 
  the util.Date object for parsing the date string instead of 
  text.parser.DateParser. The DateParser led to erroneous results.
  (doebele)
- Fixed a bug which prevented dataset objects from joins to 
  build correctly
  (doebele)
- Fixed bug in parsing of keywords and supplementalCategories in 
  img.util.IptcData which would return only the first element
  (friebe)
- Fixed bug in peer.mail.store.ImapStore where one could not disable
  checking the validity of a certificate
  (doebele, kiesel)
- Fixed assumption of port numbers in peer.http.HttpRequest when no 
  port number is given.
  (friebe, gelli)
 
Features
~~~~~~~~
- Added tell() method to io.streams.Seekable interface and its
  implementations to complement seek()
  (friebe)
- Made XMLScriptlets use the XSL processor's output encoding in their
  Content-Type response header
  (friebe)
- text.parser.DateParser makes use of parser capabilities of php.DateTime
  (kiesel)
- util.Date objects preserve GMT offset after deserialization
  (kiesel, friebe, hinckel)
- added getOffset(), getOffsetInSeconds() methods to util.Date
  (kiesel)
- Extract FocalLength from EXIF data in img.util.ExifData class
  (friebe)
- Implemented peer.ldap.LDAPSearchResult in a way that will read
  incrementally instead of fetching everything when constructed
  (gellweiler)
- Ensured dateinterval type argument to DateMath::diff() is passed in 
  uppercase in XSL date callback
  (gellweiler)


Version 5.6.1, released 2007-09-25
----------------------------------
SVN version: 11068

Heads up!
~~~~~~~~~
- The serialization format of util.Date has changed along with
  RFC #0115 (see below).

RFCs
~~~~
- Implemented RFC #0115 - Make Date objects represent an instance in time
  (kiesel, friebe)
- Implemented RFC #0135 - Default callbacks for XSLT (2nd part)
  (kiesel)

Bugfixes
~~~~~~~~
- Fixed util.collections.HashSet iteration via foreach()
  (friebe)
- Reverted bugfix in text.CSVGenerator
  (kiesel)

Features
~~~~~~~~
- Made forward-compatible changes to core classes to ease migration to
  XP6 (which makes use of PHP namespaces, see RFC #0136)
  (friebe)
- Ports: new package org.cyrus - Cyrus IMAP admin functionality
  (kiesel)


Version 5.6.0, released 2007-08-29
----------------------------------
SVN version: 10991

Heads up!
~~~~~~~~~
- Generics create() syntax changes
  http://xp-framework.info/xml/xp.en_US/news/view?208
  (friebe)
- util.ChainedException is now lang.ChainedException
  http://xp-framework.info/xml/xp.en_US/news/view?209
  (friebe)

RFCs
~~~~
- Implemented RFC #0097 - TargetInvocationException
  (friebe)
- Implemented RFC #0132 - Enum support
  (friebe)
- Implemented RFC #0133 - Add support for filenames as argument for XPCLI
  (friebe)
- Implemented RFC #0135 - Default callbacks for XSLT
  (kiesel)
  
Bugfixes
~~~~~~~~~
- Fixed duplicate redirect in scriptlet API when used with sessions
  (friebe)
- Fix remote.protocol.Serializer bug in best mapping finding
  algorithm
  (Frank Kleine, kiesel)
- Fix deserialization of objects of XP types
  (kiesel)
- Fixed util.collections.HashTable::get(), ::remove() and ::containsKey()
  if used with generics / primitives
  (gellweiler, friebe)
- Fixed "Record is not compatible with DataSet" when using rdbms.Statement
  as criteria with doSelect() / iteratorFor()
  (wagner)

Features
~~~~~~~~
- Added new packaged remote.mappings for specialized Java classes
  (strobel)


Version 5.5.5, released 2007-07-19
----------------------------------
SVN version: 10833

- Fixed Dataset::insert() if object values contain % signs.
  (wagner)
- Made rdbms.DBConnection::addObserver() return the observer added
  (friebe)
- Added methods to LDAPClient to perform entry modifications at the 
  attribute level.
  (gelli)
- Implemented RFC #131 - SetOperation and Query
  (wagner)

Version 5.5.4, released 2007-07-09
----------------------------------
SVN version: 10764

- Unbreak peer.irc-API with PHP5
  (kiesel)
- Fix fatal error in XPClass::newInstance() when class represented is
  abstract or an interface - now throws lang.IllegalAccessExceptions
  (friebe)
- Changed EASC protocol representation of Enums (BC-break-free)
  (friebe)
- Added GIF support to org.fpdf.FPDF class' putImage() method
  (friebe)
- make util.cmd.Runner output errors and usage to STDERR
  (kiesel)

Version 5.5.3, released 2007-06-26
----------------------------------
SVN version: 10665

- Protect Base57 encoding and decoding against possibly inccorrect results 
  if EG(precision) is too small
  (friebe)
- Make socket_select() work properly when interrupted by signals
  (sperber)
- Fixed exception handler in SAPI soap.service
  (kiesel)
- Implemented sql function and projections for postgreSQL and sqllite
  (wagner)

Version 5.5.2, released 2007-06-15
----------------------------------
SVN version: 10632

- Fixed DomXSLProcessor's error handling only to throw exceptions for
  LIBXML_ERR_FATAL level
  (friebe, gellweiler)
- Improved performance of img.filter.ConvolveFilter - use builtin
  imageconvolution() function if available
- Fixed bug in io.sys.IPCQueue::removeQueue() which lead to the queue 
  not being removed
  (friebe)
- Implemented RFC #0130 - util.HashmapIterator returns values instead of keys
  (friebe)
- Made TransformerException's message more verbose in DomXSLProcessor 
  (friebe, gellweiler, clang)
- Implemented RFC #0096 - DataSet classes will be enhanced to know about 
  foreign keys (wagner)
- Implemented RFC #0123 - aggregate or cut down the query's resultset
  (wagner)
- Implemented RFC #0124 - SQL standard functions
  (wagner)
- Implemented RFC #0129 - join over multiple tables
  (wagner)

Version 5.5.1, released 2007-06-01
----------------------------------
SVN version: 10476

- Fixed bug #9 - peer.mail.InternetAddress not correctly encoding addresses
  (friebe)
- Fixed bug #8 - HttpRequest ignores QUERY_STRING
  (friebe)
- Fixed bug #14 - create empty Folder returns TRUE
  (friebe)
- Fixed bug #20 - util.collections.DJBX33AHashImplementation broken on 
  64 bit systems (resolved by using MD5HashImplementation)
  (friebe)
- Implemented RFC #0063: Unit test API cleanup
  (friebe)
- Implemented RFC #0031: Replace IntegerRangeChecker with NumberRangeChecker
  (friebe)
- Implemented RFC #0060: LDAPEntry::isA()
  (friebe)

Version 5.5.0, released 2007-05-21
----------------------------------
SVN version: 10411

- Implemented RFC #0128: webservices.xmlrpc handling of NULL
  (gellweiler)
- Fix fatal error when ext/soap is enabled (name clash for class SoapFault)
  (kiesel)
- Prevent error leaks from libxml in DomXslProcessor class
  (kiesel)
- Fix possible endless loop in util.HashmapIterator class
  (wagner)
- Implemented RFC #0126: rdbms.Column API
  (wagner)
- Added support for foreach() iteration to I/O collection iterator classes
  (friebe)
- Fix bug when class could not be found in bootstrapping
  (kiesel)
- Implemented RFC #0127: rdbms.Peer::getConnection()
  (friebe)
- Added new text.StreamTokenizer class
  (friebe)
- Implemented RFC #0121: Class loading revamp
  (friebe)
- Implemented RFC #0117: New Package class
  (friebe)
- Implemented RFC #0037: Ability to fully qualify class names
  (friebe)
- Implemented RFC #0125: Fluent interface for util.log.LogCategory
  (friebe)
- Add SQLiteDBAdapter class
  (kiesel)
- Fix several minor issues in SQLiteConnection class
  (kiesel)

Version 5.4.1, released 2007-05-04
----------------------------------
SVN version: 10196

- Fix bug with recursive uses() calls fatalling
  (friebe)
- Implemented RFC #0122 - Make handlers cancelable
  (kiesel)
- Implemented RFC #0106 - Array access / iteration / type boxing / generics 
  (friebe)
- Fix output of stacktraces in util.ChainedException
  (kiesel)
- Fix DomXSLProcessor's error handling by clearing the error stack when
  error was handled
  (hinckel)
- Implemented RFC #0120 - Console::$out and Console::$err
  (friebe)
- Properly detect identity columns in rdbms.sybase.SybaseDBAdapter
  (kiesel)
- Fixed bug with io.File when reading from zero-length files
  (kiesel)
- add @args annotation for util.cmd.Command scripts (fixes bug #23)
  (friebe, kiesel)
- fix extraction of .xar files on Windows (fixes bug #22)
  (friebe)

Version 5.4.0, released 2007-04-18
----------------------------------
SVN version: 10031

- Implemented RFC #0113 - Include PHP5 SOAP extension
  (kiesel, rene)
- Implemented RFC #0118 - Exceptions for missing token values in 
  StatementFormatter
  (friebe)
- Implemented RFC #0081 - new lang.Runnable interface
  (friebe)
- Fixed rdbms.StatementFormatter class when given an array of objects
  to format, e.g. array(Date::now(), DateUtil::addDays(Date::now(), 1)).
  In certain situations, this would even cause segmentation faults!
  (friebe)

Version 5.3.2, released 2007-04-01
----------------------------------
SVN version: 9830

- Implemented RFC #0111 - Remove "util" and "ext"
  (friebe)
- Implemented RFC #0116 - Ports infrastructure: Technologies and packages
  (friebe, kiesel)
- Added support for XML namespaces to xml.meta Marshaller / Unmarshaller
  (friebe)
- Fixed peer.mail.store.CclientStore (ext/imap wrapper) implementation 
  which was broken due to PHP5 BC breaks
  (friebe)
- Implemented RFC #0112 - HttpScriptletException inherits ChainedException
  (kiesel)
- Implemented RFC #0110 - RemoteStackTraceElement
  (friebe)
- Fix error "Call to protected method SOAPNode::_recurse()" in class
  SOAPHashMap
  (clang, hinckel)

Version 5.3.1, released 2007-02-27
----------------------------------
SVN version: 9510

- Fixed header handling for multiple headers with same name in scriptlet API 
  (gelli)
- Changed various classes to use type hints instead of manual instanceof/
  IllegalArgumentException code
  (friebe)
- Improve DomXSLProcessor's error handling
  (kiesel)
- Fix FTP directory listing in FtpConnectionListener to display centure
  correctly
  (hinckel)
- Adapt xml.meta.Unmarshaller::contentOf() to new DOM API of PHP5 to handle
  "pass" attribute in "xmlmapping" annotation correctly
  (hinckel, strobel)
- Fix unbuffered queries on MySQLConnections
  (gelli)
- Fix copy and unset of duplicate subjects in MailTransport
  (clang)
- FTP server can intercept CWD calls
  (kiesel, hinckel)

Version 5.3.0, released 2007-02-01
----------------------------------
SVN version: 9422

- Make xpcli show self-usage if invoked without any arguments
  (friebe)
- Implemented RFC #0100 - IllegalArgumentException for Type hints
  (friebe)
- Made VCalendar API in the org.imc-package work with Microsoft Outlook
  (doebele)
- Add ability to use log=<category> in the Remote DSN for logging
  in the same it is done in database connection DSNs
  (hinckel)
- Changed lang.reflect.Argument::isOptional() to also work when no 
  apidoc comment exists.
  (friebe)
- Added support for ENUM type to MySQLDBAdapter
  (friebe, doebele)
- Implemented RFC #0069 - EASC server in php
  (gelli)
- Implemented RFC #0076 - Transfer exception cause, on the PHP server 
  side (previously only implemented in PHP client and Java server)
  (friebe)
- Fixed peer.mail.store.ImapStore::_supports() method
  (kiesel)
- Fixed peer.mail.transport.SmtpTransport class
  (doebele)
- Implemented RFC #0099 - New rdbms.finder API
  (friebe)

Version 5.2.0, released 2007-01-17
----------------------------------
SVN version: 9322

- Replace deprecated is_a() with instanceof operator in core
  (kiesel)
- Made rdbms.Criteria usable in a fluent interface way
  (e.g. $c= Criteria::newInstance()->add('bz_id', 500, EQUAL)->add(...);
  (friebe)
- Implemented RFC #0107 (Generic acccess to rdbms.Peer/rdbms.DataSet)
  (friebe)
- Use stream wrapper loading for loadClass() in class
  lang.archive.ArchiveClassLoader
  (kiesel)
- Implemented RFC #0083: Define classes through stream wrappers
  (kiesel)
- Deprecated xml.XSLProcessor - use xml.DomXSLProcessor instead
  Sablotron was removed from ext in PHP5 (in Version 5.0.0 Beta 1
  on 29-Jun-2003, ChangeLog states: "Completely Overhauled XML 
  support ... Moved the old DOM-XML and XSLT extensions to PECL")
  Neither PECL nor PECL4Win show any trace of ext/xslt extension 
  anymore, though.
  (friebe)
- Changed xml.XMLScriptlet to use xml.DomXSLProcessor
  (friebe)

Version 5.1.2, released 2007-01-10
----------------------------------
SVN version: 9224

- Made rdbms.DataSet class abstract
  (friebe)
- Fix static initializer not being called for classes loaded via 
  uses wrapper 
  (friebe)
- Implemented RFC #0105: Package-Info
  (friebe)
- Fix setBase() when working with in-memory stylesheets
  (clang)
- Fix "Static function DataSet::getPeer() should not be abstract"
  in rdbms.DataSet
  (friebe)

Version 5.1.1, released 2007-01-04
----------------------------------
SVN version: 9114

- Make arbitrary request headers available in CGI sapi
  (kiesel)
- Implement more stream wrapper functions in XpXarLoader, providing a
  more complete stream wrapper support (file_exists now works)
  (kiesel)
- Fix addRecipient() method in peer.mail.Message
  (kiesel)
- Make xml.DomXSLProcessor::setBase() work again
  (kiesel)
- Show class' apidoc comment in xpcli --help|-?
  (friebe)
- Added lang.XPClass::getComment()
  (friebe)
- Added lang.reflect.Field::getModifiers()
  (friebe)
- Added lang.reflect.Modifiers utility class
  (friebe)
- Made CLI sapi print uncaught exceptions to STDERR
  (friebe)
- Made Doclet API parse XP5 syntax
  (friebe)
- Exclude replication tables from SybaseDBAdapter::getTables()
  (friebe)
- Implemented RFC #0104: Add XSLCallback class and provide support 
  for calling PHP functions from within XSL
  (kiesel)

Version 5.1.0, released 2006-12-28
----------------------------------
SVN version: 9007

- Implemented RFC #0103: Coding standards adjustements for XP5
  (friebe)
- Implemented RFC #0102: XP Class Runner
  (friebe)
- Implemented RFC #0088: Streams API
  (friebe)
- Updated SQLite class to use StatementFormatter
  (kiesel)
- Added webservices.soap.types.SOAPDouble class
  (strobel)
- Fixed util.Properties to return an empty array from readArray()
  for an empty string such as values=""
  (friebe)
- Fixed Java Webstart example to work with URLs containing query string
  arguments
  (friebe)

Version 5.0.0, released 2006-12-21
----------------------------------
SVN version: 8943

- fix reflection for classes from .xars
  (kiesel)
- implemented RFC #0092 (migrated to PHP5)
  (all)
  
Version 4.1.3, released 2006-12-18
----------------------------------
SVN version: 8875

- Fix (De-)Serializer bug in remote package
  (kiesel)
- Add SQLConnectionClosedException in rdbms package for mysql
  (gelli)
- Fix several bugs in DBAdapter API
  (rene)
- Add method hasProperties() to util.PropertyManager
  (friebe)
  
Version 4.1.2, released 2006-12-05
----------------------------------
SVN version: 8753

- Implemented RFC #0090 - "Refactor remote.protocol.Serializer"
  (friebe)
- Added setConnectTimeout() to peer.http.HttpConnection
  (kiesel)


Version 4.1.1, released 2006-11-28
----------------------------------
SVN version: 8688

- Fixed xp::sapi() to correctly load sapis from XARs.
  (kiesel)

- Build stacktrace elements in toString() output in a more
  defensive way. In cases where exceptions are thrown, arguments 
  of a function call in the debug_backtrace() array might already
  be destructed and their types are no longer known. The builtin
  gettype() function can handle those.
  Just casting those arguments to string will result in memory overflow
  fatal errors or segfaults like these:
  FATAL:  emalloc():  Unable to allocate 3238256257 bytes
  (kiesel)


Version 4.1.0, released 2006-11-27
----------------------------------
SVN version: 8679

- Implemented RFC #0080 - "Anonymous class creation"
  (friebe)
  

Version 4.0.0, released 2006-11-20
----------------------------------
SVN version: 8506

- Implemented RFC #0084 - "Packages cleanup"
  (friebe)
