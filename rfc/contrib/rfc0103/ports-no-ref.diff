Index: ports/classes/name/kiesel/pxl/unittest/UnmarshallingTest.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/unittest/UnmarshallingTest.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/unittest/UnmarshallingTest.class.php	(working copy)
@@ -56,7 +56,7 @@
      */
     #[@test]
     public function loadCatalogue() {
-      $catalogue= &Catalogue::create(new MemoryContainer(
+      $catalogue= Catalogue::create(new MemoryContainer(
         '<?xml version="1.0"?>
         <catalogue>
           <entry id="1" name="foo" path="bar"/>
@@ -112,7 +112,7 @@
      */
     #[@test]
     public function loadPage() {
-      $page= &Page::create(new MemoryContainer(
+      $page= Page::create(new MemoryContainer(
         '<?xml version="1.0"?>
         <page>
           <description>
@@ -141,7 +141,7 @@
      */
     #[@test]
     public function loadPicture() {
-      $picture= &Picture::create(new MemoryContainer(
+      $picture= Picture::create(new MemoryContainer(
         '<?xml version="1.0"?>
         <picture>
           <name>Foobar</name>
Index: ports/classes/name/kiesel/pxl/Picture.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/Picture.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/Picture.class.php	(working copy)
@@ -28,8 +28,8 @@
      * @param   
      * @return  
      */
-    public function setStorage(&$storage) {
-      $this->storage= &$storage;
+    public function setStorage($storage) {
+      $this->storage= $storage;
     }
     
     /**
@@ -50,11 +50,11 @@
      * @param   
      * @return  
      */
-    public function &create(&$storage) {
+    public function create($storage) {
       $data= $storage->load('picture');
       if (!$data) return NULL;
       
-      $c= &Unmarshaller::unmarshal($data, 'name.kiesel.pxl.Picture');
+      $c= Unmarshaller::unmarshal($data, 'name.kiesel.pxl.Picture');
       $c->setStorage($storage);
       return $c;
     }
@@ -88,8 +88,8 @@
      * @param   &lang.Object date
      */
     #[@xmlmapping(element= 'date')]
-    public function setDate(&$date) {
-      $this->date= &Date::fromString($date);
+    public function setDate($date) {
+      $this->date= Date::fromString($date);
     }
 
     /**
@@ -99,7 +99,7 @@
      * @return  &lang.Object
      */
     #[@xmlfactory(element= 'date')]
-    public function &serializeDate() {
+    public function serializeDate() {
       if (!$this->date) return NULL;
       return $this->date->toString('Y-m-d H:i:s');
     }
@@ -133,8 +133,8 @@
      * @param   &lang.Object filename
      */
     #[@xmlmapping(element= 'filename')]
-    public function setFilename(&$filename) {
-      $this->filename= &$filename;
+    public function setFilename($filename) {
+      $this->filename= $filename;
     }
 
     /**
@@ -144,7 +144,7 @@
      * @return  &lang.Object
      */
     #[@xmlfactory(element= 'filename')]
-    public function &getFilename() {
+    public function getFilename() {
       return $this->filename;
     }
 
@@ -158,7 +158,7 @@
     public function toXml() {
       $filename= $this->storage->getBase().'/'.$this->getFilename();
       try {
-        $exif= &ExifData::fromFile(new File($filename));
+        $exif= ExifData::fromFile(new File($filename));
       } catch (ImagingException $e) {
         $exif= NULL;
       }
Index: ports/classes/name/kiesel/pxl/Page.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/Page.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/Page.class.php	(working copy)
@@ -33,7 +33,7 @@
      * @return  
      */
     public function __construct() {
-      $this->pictures= &Collection::forClass('name.kiesel.pxl.Picture');
+      $this->pictures= Collection::forClass('name.kiesel.pxl.Picture');
     }
 
 
@@ -53,7 +53,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getComments() {
+    public function getComments() {
       return $this->comments;
     }
 
@@ -63,7 +63,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getTrackbacks() {
+    public function getTrackbacks() {
       return $this->trackbacks;
     }
 
@@ -74,12 +74,12 @@
      * @param   
      * @return  
      */
-    public function &create(&$storage) {
+    public function create($storage) {
       $data= $storage->load('page');
       if (!$data) return NULL;
       
-      $page= &Unmarshaller::unmarshal($data, 'name.kiesel.pxl.Page', array(
-        'storage' => &$storage
+      $page= Unmarshaller::unmarshal($data, 'name.kiesel.pxl.Page', array(
+        'storage' => $storage
       ));
       $page && $page->setStorage($storage);
       return $page;
@@ -103,8 +103,8 @@
      * @param   
      * @return  
      */
-    public function setStorage(&$storage) {
-      $this->storage= &$storage;
+    public function setStorage($storage) {
+      $this->storage= $storage;
     }    
     
     /**
@@ -173,7 +173,7 @@
      * @return  
      */
     #[@xmlmapping(element= 'picture', class= 'name.kiesel.pxl.Picture')]
-    public function addPicture(&$p) {
+    public function addPicture($p) {
       $this->pictures->add($p);
     }
     
@@ -201,7 +201,7 @@
       $n->addChild(new Node('description', new PCData($this->description)));
       
       for ($i= 0; $i < $this->pictures->size(); $i++) {
-        $p= &$this->pictures->get($i);
+        $p= $this->pictures->get($i);
         $n->addChild($p->toXml());
       }
       
Index: ports/classes/name/kiesel/pxl/scriptlet/state/StaticState.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/state/StaticState.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/state/StaticState.class.php	(working copy)
@@ -22,12 +22,12 @@
      * @param   
      * @return  
      */
-    public function process(&$request, &$response) {
-      $pm= &PropertyManager::getInstance();
-      $prop= &$pm->getProperties('site');
+    public function process($request, $response) {
+      $pm= PropertyManager::getInstance();
+      $prop= $pm->getProperties('site');
       
       $response->addFormResult(Node::fromArray($prop->readSection('site'), 'config'));
-      $c= &$this->_getCatalogue();
+      $c= $this->_getCatalogue();
       
       // Position defaults to last entry
       $position= $c->entries->size()- 1;
@@ -41,18 +41,18 @@
         $position= $index- 1;
       }
       
-      $entry= &$c->entries->get($position);
+      $entry= $c->entries->get($position);
       if (!$entry) return;
-      $page= &$this->_getPage($entry->getPath());
+      $page= $this->_getPage($entry->getPath());
       
       $response->addFormResult(Node::fromObject($entry, 'current'));
       if ($position > 0) {
-        $prev= &$c->entries->get($position- 1);
+        $prev= $c->entries->get($position- 1);
         $response->addFormResult(Node::fromObject($prev, 'prev'));
       }
       
       if ($position < $c->entries->size()- 1) {
-        $next= &$c->entries->get($position+ 1);
+        $next= $c->entries->get($position+ 1);
         $response->addFormResult(Node::fromObject($next, 'next'));
       }
       
Index: ports/classes/name/kiesel/pxl/scriptlet/state/AdminState.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/state/AdminState.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/state/AdminState.class.php	(working copy)
@@ -47,7 +47,7 @@
      * @param   
      * @return  
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       
     }
   }
Index: ports/classes/name/kiesel/pxl/scriptlet/state/LoginState.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/state/LoginState.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/state/LoginState.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @param   
      * @return  
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       parent::setup($request, $response, $context);
     }
   }
Index: ports/classes/name/kiesel/pxl/scriptlet/AbstractPxlState.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/AbstractPxlState.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/AbstractPxlState.class.php	(working copy)
@@ -43,7 +43,7 @@
      */
     public function _getCatalogue() {
       if (NULL === $this->catalogue) {
-        $this->catalogue= &Catalogue::create(new FilesystemContainer($this->_getDataPath()));
+        $this->catalogue= Catalogue::create(new FilesystemContainer($this->_getDataPath()));
       }
       
       return $this->catalogue;
@@ -57,7 +57,7 @@
      * @return  
      */
     public function _getPage($path) {
-      $page= &Page::create(new FilesystemContainer($this->_getDataPath($path)));
+      $page= Page::create(new FilesystemContainer($this->_getDataPath($path)));
       return $page;
     }
     
@@ -70,14 +70,14 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
     
       // Automatically handle authentication if state indicates so
       if ($this->requiresAuthentication()) {
         if (!$context->user) {
 
           // Store return point in session
-          $uri= &$request->getURI();
+          $uri= $request->getURI();
           $request->session->putValue('authreturn', $uri);
 
           // Send redirect
Index: ports/classes/name/kiesel/pxl/scriptlet/PxlContext.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/PxlContext.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/PxlContext.class.php	(working copy)
@@ -36,7 +36,7 @@
      * @param   
      * @return  
      */
-    public function setup(&$request) {
+    public function setup($request) {
       return TRUE;
     }
     
@@ -47,7 +47,7 @@
      * @param   
      * @return  
      */
-    public function insertStatus(&$response) {
+    public function insertStatus($response) {
       $this->user && $response->addFormResult(Node::fromArray($this->user, 'user'));
     }    
   }
Index: ports/classes/name/kiesel/pxl/scriptlet/PxlScriptlet.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/PxlScriptlet.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/PxlScriptlet.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @access  protected
      * @return  &.xml.XSLProcessor
      */
-    public function &_processor() {
+    public function _processor() {
       $p= new DomXSLProcessor();
       return $p;
     }
@@ -35,7 +35,7 @@
      * @param   
      * @return  
      */
-    public function wantsContext(&$request) {
+    public function wantsContext($request) {
       return $this->needsSession($request) || $request->hasSession();
     }
 
@@ -46,7 +46,7 @@
      * @param   &scriptlet.scriptlet.XMLScriptletRequest request
      * @param   &scriptlet.scriptlet.XMLScriptletResponse response
      */
-    public function _setStylesheet(&$request, &$response) {
+    public function _setStylesheet($request, $response) {
       $response->setStylesheet(sprintf(
         '%s/%s.xsl',
         $request->getProduct(),
Index: ports/classes/name/kiesel/pxl/scriptlet/handler/LoginHandler.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/handler/LoginHandler.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/handler/LoginHandler.class.php	(working copy)
@@ -34,9 +34,9 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function handleSubmittedData(&$request, &$context) {
-      $pm= &PropertyManager::getInstance();
-      $prop= &$pm->getProperties('site');
+    public function handleSubmittedData($request, $context) {
+      $pm= PropertyManager::getInstance();
+      $prop= $pm->getProperties('site');
       
       $user= $prop->readSection('user::'.$this->wrapper->getUsername());
       if (md5($this->wrapper->getPassword()) != $user['password'])
@@ -54,7 +54,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function finalize(&$request, &$response, &$context) {
+    public function finalize($request, $response, $context) {
       $return= $request->session->getValue('authreturn');
 
       if ($return) {
Index: ports/classes/name/kiesel/pxl/scriptlet/handler/NewPageHandler.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/scriptlet/handler/NewPageHandler.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/scriptlet/handler/NewPageHandler.class.php	(working copy)
@@ -35,7 +35,7 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function setup(&$request, &$context) {
+    public function setup($request, $context) {
     
       // TODO: Add code that is required to initially setup the handler
       //       Set values with Handler::setFormValue() to make them accessible in the frontend.
@@ -51,11 +51,11 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function handleSubmittedData(&$request, &$context) {
+    public function handleSubmittedData($request, $context) {
     
       $s= new FilesystemContainer($request->getEnvValue('DOCUMENT_ROOT').'/pages');
-      $filedata= &$this->wrapper->getFile();
-      $file= &$filedata->getFile();
+      $filedata= $this->wrapper->getFile();
+      $file= $filedata->getFile();
       
       $pc= new PageCreator(
         $s,
@@ -77,7 +77,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function finalize(&$request, &$response, &$context) {
+    public function finalize($request, $response, $context) {
 
       // TODO: Add code that is executed after success and on every reload of the handler.
       //       Many handlers don't need this, so remove the complete function.
Index: ports/classes/name/kiesel/pxl/util/PageCreator.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/util/PageCreator.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/util/PageCreator.class.php	(working copy)
@@ -36,8 +36,8 @@
      * @param   
      * @return  
      */
-    public function __construct(&$storage, $title, $pictures) {
-      $this->storage= &$storage;
+    public function __construct($storage, $title, $pictures) {
+      $this->storage= $storage;
       $this->title= $title;
       $this->picturefiles= $pictures;
     }
@@ -49,7 +49,7 @@
      * @param   
      * @return  
      */
-    public function setDate(&$date) {
+    public function setDate($date) {
       $this->date= $date;
     }
     
@@ -62,7 +62,7 @@
      */
     public function addPage() {
       try {
-        $c= &Catalogue::create($this->storage);
+        $c= Catalogue::create($this->storage);
       } catch (FileNotFoundException $e) {
         $c= new Catalogue();
         $c->setStorage($this->storage);
Index: ports/classes/name/kiesel/pxl/Catalogue.class.php
===================================================================
--- ports/classes/name/kiesel/pxl/Catalogue.class.php	(revision 8952)
+++ ports/classes/name/kiesel/pxl/Catalogue.class.php	(working copy)
@@ -30,7 +30,7 @@
      * @return  
      */
     public function __construct() {
-      $this->entries= &Collection::forClass('name.kiesel.pxl.CatalogueEntry');
+      $this->entries= Collection::forClass('name.kiesel.pxl.CatalogueEntry');
     }
     
     /**
@@ -40,8 +40,8 @@
      * @param   
      * @return  
      */
-    public function setStorage(&$storage) {
-      $this->storage= &$storage;
+    public function setStorage($storage) {
+      $this->storage= $storage;
     }    
     
     /**
@@ -51,11 +51,11 @@
      * @param   
      * @return  
      */
-    public function &create(&$storage) {
+    public function create($storage) {
       $data= $storage->load('catalogue');
       if (!$data) return NULL;
       
-      $c= &Unmarshaller::unmarshal($data, 'name.kiesel.pxl.Catalogue');
+      $c= Unmarshaller::unmarshal($data, 'name.kiesel.pxl.Catalogue');
       $c && $c->setStorage($storage);
       return $c;
     }
Index: ports/classes/net/xp_framework/unittest/PropertiesTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/PropertiesTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/PropertiesTest.class.php	(working copy)
@@ -26,7 +26,7 @@
      */
     #[@test]
     public function testFromString() {
-      $p= &Properties::fromString('');
+      $p= Properties::fromString('');
     }
     
     /**
@@ -36,7 +36,7 @@
      */
     #[@test]
     public function basicTest() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 string="value1"
 int=2
@@ -55,7 +55,7 @@
      */
     #[@test]
     public function readString() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 string1=string
 string2="string"
@@ -72,7 +72,7 @@
      */
     #[@test]
     public function readArray() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 array="foo|bar|baz"
       ');
@@ -86,7 +86,7 @@
      */
     #[@test]
     public function readHash() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 hash="foo:bar|bar:foo"
       ');
@@ -103,7 +103,7 @@
      */
     #[@test]
     public function readRange() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 range="1..5"
       ');
@@ -120,7 +120,7 @@
      */
     #[@test]
     public function readInteger() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 int1=1
 int2=0
@@ -138,7 +138,7 @@
      */
     #[@test]
     public function readFloat() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 float1=1
 float2=0
@@ -158,7 +158,7 @@
      */
     #[@test]
     public function readBool() {
-     $p= &Properties::fromString('
+     $p= Properties::fromString('
 [section]
 bool1=1
 bool5=0
@@ -174,7 +174,7 @@
      */
     #[@test]
     public function hasSection() {
-      $p= &Properties::fromString('
+      $p= Properties::fromString('
 [section]
 foo=bar
       ');
@@ -190,7 +190,7 @@
      */
     #[@test]
     public function iterateSections() {
-     $p= &Properties::fromString('
+     $p= Properties::fromString('
 [section]
 foo=bar
 
Index: ports/classes/net/xp_framework/unittest/logging/LogCategoryTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/logging/LogCategoryTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/logging/LogCategoryTest.class.php	(working copy)
@@ -27,8 +27,8 @@
      * @access  public
      */
     public function setUp() {
-      $this->logger= &Logger::getInstance();
-      $this->cat= &$this->logger->getCategory();
+      $this->logger= Logger::getInstance();
+      $this->cat= $this->logger->getCategory();
       $this->cat->format= '%3$s';
     }
     
@@ -48,7 +48,7 @@
      * @access  protected
      * @return  &util.log.LogAppender
      */
-    public function &mockAppender() {
+    public function mockAppender() {
       return newinstance('util.log.LogAppender', array(), '{
         var $messages= array();
         
@@ -67,8 +67,8 @@
      * @throws  unittest.AssertionFailedError
      */
     public function assertLog($method, $args= array('Argument')) {
-      $app= &$this->cat->addAppender($this->mockAppender());
-      call_user_func_array(array(&$this->cat, $method), $args);
+      $app= $this->cat->addAppender($this->mockAppender());
+      call_user_func_array(array($this->cat, $method), $args);
       $this->assertEquals(array(array_merge((array)$method, $args)), $app->messages);
     }
 
@@ -81,8 +81,8 @@
      * @throws  unittest.AssertionFailedError
      */
     public function assertLogf($method, $args= array('Argument')) {
-      $app= &$this->cat->addAppender($this->mockAppender());
-      call_user_func_array(array(&$this->cat, $method), $args);
+      $app= $this->cat->addAppender($this->mockAppender());
+      call_user_func_array(array($this->cat, $method), $args);
       $this->assertEquals(array(array_merge((array)substr($method, 0, -1), (array)vsprintf(array_shift($args), $args))), $app->messages);
     }
     
@@ -103,7 +103,7 @@
      */
     #[@test]
     public function addAppender() {
-      $appender= &$this->mockAppender();
+      $appender= $this->mockAppender();
       $this->assertTrue($appender === $this->cat->addAppender($appender));
     }
 
Index: ports/classes/net/xp_framework/unittest/logging/LoggerTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/logging/LoggerTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/logging/LoggerTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->logger= &Logger::getInstance();
+      $this->logger= Logger::getInstance();
     }
     
     /**
@@ -54,7 +54,7 @@
      */
     #[@test]
     public function defaultCategory() {
-      with ($cat= &$this->logger->getCategory()); {
+      with ($cat= $this->logger->getCategory()); {
         $this->assertClass($cat, 'util.log.LogCategory');
         $this->assertFalse($cat->hasAppenders());
       }
@@ -86,7 +86,7 @@
 __
       ));
       
-      with ($cat= &$this->logger->getCategory('sql')); {
+      with ($cat= $this->logger->getCategory('sql')); {
         $this->assertFalse($cat === $this->logger->getCategory());
         $this->assertClass($cat, 'util.log.LogCategory');
         $this->assertTrue($cat->hasAppenders());
Index: ports/classes/net/xp_framework/unittest/core/CloningTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/CloningTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/CloningTest.class.php	(working copy)
@@ -51,7 +51,7 @@
      */
     #[@test]
     public function cloneInterceptorCalled() {
-      $original= &newinstance('lang.Object', array(), '{
+      $original= newinstance('lang.Object', array(), '{
         var $cloned= FALSE;
 
         function __clone() {
Index: ports/classes/net/xp_framework/unittest/core/StringOfTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/StringOfTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/StringOfTest.class.php	(working copy)
@@ -22,7 +22,7 @@
      * @access  protected
      * @return  &lang.Object
      */
-    public function &testStringInstance() {
+    public function testStringInstance() {
       return newinstance('lang.Object', array(), '{
         function toString() {
           return "TestString(6) { String }";
@@ -198,7 +198,7 @@
     public function objectRecursion() {
       $o= new StdClass();
       $o->child= new StdClass();
-      $o->child->parent= &$o;
+      $o->child->parent= $o;
       $this->assertEquals(<<<__
 php.stdClass {
   child => php.stdClass {
@@ -225,7 +225,7 @@
      */
     #[@test]
     public function toStringRecursion() {
-      $test= &newinstance('lang.Object', array(), '{
+      $test= newinstance('lang.Object', array(), '{
         function toString() {
           return xp::stringOf($this);
         }
Index: ports/classes/net/xp_framework/unittest/core/CollectionTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/CollectionTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/CollectionTest.class.php	(working copy)
@@ -37,7 +37,7 @@
      */
     #[@test]
     public function initiallyEmpty() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $this->assertTrue($collection->isEmpty());
       $this->assertEquals(0, $collection->size());
     }
@@ -49,7 +49,7 @@
      */
     #[@test]
     public function elementClass() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $this->assertEquals(COLLECTION_CLASS_NAME, $collection->getElementClassName());
       $this->assertEquals(XPClass::forName(COLLECTION_CLASS_NAME), $collection->getElementClass());
     }
@@ -61,7 +61,7 @@
      */
     #[@test]
     public function addElement() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->add(new Binford());
       $collection->add(newinstance(COLLECTION_CLASS_NAME, array(), '{}'));
       $this->assertFalse($collection->isEmpty());
@@ -75,7 +75,7 @@
      */
     #[@test, @expect('lang.IllegalArgumentException')]
     public function addElementOfWrongClass() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->add(new Object());
     }
 
@@ -86,7 +86,7 @@
      */
     #[@test]
     public function addAll() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->addAll(array(new Binford(), new Binford()));
       $this->assertEquals(2, $collection->size());
     }
@@ -99,7 +99,7 @@
      */
     #[@test, @expect('lang.IllegalArgumentException')]
     public function addAllWithElementOfWrongClass() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->addAll(array(new Binford(), new Object()));
     }
 
@@ -110,7 +110,7 @@
      */
     #[@test]
     public function addAllDoesNotModifyCollectionOnException() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       try {
         $collection->addAll(array(new Binford(), new Object())) &&
         $this->fail('IllegalArgumentException expected');
@@ -127,7 +127,7 @@
      */
     #[@test]
     public function prependElement() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->prepend(new Binford());
       $collection->prepend(newinstance(COLLECTION_CLASS_NAME, array(), '{}'));
       $this->assertFalse($collection->isEmpty());
@@ -141,7 +141,7 @@
      */
     #[@test, @expect('lang.IllegalArgumentException')]
     public function prependElementOfWrongClass() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->prepend(new Object());
     }
 
@@ -152,8 +152,8 @@
      */
     #[@test]
     public function getElement() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
-      $element= &$collection->add(new Binford());
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
+      $element= $collection->add(new Binford());
       $this->assertEquals($element, $collection->get(0));
       $this->assertNull($collection->get(1));
     }
@@ -165,8 +165,8 @@
      */
     #[@test]
     public function removeElement() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
-      $element= &$collection->add(new Binford());
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
+      $element= $collection->add(new Binford());
       $this->assertEquals($element, $collection->remove(0));
       $this->assertTrue($collection->isEmpty());
     }
@@ -178,7 +178,7 @@
      */
     #[@test]
     public function clearCollection() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
       $collection->add(new Binford());
       $collection->clear();
       $this->assertTrue($collection->isEmpty());
@@ -191,9 +191,9 @@
      */
     #[@test]
     public function elementContained() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
-      $e1= &$collection->add(new Binford());
-      $e2= &$collection->add(new Binford());
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
+      $e1= $collection->add(new Binford());
+      $e2= $collection->add(new Binford());
       $this->assertTrue($collection->contains($e1));
       $this->assertTrue($collection->contains($e2));
       $this->assertFalse($collection->contains(new Binford()));
@@ -206,9 +206,9 @@
      */
     #[@test]
     public function elementIndex() {
-      $collection= &Collection::forClass(COLLECTION_CLASS_NAME);
-      $e1= &$collection->add(new Binford());
-      $e2= &$collection->add(new Binford());
+      $collection= Collection::forClass(COLLECTION_CLASS_NAME);
+      $e1= $collection->add(new Binford());
+      $e2= $collection->add(new Binford());
       $this->assertEquals(0, $collection->indexOf($e1));
       $this->assertEquals(1, $collection->indexOf($e2));
       $this->assertFalse($collection->indexOf(new Binford()));
@@ -222,13 +222,13 @@
     #[@test]
     public function listEquality() {
       $element= new Binford();
-      $c1= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $c1= Collection::forClass(COLLECTION_CLASS_NAME);
       $c1->add($element);
 
-      $c2= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $c2= Collection::forClass(COLLECTION_CLASS_NAME);
       $c2->add($element);
       
-      $c3= &Collection::forClass(COLLECTION_CLASS_NAME);
+      $c3= Collection::forClass(COLLECTION_CLASS_NAME);
 
       $this->assertTrue($c1->equals($c2));
       $this->assertFalse($c1->equals($c3));
Index: ports/classes/net/xp_framework/unittest/core/DestructorTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/DestructorTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/DestructorTest.class.php	(working copy)
@@ -26,7 +26,7 @@
      * @access  public
      * @param   &lang.Object object
      */
-    public function onDestruction(&$object) {
+    public function onDestruction($object) {
       $this->destroyed[$object->hashCode()]++;
     }
     
Index: ports/classes/net/xp_framework/unittest/core/ObjectTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/ObjectTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/ObjectTest.class.php	(working copy)
@@ -21,7 +21,7 @@
      */
     #[@test, @ignore('Changed with PHP5')]
     public function noConstructor() {
-      $c= &XPClass::forName('lang.Object');
+      $c= XPClass::forName('lang.Object');
       $this->assertFalse($c->hasConstructor());
     }
 
@@ -32,7 +32,7 @@
      */
     #[@test]
     public function baseClass() {
-      $c= &XPClass::forName('lang.Object');
+      $c= XPClass::forName('lang.Object');
       $this->assertNull($c->getParentClass());
     }
 
@@ -43,7 +43,7 @@
      */
     #[@test]
     public function noInterfaces() {
-      $c= &XPClass::forName('lang.Object');
+      $c= XPClass::forName('lang.Object');
       $this->assertEquals(1, sizeof($c->getInterfaces()));
     }
 
@@ -106,7 +106,7 @@
     #[@test]
     public function getClassMethod() {
       $o= new Object();
-      $class= &$o->getClass();
+      $class= $o->getClass();
       $this->assertClass($class, 'lang.XPClass');
       $this->assertEquals('lang.Object', $class->getName());
     }
Index: ports/classes/net/xp_framework/unittest/core/types/NumberTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/types/NumberTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/types/NumberTest.class.php	(working copy)
@@ -32,7 +32,7 @@
      * @param   int int
      * @param   float float
      */
-    public function testType(&$number, $int, $float) {
+    public function testType($number, $int, $float) {
       $this->assertEquals($int, $number->intValue(), 'intValue') &&
       $this->assertEquals($float, $number->floatValue(), 'floatValue') &&
       $this->assertEquals($number, clone($number), 'clone');
Index: ports/classes/net/xp_framework/unittest/core/NullTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/NullTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/NullTest.class.php	(working copy)
@@ -109,7 +109,7 @@
      */
     #[@test, @expect('lang.NullPointerException')]
     public function methodInvocation() {
-      $null= &xp::null();
+      $null= xp::null();
       $null->method();
     }
 
@@ -120,7 +120,7 @@
      */
     #[@test, @expect('lang.NullPointerException')]
     public function memberReadAccess() {
-      $null= &xp::null();
+      $null= xp::null();
       $i= $null->member;
     }
     
@@ -131,7 +131,7 @@
      */
     #[@test, @expect('lang.NullPointerException')]
     public function memberWriteccess() {
-      $null= &xp::null();
+      $null= xp::null();
       $null->member= $i;
     }
   }
Index: ports/classes/net/xp_framework/unittest/core/AnnotationTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/AnnotationTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/AnnotationTest.class.php	(working copy)
@@ -22,7 +22,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->class= &XPClass::forName('net.xp_framework.unittest.core.AnnotatedClass');
+      $this->class= XPClass::forName('net.xp_framework.unittest.core.AnnotatedClass');
     }
 
     /**
@@ -34,7 +34,7 @@
      * @return  bool
      */
     public function annotationExists($method, $annotation) {
-      $method= &$this->class->getMethod($method);
+      $method= $this->class->getMethod($method);
       return $method->hasAnnotation($annotation);
     }
 
@@ -47,7 +47,7 @@
      * @return  mixed annotation value
      */
     public function methodAnnotation($method, $annotation) {
-      $method= &$this->class->getMethod($method);
+      $method= $this->class->getMethod($method);
       return $method->getAnnotation($annotation);
     }
 
@@ -95,7 +95,7 @@
      */
     #[@test]
     public function multipleAnnotationsReturnedAsList() {
-      $method= &$this->class->getMethod('multiple');
+      $method= $this->class->getMethod('multiple');
       $this->assertEquals(
         array('one' => NULL, 'two' => NULL, 'three' => NULL),
         $method->getAnnotations()
@@ -134,7 +134,7 @@
      */
     #[@test]
     public function testMethod() {
-      $m= &$this->class->getMethod('testMethod');
+      $m= $this->class->getMethod('testMethod');
       $this->assertTrue($m->hasAnnotation('test'));
       $this->assertTrue($m->hasAnnotation('ignore'));
       $this->assertEquals(0.1, $m->getAnnotation('limit', 'time'));
Index: ports/classes/net/xp_framework/unittest/core/IsTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/IsTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/IsTest.class.php	(working copy)
@@ -62,13 +62,13 @@
      */
     #[@test]
     public function interfaces() {
-      $cl= &ClassLoader::getDefault();
+      $cl= ClassLoader::getDefault();
       $cl->defineClass(
         'DestructionCallbackImpl', 
         'lang.Object',
         array('net.xp_framework.unittest.core.DestructionCallback'),
         '{
-          function onDestruction(&$object) { 
+          function onDestruction($object) { 
             // ... Implementation here
           }
         }'
Index: ports/classes/net/xp_framework/unittest/core/RefTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/RefTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/RefTest.class.php	(working copy)
@@ -21,7 +21,7 @@
      * @param   &lang.Object b
      * @throws  unittest.AssertionFailedError
      */
-    public function assertReference(&$a, &$b) {
+    public function assertReference($a, $b) {
       $this->assertEquals($a->__id, $b->__id);
       $a->__id= 'R:'.$a->__id;
       $this->assertEquals($a->__id, $b->__id);
@@ -57,7 +57,7 @@
     #[@test]
     public function objectReference() {
       $object= new Object();
-      $ref= &newinstance('lang.Object', array(ref($object)), '{
+      $ref= newinstance('lang.Object', array(ref($object)), '{
         var $object= NULL;
         
         function __construct(&$object) {
Index: ports/classes/net/xp_framework/unittest/core/Destroyable.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/Destroyable.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/Destroyable.class.php	(working copy)
@@ -20,8 +20,8 @@
      * @access  public
      * @param   &net.xp_framework.unittest.core.DestructionCallback callback
      */
-    public function setCallback(&$callback) {
-      $this->callback= &$callback;
+    public function setCallback($callback) {
+      $this->callback= $callback;
     }
   
     /**
Index: ports/classes/net/xp_framework/unittest/core/DestructionCallback.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/DestructionCallback.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/DestructionCallback.class.php	(working copy)
@@ -18,7 +18,7 @@
      * @access  public
      * @param   &lang.Object object
      */
-    public function onDestruction(&$object);
+    public function onDestruction($object);
   
   }
 ?>
Index: ports/classes/net/xp_framework/unittest/core/ReferencesTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/core/ReferencesTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/core/ReferencesTest.class.php	(working copy)
@@ -19,7 +19,7 @@
      * @access  public
      */
     public function setUp() {
-      $cl= &ClassLoader::getDefault();
+      $cl= ClassLoader::getDefault();
       
       // For singletonInstance test
       $cl->defineClass(
@@ -71,7 +71,7 @@
      * @param   &lang.Object b
      * @throws  unittest.AssertionFailedError
      */
-    public function assertReference(&$a, &$b) {
+    public function assertReference($a, $b) {
       $this->assertEquals($a->__id, $b->__id);
       $a->__id= 'R:'.$a->__id;
       $this->assertEquals($a->__id, $b->__id);
@@ -93,8 +93,8 @@
      */
     #[@test]
     public function singletonInstance() {
-      $s1= &AnonymousSingleton::getInstance();
-      $s2= &AnonymousSingleton::getInstance();
+      $s1= AnonymousSingleton::getInstance();
+      $s2= AnonymousSingleton::getInstance();
       
       $this->assertReference($s1, $s2);
     }
@@ -107,10 +107,10 @@
      * @param   &mixed val
      * @return  &mixed
      */
-    public function &registry($key, &$val) {
+    public function registry($key, $val) {
       static $registry= array();
       
-      if (NULL !== $val) $registry[$key]= &$val;
+      if (NULL !== $val) $registry[$key]= $val;
       return $registry[$key];
     }
     
@@ -121,8 +121,8 @@
      */
     #[@test]
     public function returnNewObject() {
-      $object= &AnonymousFactory::factory();
-      $value= &ReferencesTest::registry('list', $r= NULL);
+      $object= AnonymousFactory::factory();
+      $value= ReferencesTest::registry('list', $r= NULL);
       
       $this->assertReference($object, $value);
     }    
@@ -134,10 +134,10 @@
      */
     #[@test]
     public function returnNewObjectViaMethodInvoke() {
-      $class= &XPClass::forName('net.xp_framework.unittest.core.AnonymousFactory');
-      $factory= &$class->getMethod('factory');
-      $object= &$factory->invoke($instance= NULL);
-      $value= &ReferencesTest::registry('list', $r= NULL);
+      $class= XPClass::forName('net.xp_framework.unittest.core.AnonymousFactory');
+      $factory= $class->getMethod('factory');
+      $object= $factory->invoke($instance= NULL);
+      $value= ReferencesTest::registry('list', $r= NULL);
 
       $this->assertReference($object, $value);
     }
@@ -149,8 +149,8 @@
      */
     #[@test]
     public function returnNewObjectViaNewInstance() {
-      $object= &AnonymousNewInstanceFactory::factory();
-      $value= &ReferencesTest::registry('list', $r= NULL);
+      $object= AnonymousNewInstanceFactory::factory();
+      $value= ReferencesTest::registry('list', $r= NULL);
       
       $this->assertReference($object, $value);
     }
Index: ports/classes/net/xp_framework/unittest/reflection/TestClass.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/reflection/TestClass.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/reflection/TestClass.class.php	(working copy)
@@ -59,7 +59,7 @@
      * @access  public
      * @return  &util.Date
      */    
-    public function &getDate() {
+    public function getDate() {
       return $this->date;
     }
 
@@ -69,8 +69,8 @@
      * @access  public
      * @param   &util.Date date
      */    
-    public function setDate(&$date) {
-      $this->date= &$date;
+    public function setDate($date) {
+      $this->date= $date;
     }
     
     /**
@@ -91,7 +91,7 @@
      * @param   &util.log.LogCategory cat
      * @throws  lang.IllegalStateException
      */
-    public function setTrace(&$cat) {
+    public function setTrace($cat) {
       throw(new IllegalStateException('Not debuggable yet'));
     }
 
@@ -112,8 +112,8 @@
      * @access  public
      * @return  &lang.Collection<lang.Object>
      */
-    public function &mapValues() {
-      $c= &Collection::forClass('lang.Object');
+    public function mapValues() {
+      $c= Collection::forClass('lang.Object');
       $c->addAll(array_values($this->map));
       return $c;
     }
Index: ports/classes/net/xp_framework/unittest/reflection/ReflectionTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/reflection/ReflectionTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/reflection/ReflectionTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->class= &XPClass::forName('net.xp_framework.unittest.reflection.TestClass');
+      $this->class= XPClass::forName('net.xp_framework.unittest.reflection.TestClass');
     }
  
     /**
@@ -50,7 +50,7 @@
      */
     #[@test]
     public function instanciation() {
-      $instance= &$this->class->newInstance(1);
+      $instance= $this->class->newInstance(1);
       $this->assertObject($instance);
       $this->assertClass($instance, 'net.xp_framework.unittest.reflection.TestClass');
       $this->assertTrue($this->class->isInstance($instance));
@@ -77,7 +77,7 @@
      */
     #[@test]
     public function parentClass() {
-      $parent= &$this->class->getParentClass();
+      $parent= $this->class->getParentClass();
       $this->assertClass($parent, 'lang.XPClass');
       $this->assertEquals('lang.Object', $parent->getName());
       $this->assertNull($parent->getParentClass());
@@ -111,7 +111,7 @@
     #[@test]
     public function constructor() {
       $this->assertTrue($this->class->hasConstructor());
-      if ($constructor= &$this->class->getConstructor()) {
+      if ($constructor= $this->class->getConstructor()) {
         $this->assertClass($constructor, 'lang.reflect.Constructor');
       }
     }
@@ -124,7 +124,7 @@
      */
     #[@test]
     public function fields() {
-      $fields= &$this->class->getFields();
+      $fields= $this->class->getFields();
       $this->assertArray($fields);
       foreach ($fields as $field) {
         $this->assertClass($field, 'lang.reflect.Field');
@@ -141,7 +141,7 @@
     #[@test]
     public function dateField() {
       $this->assertTrue($this->class->hasField('date'));
-      if ($field= &$this->class->getField('date')) {
+      if ($field= $this->class->getField('date')) {
         $this->assertClass($field, 'lang.reflect.Field');
         $this->assertEquals('date', $field->getName());
         $this->assertEquals('util.Date', $field->getType());
@@ -157,7 +157,7 @@
      */
     #[@test]
     public function dateFieldValue() {
-      if ($field= &$this->class->getField('date')) {
+      if ($field= $this->class->getField('date')) {
         $this->assertClass($field->get($this->class->newInstance()), 'util.Date');
       }
     }
@@ -170,7 +170,7 @@
      */
     #[@test, @expect('lang.IllegalArgumentException')]
     public function dateFieldValueOnWrongObject() {
-      if ($field= &$this->class->getField('date')) {
+      if ($field= $this->class->getField('date')) {
         $field->get(new Object());
       }
     }
@@ -183,7 +183,7 @@
      */
     #[@test]
     public function methods() {
-      $methods= &$this->class->getMethods();
+      $methods= $this->class->getMethods();
       $this->assertArray($methods);
       foreach ($methods as $method) {
         $this->assertClass($method, 'lang.reflect.Method');
@@ -200,12 +200,11 @@
     #[@test]
     public function getDateMethod() {
       $this->assertTrue($this->class->hasMethod('getDate'));
-      if ($method= &$this->class->getMethod('getDate')) {
+      if ($method= $this->class->getMethod('getDate')) {
         $this->assertClass($method, 'lang.reflect.Method');
         $this->assertEquals('getDate', $method->getName(TRUE));
         $this->assertTrue($this->class->equals($method->getDeclaringClass()));
         $this->assertEquals('util.Date', $method->getReturnType());
-        $this->assertTrue($method->returnsReference());
       }
     }
 
@@ -219,9 +218,9 @@
      */
     #[@test]
     public function setDateMethodArguments() {
-      if ($method= &$this->class->getMethod('setDate')) {
+      if ($method= $this->class->getMethod('setDate')) {
         $this->assertEquals(1, $method->numArguments());
-        if ($argument= &$method->getArgument(0)) {
+        if ($argument= $method->getArgument(0)) {
           $this->assertClass($argument, 'lang.reflect.Argument');
           $this->assertEquals('date', $argument->getName());
           $this->assertEquals('util.Date', $argument->getType());
@@ -240,7 +239,7 @@
      */
     #[@test, @expect('lang.IllegalStateException')]
     public function invokeSetTrace() {
-      if ($method= &$this->class->getMethod('setTrace')) {
+      if ($method= $this->class->getMethod('setTrace')) {
         $method->invoke($this->class->newInstance(), array(NULL));
       }
     }
@@ -253,7 +252,7 @@
      */
     #[@test, @expect('lang.IllegalArgumentException')]
     public function invokeSetTraceOnWrongObject() {
-      if ($method= &$this->class->getMethod('setTrace')) {
+      if ($method= $this->class->getMethod('setTrace')) {
         $method->invoke(new Object(), array(NULL));
       }
     }
@@ -293,7 +292,7 @@
      */
     #[@test]
     public function forName() {
-      $class= &XPClass::forName('util.Date');
+      $class= XPClass::forName('util.Date');
       $this->assertClass($class, 'lang.XPClass');
       $this->assertEquals('util.Date', $class->getName());
     }
@@ -308,7 +307,7 @@
      */
     #[@test, @expect('lang.ClassNotFoundException')]
     public function nonExistantforName() {
-      $class= &XPClass::forName('class.does.not.Exist');
+      $class= XPClass::forName('class.does.not.Exist');
     }
     
     /**
@@ -319,7 +318,7 @@
      */
     #[@test]
     public function genericReturnValue() {
-      $method= &$this->class->getMethod('getMap');
+      $method= $this->class->getMethod('getMap');
       $this->assertEquals('array<string, &lang.Object>', $method->getReturnType());
     }
   }
Index: ports/classes/net/xp_framework/unittest/reflection/ClassLoaderTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/reflection/ClassLoaderTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/reflection/ClassLoaderTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @return  bool
      * @throws  unittest.AssertionFailedError
      */
-    public function assertXPClass($name, &$class) {
+    public function assertXPClass($name, $class) {
       return (
         $this->assertClass($class, 'lang.XPClass') &&
         $this->assertEquals($name, $class->getName()) &&
@@ -39,7 +39,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->classLoader= &ClassLoader::getDefault();
+      $this->classLoader= ClassLoader::getDefault();
       $this->assertXPClass('lang.ClassLoader', $this->classLoader->getClass());
     }
  
@@ -86,7 +86,7 @@
         return $this->fail('Class "'.$name.'" may not exist!');
       }
 
-      $class= &$this->classLoader->loadClass($name);
+      $class= $this->classLoader->loadClass($name);
       $this->assertXPClass($name, $class);
       $this->assertTrue(LoaderTestClass::initializerCalled());
     }
@@ -114,7 +114,7 @@
         return $this->fail('Class "'.$name.'" may not exist!');
       }
       
-      $class= &$this->classLoader->defineClass($name, 'class RuntimeDefinedClass extends Object {
+      $class= $this->classLoader->defineClass($name, 'class RuntimeDefinedClass extends Object {
         function __static() { RuntimeDefinedClass::initializerCalled(TRUE); }
         function initializerCalled($value= NULL) { 
           static $called; 
@@ -134,11 +134,11 @@
     #[@test]
     public function defineClassImplements() {
       $name= 'net.xp_framework.unittest.reflection.RuntimeDefinedClassWithInterface';
-      $class= &$this->classLoader->defineClass(
+      $class= $this->classLoader->defineClass(
         $name, 
         'lang.Object',
         array('util.log.Traceable'),
-        '{ function setTrace(&$cat) { } }'
+        '{ function setTrace($cat) { } }'
       );
 
       $this->assertTrue(is('util.log.Traceable', $class->newInstance()));
Index: ports/classes/net/xp_framework/unittest/reflection/ProxyTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/reflection/ProxyTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/reflection/ProxyTest.class.php	(working copy)
@@ -28,15 +28,15 @@
      * @access  public
      */
     public function setUp() {
-      $this->handler= &newinstance('lang.reflect.InvocationHandler', array(), '{
+      $this->handler= newinstance('lang.reflect.InvocationHandler', array(), '{
         var $invocations= array();
 
-        function invoke(&$proxy, $method, $args) { 
+        function invoke($proxy, $method, $args) { 
           $this->invocations[$method."_".sizeof($args)]= $args;
         }
       }');
-      $this->iteratorClass= &XPClass::forName('util.XPIterator');
-      $this->observerClass= &XPClass::forName('util.Observer');
+      $this->iteratorClass= XPClass::forName('util.XPIterator');
+      $this->observerClass= XPClass::forName('util.Observer');
     }
 
     /**
@@ -48,7 +48,7 @@
      * @param   lang.XPClass[] interfaces
      * @return  &lang.reflect.Proxy
      */
-    public function &proxyInstanceFor($interfaces) {
+    public function proxyInstanceFor($interfaces) {
       return Proxy::newProxyInstance(
         ClassLoader::getDefault(),
         $interfaces, 
@@ -65,7 +65,7 @@
      * @param   lang.XPClass[] interfaces
      * @return  &lang.XPClass
      */
-    public function &proxyClassFor($interfaces) {
+    public function proxyClassFor($interfaces) {
       return Proxy::getProxyClass(
         ClassLoader::getDefault(),
         $interfaces,
@@ -81,7 +81,7 @@
      */
     #[@test]
     public function proxyClassNamesGetPrefixed() {
-      $class= &$this->proxyClassFor(array($this->iteratorClass));
+      $class= $this->proxyClassFor(array($this->iteratorClass));
       $this->assertEquals(PROXY_PREFIX, substr($class->getName(), 0, strlen(PROXY_PREFIX)));
     }
 
@@ -93,9 +93,9 @@
      */
     #[@test]
     public function classesEqualForSameInterfaceList() {
-      $c1= &$this->proxyClassFor(array($this->iteratorClass));
-      $c2= &$this->proxyClassFor(array($this->iteratorClass));
-      $c3= &$this->proxyClassFor(array($this->iteratorClass, $this->observerClass));
+      $c1= $this->proxyClassFor(array($this->iteratorClass));
+      $c2= $this->proxyClassFor(array($this->iteratorClass));
+      $c3= $this->proxyClassFor(array($this->iteratorClass, $this->observerClass));
 
       $this->assertEquals($c1, $c2);
       $this->assertNotEquals($c1, $c3);
@@ -108,7 +108,7 @@
      */
     #[@test]
     public function iteratorInterfaceIsImplemented() {
-      $class= &$this->proxyClassFor(array($this->iteratorClass));
+      $class= $this->proxyClassFor(array($this->iteratorClass));
       $interfaces= $class->getInterfaces();
       $this->assertEquals(2, sizeof($interfaces));
       $this->assertEquals($this->iteratorClass, $interfaces[0]);
@@ -121,7 +121,7 @@
      */
     #[@test]
     public function allInterfacesAreImplemented() {
-      $class= &$this->proxyClassFor(array($this->iteratorClass, $this->observerClass));
+      $class= $this->proxyClassFor(array($this->iteratorClass, $this->observerClass));
       $interfaces= $class->getInterfaces();
       $this->assertEquals(3, sizeof($interfaces));
       $this->assertIn($interfaces, $this->iteratorClass);
@@ -141,7 +141,7 @@
         'hasnext', 'next'                                             // util.XPIterator
       );
       
-      $class= &$this->proxyClassFor(array($this->iteratorClass));
+      $class= $this->proxyClassFor(array($this->iteratorClass));
       $methods= $class->getMethods();
 
       $this->assertEquals(sizeof($expected), sizeof($methods));
@@ -160,7 +160,7 @@
      */
     #[@test]
     public function iteratorNextInvoked() {
-      $proxy= &$this->proxyInstanceFor(array($this->iteratorClass));
+      $proxy= $this->proxyInstanceFor(array($this->iteratorClass));
       $proxy->next();
       $this->assertEquals(array(), $this->handler->invocations['next_0']);
     }
@@ -183,8 +183,8 @@
      */
     #[@test]
     public function allowDoubledInterfaceMethod() {
-      $cl= &ClassLoader::getDefault();
-      $newIteratorClass= &$cl->defineClass('util.NewIterator', 'interface NewIterator extends XPIterator {}');
+      $cl= ClassLoader::getDefault();
+      $newIteratorClass= $cl->defineClass('util.NewIterator', 'interface NewIterator extends XPIterator {}');
       
       $this->proxyInstanceFor(array(
         XPClass::forName('util.XPIterator'),
@@ -199,7 +199,7 @@
      */
     #[@test]
     public function overloadedMethod() {
-      $proxy= &$this->proxyInstanceFor(array(XPClass::forName('net.xp_framework.unittest.reflection.OverloadedInterface')));
+      $proxy= $this->proxyInstanceFor(array(XPClass::forName('net.xp_framework.unittest.reflection.OverloadedInterface')));
       $proxy->overloaded('foo');
       $proxy->overloaded('foo', 'bar');
       $this->assertEquals(array('foo'), $this->handler->invocations['overloaded_1']);
Index: ports/classes/net/xp_framework/unittest/remote/Person.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/remote/Person.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/remote/Person.class.php	(working copy)
@@ -62,7 +62,7 @@
      * @param   &lang.Object cmp
      * @return  bool
      */
-    public function equals(&$cmp) {
+    public function equals($cmp) {
       return is('Person', $cmp) && $cmp->name == $this->name && $cmp->id == $this->id;
     }
   }
Index: ports/classes/net/xp_framework/unittest/remote/RoundtripTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/remote/RoundtripTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/remote/RoundtripTest.class.php	(working copy)
@@ -42,9 +42,9 @@
      */
     public function setUp() {
       try {
-        $remote= &Remote::forName('xp://'.$this->endpoint.'/');
-        $remote && $home= &$remote->lookup('xp/demo/Roundtrip');
-        $home && $this->instance= &$home->create();
+        $remote= Remote::forName('xp://'.$this->endpoint.'/');
+        $remote && $home= $remote->lookup('xp/demo/Roundtrip');
+        $home && $this->instance= $home->create();
       } catch (Exception $e) {
         throw(new PrerequisitesNotMetError(
           'Make sure xp/demo/Roundtrip is deployed @ '.$this->endpoint, 
Index: ports/classes/net/xp_framework/unittest/remote/MockProtocolHandler.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/remote/MockProtocolHandler.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/remote/MockProtocolHandler.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @param   &peer.URL proxy
      * @throws  io.IOException in case connecting fails
      */
-    public function initialize(&$proxy) {
+    public function initialize($proxy) {
       if (!$this->server['available']) {
         throw(new IOException('Cannot connect to '.$proxy->getHost()));
       }
@@ -42,7 +42,7 @@
      * @throws  remote.NameNotFoundException in case the given name could not be found
      * @throws  remote.RemoteException for any other error
      */
-    public function &lookup($name) {
+    public function lookup($name) {
       if (!isset($this->server['ctx'][$name])) {
         throw(new NameNotFoundException($name.' not bound'));
       }
@@ -57,7 +57,7 @@
      * @param   UserTransaction tran
      * @param   bool
      */
-    public function begin(&$tran) {
+    public function begin($tran) {
     }
 
     /**
@@ -67,7 +67,7 @@
      * @param   UserTransaction tran
      * @param   bool
      */
-    public function rollback(&$tran) {
+    public function rollback($tran) {
     }
 
     /**
@@ -77,7 +77,7 @@
      * @param   UserTransaction tran
      * @param   bool
      */
-    public function commit(&$tran) {
+    public function commit($tran) {
     }
 
     /**
@@ -90,7 +90,7 @@
      * @param   mixed[] args
      * @return  &mixed
      */
-    public function &invoke($oid, $method, $args) {
+    public function invoke($oid, $method, $args) {
     }
 
   } 
Index: ports/classes/net/xp_framework/unittest/remote/SerializerTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/remote/SerializerTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/remote/SerializerTest.class.php	(working copy)
@@ -311,7 +311,7 @@
      */
     #[@test]
     public function valueOfArrayList() {
-      $return= &$this->serializer->valueOf(
+      $return= $this->serializer->valueOf(
         new SerializedData('A:2:{O:6:"Person":2:{s:2:"id";i:1549;s:4:"name";s:11:"Timm Friebe";}s:5:"World";}'
       ));
       $this->assertClass($return, 'lang.types.ArrayList');
@@ -348,7 +348,7 @@
      */
     #[@test]
     public function genericClass() {
-      $class= &$this->serializer->valueOf(new SerializedData('C:47:"net.xp_framework.easc.reflect.MethodDescription"'));
+      $class= $this->serializer->valueOf(new SerializedData('C:47:"net.xp_framework.easc.reflect.MethodDescription"'));
       $this->assertTrue(is('remote.ClassReference', $class));
       $this->assertEquals("net.xp_framework.easc.reflect.MethodDescription", $class->referencedName());
     }
@@ -362,7 +362,7 @@
     public function genericPackageMappedClass() {
       $this->serializer->packageMapping('net.xp_framework.easc.reflect', 'remote.reflect');
       
-      $class= &$this->serializer->valueOf(new SerializedData('C:47:"net.xp_framework.easc.reflect.MethodDescription"'));
+      $class= $this->serializer->valueOf(new SerializedData('C:47:"net.xp_framework.easc.reflect.MethodDescription"'));
       $this->assertTrue(is('remote.ClassReference', $class));
       $this->assertEquals("remote.reflect.MethodDescription", $class->referencedName());
     }
@@ -375,17 +375,17 @@
      */
     #[@test]
     public function bestMapping() {
-      $cl= &ClassLoader::getDefault();
-      $fooClass= &$cl->defineClass('net.xp_framework.unittest.remote.FooClass', 'class FooClass extends Object { }');
-      $barClass= &$cl->defineClass('net.xp_framework.unittest.remote.BarClass', 'class BarClass extends FooClass { }');
+      $cl= ClassLoader::getDefault();
+      $fooClass= $cl->defineClass('net.xp_framework.unittest.remote.FooClass', 'class FooClass extends Object { }');
+      $barClass= $cl->defineClass('net.xp_framework.unittest.remote.BarClass', 'class BarClass extends FooClass { }');
       
-      $fooHandler= &$cl->defineClass('net.xp_framework.unittest.remote.FooHandler', 'class FooHandler extends Object implements SerializerMapping {
+      $fooHandler= $cl->defineClass('net.xp_framework.unittest.remote.FooHandler', 'class FooHandler extends Object implements SerializerMapping {
         function &handledClass() { return XPClass::forName("net.xp_framework.unittest.remote.FooClass"); }
         function representationOf(&$serializer, &$value, $context= array()) { return "FOO:"; }
         function &valueOf(&$serializer, &$serialized, $context= array()) { return NULL; }
       }');
       
-      $barHandler= &$cl->defineClass('net.xp_framework.unittest.remote.BarHandler', 'class BarHandler extends Object implements SerializerMapping {
+      $barHandler= $cl->defineClass('net.xp_framework.unittest.remote.BarHandler', 'class BarHandler extends Object implements SerializerMapping {
         function &handledClass() { return XPClass::forName("net.xp_framework.unittest.remote.BarClass"); }
         function representationOf(&$serializer, &$value, $context= array()) { return "BAR:"; }
         function &valueOf(&$serializer, &$serialized, $context= array()) { return NULL; }
Index: ports/classes/net/xp_framework/unittest/remote/RemoteTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/remote/RemoteTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/remote/RemoteTest.class.php	(working copy)
@@ -36,7 +36,7 @@
      * @access  public
      */
     public static function __static() {
-      $hf= &HandlerFactory::getInstance();
+      $hf= HandlerFactory::getInstance();
       $hf->register('mock', XPClass::forName('net.xp_framework.unittest.remote.MockProtocolHandler'));
     }
     
@@ -46,7 +46,7 @@
      * @access  public
      */
     public function setUp() {
-      $pool= &HandlerInstancePool::getInstance();
+      $pool= HandlerInstancePool::getInstance();
       
       foreach (array(
         REMOTE_SPEC_ONE     => TRUE,    // Cluster machine #1
@@ -54,7 +54,7 @@
         REMOTE_SPEC_THREE   => FALSE,   // Cluster machine #3
         REMOTE_SPEC_OTHER   => TRUE     // Other machine
       ) as $spec => $avail) {
-        $this->handler[$spec]= &$pool->acquire($spec);
+        $this->handler[$spec]= $pool->acquire($spec);
         $this->handler[$spec]->server['available']= $avail;
       }
     }
@@ -146,14 +146,14 @@
      */
     #[@test]
     public function lookup() {
-      $r= &Remote::forName(REMOTE_SPEC_ONE);
+      $r= Remote::forName(REMOTE_SPEC_ONE);
       
       // Bind a person object
       $person= new Person();
-      $this->handler[REMOTE_SPEC_ONE]->server['ctx']['xp/demo/Person']= &$person;
+      $this->handler[REMOTE_SPEC_ONE]->server['ctx']['xp/demo/Person']= $person;
 
       // Lookup the person object
-      $lookup= &$r->lookup('xp/demo/Person');
+      $lookup= $r->lookup('xp/demo/Person');
       $this->assertEquals($person, $lookup);
     }
 
@@ -164,7 +164,7 @@
      */
     #[@test, @expect('remote.NameNotFoundException')]
     public function lookupNonExistantName() {
-      $r= &Remote::forName(REMOTE_SPEC_ONE);
+      $r= Remote::forName(REMOTE_SPEC_ONE);
       $r->lookup('does/not/Exist');
     }
   }
Index: ports/classes/net/xp_framework/unittest/peer/DefaultFtpListParserTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/peer/DefaultFtpListParserTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/peer/DefaultFtpListParserTest.class.php	(working copy)
@@ -36,7 +36,7 @@
      */
     #[@test]
     public function dotDirectory() {
-      $e= &$this->fixture->entryFrom('drwx---r-t 37 p159995 ftpusers 4096 Apr 4 20:16 .');
+      $e= $this->fixture->entryFrom('drwx---r-t 37 p159995 ftpusers 4096 Apr 4 20:16 .');
 
       $this->assertSubclass($e, 'peer.ftp.FtpDir') &&
       $this->assertEquals('.', $e->getName()) &&
@@ -55,7 +55,7 @@
      */
     #[@test]
     public function regularFile() {
-      $e= &$this->fixture->entryFrom('-rw----r-- 1 p159995 ftpusers 415 May 23 2000 write.html');
+      $e= $this->fixture->entryFrom('-rw----r-- 1 p159995 ftpusers 415 May 23 2000 write.html');
 
       $this->assertSubclass($e, 'peer.ftp.FtpEntry') &&
       $this->assertEquals('write.html', $e->getName()) &&
@@ -74,7 +74,7 @@
      */
     #[@test]
     public function whitespaceInFileName() {
-      $e= &$this->fixture->entryFrom('-rw----r-- 1 p159995 ftpusers 415 May 23 2000 answer me.html');
+      $e= $this->fixture->entryFrom('-rw----r-- 1 p159995 ftpusers 415 May 23 2000 answer me.html');
 
       $this->assertSubclass($e, 'peer.ftp.FtpEntry') &&
       $this->assertEquals('answer me.html', $e->getName()) &&
Index: ports/classes/net/xp_framework/unittest/peer/WindowsFtpListParserTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/peer/WindowsFtpListParserTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/peer/WindowsFtpListParserTest.class.php	(working copy)
@@ -36,7 +36,7 @@
      */
     #[@test]
     public function directory() {
-      $e= &$this->fixture->entryFrom('01-04-06  04:51PM       <DIR>          _db_import');
+      $e= $this->fixture->entryFrom('01-04-06  04:51PM       <DIR>          _db_import');
 
       $this->assertSubclass($e, 'peer.ftp.FtpDir') &&
       $this->assertEquals('_db_import', $e->getName()) &&
@@ -55,7 +55,7 @@
      */
     #[@test]
     public function regularFile() {
-      $e= &$this->fixture->entryFrom('11-08-06  10:04AM                   27 info.txt');
+      $e= $this->fixture->entryFrom('11-08-06  10:04AM                   27 info.txt');
 
       $this->assertSubclass($e, 'peer.ftp.FtpEntry') &&
       $this->assertEquals('info.txt', $e->getName()) &&
Index: ports/classes/net/xp_framework/unittest/peer/InternetAddressTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/peer/InternetAddressTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/peer/InternetAddressTest.class.php	(working copy)
@@ -41,7 +41,7 @@
         '=?iso-8859-1?Q?Alex_Kiesel?= <kiesel@example.com>'
       );
       foreach ($strings as $string) {
-        $address= &InternetAddress::fromString($string);
+        $address= InternetAddress::fromString($string);
         $this->assertEquals('kiesel', $address->localpart);
         $this->assertEquals('example.com', $address->domain);
       }
Index: ports/classes/net/xp_framework/unittest/peer/HttpTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/peer/HttpTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/peer/HttpTest.class.php	(working copy)
@@ -66,7 +66,7 @@
      */
     public function _testRequest($method, $expectingData) {
       try {
-        $response= &$this->conn->request($method, array(
+        $response= $this->conn->request($method, array(
           'a'   => 'b',
           'b'   => 'c'
         ));
Index: ports/classes/net/xp_framework/unittest/peer/LDAPTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/peer/LDAPTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/peer/LDAPTest.class.php	(working copy)
@@ -61,13 +61,13 @@
      */
     #[@test]
     public function testSearch() {
-      $res= &$this->lc->search(
+      $res= $this->lc->search(
         'ou=People,dc=OpenLDAP,dc=Org', 
         '(objectClass=*)'
       );
       $this->assertClass($res, 'peer.ldap.LDAPSearchResult');
       $this->assertInteger($res->numEntries());
-      $entry= &$res->getFirstEntry();
+      $entry= $res->getFirstEntry();
       $this->assertClass($entry, 'peer.ldap.LDAPEntry');
       return $entry;
     }
Index: ports/classes/net/xp_framework/unittest/peer/LDAPEntryTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/peer/LDAPEntryTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/peer/LDAPEntryTest.class.php	(working copy)
@@ -111,7 +111,7 @@
      */
     #[@test]
     public function fromData() {
-      $cmp= &LDAPEntry::fromData($data= array(
+      $cmp= LDAPEntry::fromData($data= array(
         'objectclass' => array(
           'count' => 3,
           0 => 'top',
Index: ports/classes/net/xp_framework/unittest/xml/NodeTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/NodeTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/NodeTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @param   &xml.Node node
      * @return  string
      */
-    public function sourceOf(&$node, $mode= INDENT_DEFAULT) {
+    public function sourceOf($node, $mode= INDENT_DEFAULT) {
       return rtrim($node->getSource($mode), "\n");
     }
     
Index: ports/classes/net/xp_framework/unittest/xml/DomXslProcessorTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/DomXslProcessorTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/DomXslProcessorTest.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  protected
      * @return  &xml.IXSLProcessor
      */
-    public function &processorInstance() {
+    public function processorInstance() {
       return new DomXSLProcessor();
     }
 
Index: ports/classes/net/xp_framework/unittest/xml/MarshallerTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/MarshallerTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/MarshallerTest.class.php	(working copy)
@@ -81,11 +81,11 @@
       $dialog= new DialogType();
       $dialog->setCaption('Really delete the file ""?');
 
-      with ($ok= &$dialog->addButton(new ButtonType())); {
+      with ($ok= $dialog->addButton(new ButtonType())); {
         $ok->setId('ok');
         $ok->setCaption('Yes, go ahead');
       }
-      with ($cancel= &$dialog->addButton(new ButtonType())); {
+      with ($cancel= $dialog->addButton(new ButtonType())); {
         $cancel->setId('cancel');
         $cancel->setCaption('No, please don\'t!');
       }
Index: ports/classes/net/xp_framework/unittest/xml/UnmarshallerTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/UnmarshallerTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/UnmarshallerTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      */
     #[@test]
     public function idAttribute() {
-      $dialog= &Unmarshaller::unmarshal('
+      $dialog= Unmarshaller::unmarshal('
         <dialogtype id="file.open">
           <caption/>
         </dialogtype>',
@@ -42,7 +42,7 @@
      */
     #[@test]
     public function captionNode() {
-      $dialog= &Unmarshaller::unmarshal('
+      $dialog= Unmarshaller::unmarshal('
         <dialogtype id="">
           <caption>Open a file &gt; Choose</caption>
         </dialogtype>',
@@ -59,7 +59,7 @@
      */
     #[@test]
     public function buttonsNodeSet() {
-      $dialog= &Unmarshaller::unmarshal('
+      $dialog= Unmarshaller::unmarshal('
         <dialogtype id="">
           <caption>Really delete the file &quot;&quot;?</caption>
           <button id="ok">Yes, go ahead</button>
@@ -71,7 +71,7 @@
       $this->assertTrue($dialog->hasButtons()) &&
       $this->assertEquals(2, $dialog->numButtons()) &&
 
-      with ($ok= &$dialog->buttonAt(0), $cancel= &$dialog->buttonAt(1)); {
+      with ($ok= $dialog->buttonAt(0), $cancel= $dialog->buttonAt(1)); {
         $this->assertClass($ok, 'net.xp_framework.unittest.xml.ButtonType') &&
         $this->assertClass($cancel, 'net.xp_framework.unittest.xml.ButtonType') &&
         $this->assertEquals('ok', $ok->getId()) &&
Index: ports/classes/net/xp_framework/unittest/xml/TreeTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/TreeTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/TreeTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @param   &xml.Tree tree
      * @return  string
      */
-    public function sourceOf(&$tree, $mode= INDENT_DEFAULT) {
+    public function sourceOf($tree, $mode= INDENT_DEFAULT) {
       return rtrim($tree->getSource($mode), "\n");
     }
 
@@ -49,7 +49,7 @@
      */
     #[@test]
     public function rootMember() {
-      with ($t= new Tree('formresult'), $r= &$t->root); {
+      with ($t= new Tree('formresult'), $r= $t->root); {
         $this->assertClass($r, 'xml.Node');
         $this->assertEmpty($r->children);
         $this->assertEmpty($r->attribute);
@@ -76,20 +76,20 @@
      */
     #[@test]
     public function fromString() {
-      $t= &Tree::fromString('
+      $t= Tree::fromString('
         <c:config xmlns:c="http://example.com/cfg/1.0">
           <attribute name="key">value</attribute>
         </c:config>
       ');
       
-      with ($r= &$t->root); {
+      with ($r= $t->root); {
         $this->assertEquals('c:config', $r->getName());
         $this->assertTrue($r->hasAttribute('xmlns:c'));
         $this->assertEquals('http://example.com/cfg/1.0', $r->getAttribute('xmlns:c'));
         $this->assertEquals(1, sizeof($r->children));
       }      
       
-      with ($c= &$t->root->children[0]); {
+      with ($c= $t->root->children[0]); {
         $this->assertEquals('attribute', $c->name);
         $this->assertTrue($c->hasAttribute('name'));
         $this->assertEquals('key', $c->getAttribute('name'));
Index: ports/classes/net/xp_framework/unittest/xml/DialogType.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/DialogType.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/DialogType.class.php	(working copy)
@@ -26,7 +26,7 @@
      * @access  public
      */
     public function __construct() {
-      $this->buttons= &Collection::forClass('net.xp_framework.unittest.xml.ButtonType');
+      $this->buttons= Collection::forClass('net.xp_framework.unittest.xml.ButtonType');
     }
 
     /**
@@ -81,7 +81,7 @@
      * @return  &net.xp_framework.unittest.xml.ButtonType the added button
      */
     #[@xmlmapping(element= 'button', class= 'net.xp_framework.unittest.xml.ButtonType')]
-    public function &addButton(&$button) {
+    public function addButton($button) {
       $this->buttons->add($button);
       return $button;
     }
@@ -103,7 +103,7 @@
      * @param   int
      * @return  &net.xp_framework.unittest.xml.ButtonType 
      */
-    public function &buttonAt($offset) {
+    public function buttonAt($offset) {
       return $this->buttons->get($offset);
     }
 
Index: ports/classes/net/xp_framework/unittest/xml/AbstractProcessorTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/AbstractProcessorTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/AbstractProcessorTest.class.php	(working copy)
@@ -50,7 +50,7 @@
      * @access  protected
      * @return  &xml.IXSLProcessor
      */
-    public function &processorInstance() { }
+    public function processorInstance() { }
 
     /**
      * Returns the XSL processor's default output charset
@@ -71,7 +71,7 @@
       if (!extension_loaded($ext= $this->neededExtension())) {
         throw(new PrerequisitesNotMetError($ext.' extension not loaded'));
       }
-      $this->processor= &$this->processorInstance();
+      $this->processor= $this->processorInstance();
       $this->xmlDeclaration= '<?xml version="1.0" encoding="'.$this->processorCharset().'"?>';
     }
 
Index: ports/classes/net/xp_framework/unittest/xml/SablotronProcessorTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/xml/SablotronProcessorTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/xml/SablotronProcessorTest.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  protected
      * @return  &xml.IXSLProcessor
      */
-    public function &processorInstance() {
+    public function processorInstance() {
       return new XSLProcessor();
     }
 
Index: ports/classes/net/xp_framework/unittest/soap/SOAPDummyTransport.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/soap/SOAPDummyTransport.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/soap/SOAPDummyTransport.class.php	(working copy)
@@ -23,8 +23,8 @@
      * @access  public
      * @param   &webservices.soap.SOAPMessage request
      */
-    public function setRequest(&$request) {
-      $this->request= &$request;
+    public function setRequest($request) {
+      $this->request= $request;
     }
 
     /**
@@ -33,7 +33,7 @@
      * @access  public
      * @return  &webservices.soap.SOAPMessage
      */
-    public function &getRequest() {
+    public function getRequest() {
       return $this->request;
     }
 
@@ -73,7 +73,7 @@
      * @access  public
      * @param   &webservices.soap.SOAPMessage message
      */
-    public function send(&$message) {
+    public function send($message) {
       $this->request= $message; // Intentional copy
       return TRUE;
     }    
@@ -84,7 +84,7 @@
      * @access  public
      * @return  &webservices.soap.SOAPMessage
      */
-    public function &retrieve() {
+    public function retrieve() {
       return SOAPMessage::fromString($this->answer);
     }
   }
Index: ports/classes/net/xp_framework/unittest/soap/SoapMappingTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/soap/SoapMappingTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/soap/SoapMappingTest.class.php	(working copy)
@@ -71,7 +71,7 @@
       $client= new SOAPClient($transport, 'urn://test');
       
       // Re-set transport as constructor created a copy of it!
-      $client->transport= &$transport;
+      $client->transport= $transport;
       
       $client->registerMapping(
         new QName('http://net.xp_framework/soap/types', 'SoapTestType'),
@@ -84,8 +84,8 @@
         // We don't receive a "real" answer, which will cause an exception
       }
       
-      $msg= &$transport->getRequest();
-      $body= &$msg->_bodyElement();
+      $msg= $transport->getRequest();
+      $body= $msg->_bodyElement();
       $this->assertEquals(
         'http://net.xp_framework/soap/types', 
         $body->children[0]->children[0]->attribute['xmlns:ns1']
Index: ports/classes/net/xp_framework/unittest/soap/SoapTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/soap/SoapTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/soap/SoapTest.class.php	(working copy)
@@ -98,7 +98,7 @@
      */
     #[@test]
     public function testHeader() {
-      $msg= &SOAPMessage::fromString('
+      $msg= SOAPMessage::fromString('
         <SOAP-ENV:Envelope
           xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
Index: ports/classes/net/xp_framework/unittest/tests/SuiteTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/tests/SuiteTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/tests/SuiteTest.class.php	(working copy)
@@ -104,7 +104,7 @@
      */    
     #[@test]
     public function runningASingleSucceedingTest() {
-      $r= &$this->suite->runTest(new SimpleTestCase('succeeds'));
+      $r= $this->suite->runTest(new SimpleTestCase('succeeds'));
       $this->assertClass($r, 'unittest.TestResult') &&
       $this->assertEquals(1, $r->runCount(), 'runCount') &&
       $this->assertEquals(1, $r->successCount(), 'successCount') &&
@@ -119,7 +119,7 @@
      */    
     #[@test]
     public function runningASingleFailingTest() {
-      $r= &$this->suite->runTest(new SimpleTestCase('fails'));
+      $r= $this->suite->runTest(new SimpleTestCase('fails'));
       $this->assertClass($r, 'unittest.TestResult') &&
       $this->assertEquals(1, $r->runCount(), 'runCount') &&
       $this->assertEquals(0, $r->successCount(), 'successCount') &&
Index: ports/classes/net/xp_framework/unittest/tests/AssertionsTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/tests/AssertionsTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/tests/AssertionsTest.class.php	(working copy)
@@ -111,7 +111,7 @@
      */    
     #[@test]
     public function equalsMethodIsInvoked() {
-      $instance= &newinstance('lang.Object', array(), '{
+      $instance= newinstance('lang.Object', array(), '{
          var $equalsInvoked= 0;
 
         function equals(&$other) {
@@ -128,7 +128,7 @@
       // will create a copy of the argument (because of its signature, where 
       // the expected and actual arguments are not pass-by-ref arguments; which
       // they can't be, because else assertEquals(TRUE, $other) wouldn't work...
-      $invoked= &$instance->equalsInvoked;
+      $invoked= $instance->equalsInvoked;
       $this->assertEquals($instance, $instance);
       $this->assertNotEquals($instance, NULL);
       $this->assertEquals(2, $invoked);
Index: ports/classes/net/xp_framework/unittest/tests/LimitTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/tests/LimitTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/tests/LimitTest.class.php	(working copy)
@@ -36,7 +36,7 @@
      */    
     #[@test]
     public function timeouts() {
-      $r= &$this->suite->runTest(new SimpleTestCase('timeouts'));
+      $r= $this->suite->runTest(new SimpleTestCase('timeouts'));
       $this->assertEquals(1, $r->failureCount());
     }    
 
@@ -47,7 +47,7 @@
      */    
     #[@test]
     public function noTimeout() {
-      $r= &$this->suite->runTest(new SimpleTestCase('noTimeout'));
+      $r= $this->suite->runTest(new SimpleTestCase('noTimeout'));
       $this->assertEquals(1, $r->successCount());
     }    
   }
Index: ports/classes/net/xp_framework/unittest/tests/coverage/TicksTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/tests/coverage/TicksTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/tests/coverage/TicksTest.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  public
      */
     public function setUp() {
-      set_error_handler(array(&$this, 'tick'));
+      set_error_handler(array($this, 'tick'));
       register_tick_function('trigger_error', NULL, E_USER_NOTICE);
     }
     
Index: ports/classes/net/xp_framework/unittest/DateTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/DateTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/DateTest.class.php	(working copy)
@@ -35,7 +35,7 @@
       
       $this->nowTime= time();
       $this->nowDate= new Date($this->nowTime);
-      $this->refDate= &Date::fromString('1977-12-14 11:55');
+      $this->refDate= Date::fromString('1977-12-14 11:55');
     }
     
     /**
@@ -71,7 +71,7 @@
      * @param   string error default 'datenotequal'
      * @return  bool
      */
-    public function assertDateEquals(&$d, $str, $error= 'datenotequal') {
+    public function assertDateEquals($d, $str, $error= 'datenotequal') {
       return $this->assertEquals($d->format('%Y-%m-%d %H:%M:%S'), $str, $error);
     }
     
@@ -97,7 +97,7 @@
      */
     #[@test]
     public function testCalendarEaster() {
-      $easter= &Calendar::easter(2003);
+      $easter= Calendar::easter(2003);
       $this->assertDateEquals($easter, '2003-04-20 00:00:00', 'easter');
       return $easter;
     }
@@ -110,7 +110,7 @@
      */
     #[@test]
     public function testCalendarAdvent() {
-      $advent= &Calendar::advent(2003);
+      $advent= Calendar::advent(2003);
       $this->assertDateEquals($advent, '2003-11-30 00:00:00', 'advent');
       return $advent;
     }
@@ -123,7 +123,7 @@
      */
     #[@test]
     public function testCalendarDSTBegin() {
-      $begin= &Calendar::dstBegin(2003);
+      $begin= Calendar::dstBegin(2003);
       $this->assertDateEquals($begin, '2003-03-30 00:00:00', 'dstbegin');
       return $begin;
     }
@@ -136,7 +136,7 @@
      */
     #[@test]
     public function testCalendarDSTEnd() {
-      $end= &Calendar::dstEnd(2003);
+      $end= Calendar::dstEnd(2003);
       $this->assertDateEquals($end, '2003-10-26 00:00:00', 'dstend');
       return $end;
     }
@@ -150,10 +150,10 @@
      */
     #[@test]
     public function testPreUnixEpoch() {
-      $date= &Date::fromString('Dec 31 1969 00:00AM');
+      $date= Date::fromString('Dec 31 1969 00:00AM');
       $this->assertDateEquals($date, '1969-12-31 00:00:00', 'preunix');
 
-      $date= &Date::fromString('Jan 01 1500 00:00AM');
+      $date= Date::fromString('Jan 01 1500 00:00AM');
       $this->assertDateEquals($date, '1500-01-01 00:00:00', 'midage');
       return $date;
     }
@@ -169,29 +169,29 @@
     public function testAnteAndPostMeridiem() {
     
       // Test with default strtotime() implementation
-      $date= &Date::fromString('May 28 1980 1:00AM');
+      $date= Date::fromString('May 28 1980 1:00AM');
       $this->assertEquals($date->getHours(), 1, '1:00AM != 1h');
       
-      $date= &Date::fromString('May 28 1980 12:00AM');
+      $date= Date::fromString('May 28 1980 12:00AM');
       $this->assertEquals($date->getHours(), 0, '12:00AM != 0h');
       
-      $date= &Date::fromString('May 28 1980 1:00PM');
+      $date= Date::fromString('May 28 1980 1:00PM');
       $this->assertEquals($date->getHours(), 13, '1:00PM != 13h');
 
-      $date= &Date::fromString('May 28 1980 12:00PM');
+      $date= Date::fromString('May 28 1980 12:00PM');
       $this->assertEquals($date->getHours(), 12, '12:00PM != 12h');
 
       // Test with homegrown strtotime-replacement
-      $date= &Date::fromString('May 28 1580 1:00AM');
+      $date= Date::fromString('May 28 1580 1:00AM');
       $this->assertEquals((int)$date->getHours(), 1, '1:00AM != 1h');
       
-      $date= &Date::fromString('May 28 1580 12:00AM');
+      $date= Date::fromString('May 28 1580 12:00AM');
       $this->assertEquals((int)$date->getHours(), 0, '12:00AM != 0h');
       
-      $date= &Date::fromString('May 28 1580 1:00PM');
+      $date= Date::fromString('May 28 1580 1:00PM');
       $this->assertEquals((int)$date->getHours(), 13, '1:00PM != 13h');
 
-      $date= &Date::fromString('May 28 1580 12:00PM');
+      $date= Date::fromString('May 28 1580 12:00PM');
       $this->assertEquals((int)$date->getHours(), 12, '12:00PM != 12h');
     }
     
@@ -204,7 +204,7 @@
     public function testMktime() {
       
       // Test with a date before 1971
-      $stamp= &Date::mktime(0, 0, 0, '08', '02', 1968);
+      $stamp= Date::mktime(0, 0, 0, '08', '02', 1968);
       $this->assertEquals($stamp, -44668800, 'Wrong timestamp');
     }
     
@@ -217,10 +217,10 @@
      */    
     #[@test]
     public function pre1970() {
-      $d= &Date::fromString('01.02.1969');
+      $d= Date::fromString('01.02.1969');
       $this->assertDateEquals($d, '1969-02-01 00:00:00');
       
-      $d= &Date::fromString('1969-02-01');
+      $d= Date::fromString('1969-02-01');
       $this->assertDateEquals($d, '1969-02-01 00:00:00');
       
       $d= Date::fromString('1969-02-01 00:00AM');
Index: ports/classes/net/xp_framework/unittest/rdbms/DBTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/rdbms/DBTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/rdbms/DBTest.class.php	(working copy)
@@ -37,7 +37,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->conn= &DriverManager::getConnection('mock://mock/MOCKDB');
+      $this->conn= DriverManager::getConnection('mock://mock/MOCKDB');
       $this->assertEquals(0, $this->conn->flags & DB_AUTOCONNECT);
     }
     
@@ -60,7 +60,7 @@
       $version= '$Revision$';
       $this->conn->setResultSet(new MockResultSet(array(array('version' => $version))));
       if (
-        ($r= &$this->conn->query('select %s as version', $version)) &&
+        ($r= $this->conn->query('select %s as version', $version)) &&
         ($this->assertSubclass($r, 'rdbms.ResultSet')) && 
         ($field= $r->next('version'))
       ) $this->assertEquals($field, $version);
Index: ports/classes/net/xp_framework/unittest/rdbms/DataSetTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/rdbms/DataSetTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/rdbms/DataSetTest.class.php	(working copy)
@@ -42,7 +42,7 @@
      * @access  public
      */
     public function setUp() {
-      $cm= &ConnectionManager::getInstance();
+      $cm= ConnectionManager::getInstance();
       $cm->register(DriverManager::getConnection('mock://mock/JOBS?autoconnect=1'), 'jobs');
     }
     
@@ -52,8 +52,8 @@
      * @access  protected
      * @return  &net.xp_framework.unittest.rdbms.mock.MockConnection
      */
-    public function &getConnection() {
-      $cm= &ConnectionManager::getInstance();
+    public function getConnection() {
+      $cm= ConnectionManager::getInstance();
       return $cm->getByHost('jobs', 0);
     }
     
@@ -63,8 +63,8 @@
      * @access  protected
      * @param   &net.xp_framework.unittest.rdbms.mock.MockResultSet r
      */
-    public function setResults(&$r) {
-      $conn= &$this->getConnection();
+    public function setResults($r) {
+      $conn= $this->getConnection();
       $conn->setResultSet($r);
     }
     
@@ -75,7 +75,7 @@
      */
     #[@test]
     public function peerObject() {
-      $peer= &Job::getPeer();
+      $peer= Job::getPeer();
       $this->assertClass($peer, 'rdbms.Peer');
       $this->assertEquals('job', strtolower($peer->identifier));
       $this->assertEquals('jobs', $peer->connection);
@@ -98,7 +98,7 @@
      */
     #[@test]
     public function getByJob_id() {
-      $now= &Date::now();
+      $now= Date::now();
       $this->setResults(new MockResultSet(array(
         0 => array(   // First row
           'job_id'      => 1,
@@ -108,7 +108,7 @@
         )
       )));
       
-      $job= &Job::getByJob_id(1);
+      $job= Job::getByJob_id(1);
       $this->assertClass($job, 'net.xp_framework.unittest.rdbms.dataset.Job');
       $this->assertEquals(1, $job->getJob_id());
       $this->assertEquals('Unit tester', $job->getTitle());
@@ -143,7 +143,7 @@
         )
       )));
       
-      $job= &Job::getByJob_id(1);
+      $job= Job::getByJob_id(1);
       $this->assertFalse($job->isNew());
     }
 
@@ -183,7 +183,7 @@
      */
     #[@test, @expect('rdbms.SQLException')]
     public function failedQueryInGetByJob_id() {
-      $mock= &$this->getConnection();
+      $mock= $this->getConnection();
       $mock->makeQueryFail(1, 'Select failed');
 
       Job::getByJob_id(IRRELEVANT_NUMBER);
@@ -197,7 +197,7 @@
      */
     #[@test]
     public function insertReturnsIdentity() {
-      $mock= &$this->getConnection();
+      $mock= $this->getConnection();
       $mock->setIdentityValue(14121977);
 
       $j= new Job();
@@ -217,7 +217,7 @@
      */
     #[@test]
     public function saveReturnsIdentityForInserts() {
-      $mock= &$this->getConnection();
+      $mock= $this->getConnection();
       $mock->setIdentityValue(14121977);
 
       $j= new Job();
@@ -246,7 +246,7 @@
         )
       )));
       
-      $job= &Job::getByJob_id(1);
+      $job= Job::getByJob_id(1);
       $id= $job->save();
       $this->assertEquals(1, $id);
     }
@@ -260,7 +260,7 @@
      */
     #[@test]
     public function identityFieldIsSet() {
-      $mock= &$this->getConnection();
+      $mock= $this->getConnection();
       $mock->setIdentityValue(14121977);
 
       $j= new Job();
@@ -283,7 +283,7 @@
      */
     #[@test, @expect('rdbms.SQLException')]
     public function failedQueryInInsert() {
-      $mock= &$this->getConnection();
+      $mock= $this->getConnection();
       $mock->makeQueryFail(1205, 'Deadlock');
 
       $j= new Job();
@@ -310,7 +310,7 @@
         )
       )));
     
-      $peer= &Job::getPeer();
+      $peer= Job::getPeer();
       $jobs= $peer->doSelect(new Criteria(array('title', 'Unit tester', EQUAL)));
 
       $this->assertArray($jobs);
@@ -327,7 +327,7 @@
     public function noResultForDoSelect() {
       $this->setResults(new MockResultSet());
     
-      $peer= &Job::getPeer();
+      $peer= Job::getPeer();
       $jobs= $peer->doSelect(new Criteria(array('job_id', IRRELEVANT_NUMBER, EQUAL)));
 
       $this->assertArray($jobs);
@@ -356,7 +356,7 @@
         )
       )));
     
-      $peer= &Job::getPeer();
+      $peer= Job::getPeer();
       $jobs= $peer->doSelect(new Criteria(array('job_id', 10, LESS_THAN)));
 
       $this->assertArray($jobs);
@@ -389,8 +389,8 @@
         )
       )));
 
-      $peer= &Job::getPeer();
-      $iterator= &$peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
+      $peer= Job::getPeer();
+      $iterator= $peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
 
       $this->assertClass($iterator, 'rdbms.ResultIterator');
       
@@ -399,13 +399,13 @@
       $this->assertTrue($iterator->hasNext());
       $this->assertTrue($iterator->hasNext());
       
-      $job= &$iterator->next();
+      $job= $iterator->next();
       $this->assertClass($job, 'net.xp_framework.unittest.rdbms.dataset.Job');
       $this->assertEquals(654, $job->getJob_id());
 
       $this->assertTrue($iterator->hasNext());
 
-      $job= &$iterator->next();
+      $job= $iterator->next();
       $this->assertClass($job, 'net.xp_framework.unittest.rdbms.dataset.Job');
       $this->assertEquals(329, $job->getJob_id());
 
@@ -435,10 +435,10 @@
         )
       )));
 
-      $peer= &Job::getPeer();
-      $iterator= &$peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
+      $peer= Job::getPeer();
+      $iterator= $peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
 
-      $job= &$iterator->next();
+      $job= $iterator->next();
       $this->assertClass($job, 'net.xp_framework.unittest.rdbms.dataset.Job');
       $this->assertEquals(654, $job->getJob_id());
 
@@ -454,8 +454,8 @@
     #[@test, @expect('util.NoSuchElementException')]
     public function nextCallOnEmptyResultSet() {
       $this->setResults(new MockResultSet());
-      $peer= &Job::getPeer();
-      $iterator= &$peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
+      $peer= Job::getPeer();
+      $iterator= $peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
       $iterator->next();
     }
 
@@ -476,8 +476,8 @@
         )
       )));
 
-      $peer= &Job::getPeer();
-      $iterator= &$peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
+      $peer= Job::getPeer();
+      $iterator= $peer->iteratorFor(new Criteria(array('expire_at', NULL, EQUAL)));
       $iterator->next();
       $iterator->next();
     }
@@ -498,13 +498,13 @@
         )
       )));
 
-      $peer= &Job::getPeer();
-      $iterator= &$peer->iteratorFor(new Statement('select object(j) from job j where 1 = 1'));
+      $peer= Job::getPeer();
+      $iterator= $peer->iteratorFor(new Statement('select object(j) from job j where 1 = 1'));
       $this->assertClass($iterator, 'rdbms.ResultIterator');
 
       $this->assertTrue($iterator->hasNext());
 
-      $job= &$iterator->next();
+      $job= $iterator->next();
       $this->assertClass($job, 'net.xp_framework.unittest.rdbms.dataset.Job');
       $this->assertEquals(654, $job->getJob_id());
       $this->assertEquals('Java Unit tester', $job->getTitle());
@@ -529,11 +529,11 @@
           'expire_at'   => NULL
         )
       )));
-      $job= &Job::getByJob_id(1);
+      $job= Job::getByJob_id(1);
 
       // Second, update the job. Make the next query fail on this 
       // connection to ensure that nothing is actually done.
-      $mock= &$this->getConnection();
+      $mock= $this->getConnection();
       $mock->makeQueryFail(1326, 'Syntax error');
       $job->update();
 
Index: ports/classes/net/xp_framework/unittest/rdbms/TokenizerTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/rdbms/TokenizerTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/rdbms/TokenizerTest.class.php	(working copy)
@@ -27,9 +27,9 @@
      */
     public function __construct($name) {
       parent::__construct($name);
-      $this->conn['sybase']= &DriverManager::getConnection('sybase://localhost:1999/');
-      $this->conn['mysql']= &DriverManager::getConnection('mysql://localhost/');
-      $this->conn['pgsql']= &DriverManager::getConnection('pgsql://localhost/');
+      $this->conn['sybase']= DriverManager::getConnection('sybase://localhost:1999/');
+      $this->conn['mysql']= DriverManager::getConnection('mysql://localhost/');
+      $this->conn['pgsql']= DriverManager::getConnection('pgsql://localhost/');
     }
       
     /**
Index: ports/classes/net/xp_framework/unittest/rdbms/dataset/Job.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/rdbms/dataset/Job.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/rdbms/dataset/Job.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &Job::getPeer()); {
+      with ($peer= Job::getPeer()); {
         $peer->setTable('JOBS.job');
         $peer->setConnection('jobs');
         $peer->setIdentity('job_id');
@@ -45,7 +45,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -57,8 +57,8 @@
      * @return  &de.schlund.db.job.Job object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByJob_id($job_id) {
-      $peer= &Job::getPeer();
+    public function getByJob_id($job_id) {
+      $peer= Job::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('job_id', $job_id, EQUAL))));
     }
 
Index: ports/classes/net/xp_framework/unittest/rdbms/mock/MockConnection.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/rdbms/mock/MockConnection.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/rdbms/mock/MockConnection.class.php	(working copy)
@@ -29,7 +29,7 @@
      * @access  public
      * @param   &rdbms.DSN dsn
      */
-    public function __construct(&$dsn) { 
+    public function __construct($dsn) { 
       parent::__construct($dsn);
       $this->resultSet= new MockResultSet();
     }
@@ -40,9 +40,9 @@
      * @access  public
      * @param   &net.xp_framework.unittest.rdbms.mock.MockResultSet resultSet
      */
-    public function setResultSet(&$resultSet) {
+    public function setResultSet($resultSet) {
       $this->queryError= array();
-      $this->resultSet= &$resultSet;
+      $this->resultSet= $resultSet;
     }
 
     /**
@@ -51,7 +51,7 @@
      * @access  public
      * @return  &net.xp_framework.unittest.rdbms.mock.MockResultSet
      */
-    public function &getResultSet() {
+    public function getResultSet() {
       return $this->resultSet;
     }
 
@@ -242,7 +242,7 @@
     public function insert() { 
       $args= func_get_args();
       $args[0]= 'insert '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -269,7 +269,7 @@
     public function update() {
       $args= func_get_args();
       $args[0]= 'update '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -286,7 +286,7 @@
     public function delete() {
       $args= func_get_args();
       $args[0]= 'delete '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -303,7 +303,7 @@
     public function select() { 
       $args= func_get_args();
       $args[0]= 'select '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -319,7 +319,7 @@
      * @param   mixed* args
      * @return  &rdbms.ResultSet
      */
-    public function &query() { 
+    public function query() { 
       $args= func_get_args();
       $sql= $this->_prepare($args);
 
@@ -370,8 +370,8 @@
      * @param   &rdbms.DBTransaction transaction
      * @return  &rdbms.DBTransaction
      */
-    public function &begin(&$transaction) {
-      $transaction->db= &$this;
+    public function begin($transaction) {
+      $transaction->db= $this;
       return $transaction;
     }
     
Index: ports/classes/net/xp_framework/unittest/rdbms/CriteriaTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/rdbms/CriteriaTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/rdbms/CriteriaTest.class.php	(working copy)
@@ -36,8 +36,8 @@
      */
     public function __construct($name) {
       parent::__construct($name);
-      $this->conn= &DriverManager::getConnection('sybase://localhost:1999/');
-      $this->peer= &Job::getPeer();
+      $this->conn= DriverManager::getConnection('sybase://localhost:1999/');
+      $this->peer= Job::getPeer();
     }
     
     /**
@@ -49,7 +49,7 @@
      * @param   &rdbms.Criteria criteria
      * @throws  unittest.AssertionFailedError
      */
-    public function assertSql($sql, &$criteria) {
+    public function assertSql($sql, $criteria) {
       $this->assertEquals($sql, trim($criteria->toSQL($this->conn, $this->peer->types), ' '));
     }
       
@@ -115,7 +115,7 @@
      */
     #[@test]
     public function restrictionsFactory() {
-      $job_id= &Property::forName('job_id');
+      $job_id= Property::forName('job_id');
       $c= new Criteria(Restrictions::anyOf(
         Restrictions::not($job_id->in(array(1, 2, 3))),
         Restrictions::allOf(
Index: ports/classes/net/xp_framework/unittest/io/ArchiveClassLoaderTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/ArchiveClassLoaderTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/ArchiveClassLoaderTest.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   string bytes
      * @return  &io.Stream
      */
-    public function &classStream($bytes) {
+    public function classStream($bytes) {
       $cstr= new Stream();
       $cstr->open(STREAM_MODE_WRITE);
       $cstr->write('<?php '.$bytes.' ?>');
@@ -103,7 +103,7 @@
      */
     #[@test]
     public function loadClass() {
-      $class= &$this->classloader->loadClass($this->classname);
+      $class= $this->classloader->loadClass($this->classname);
       $class && $this->assertEquals($class->getName(), $this->classname);
     }
     
@@ -115,8 +115,8 @@
     #[@test]
     public function classImplementsArchivedInterface() {
       if (
-        $class= &$this->classloader->loadClass($this->classname) &&
-        $interface= &$this->classloader->loadClass($this->interfacename)
+        $class= $this->classloader->loadClass($this->classname) &&
+        $interface= $this->classloader->loadClass($this->interfacename)
       ) {
         $interfaces= new HashSet();
         $interfaces->addAll($class->getInterfaces());
@@ -132,8 +132,8 @@
     #[@test]
     public function classImplementsComparatorInterface() {
       if (
-        $class= &$this->classloader->loadClass($this->classname) &&
-        $interface= &XPClass::forName('util.Comparator')
+        $class= $this->classloader->loadClass($this->classname) &&
+        $interface= XPClass::forName('util.Comparator')
       ) {
         $interfaces= new HashSet();
         $interfaces->addAll($class->getInterfaces());
Index: ports/classes/net/xp_framework/unittest/io/collections/MockCollection.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/MockCollection.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/MockCollection.class.php	(working copy)
@@ -34,8 +34,8 @@
      * @return  &io.collection.IOElement e
      * @return  &io.collection.IOElement
      */
-    public function &addElement(&$e) {
-      $this->_elements[]= &$e;
+    public function addElement($e) {
+      $this->_elements[]= $e;
       return $e;
     }
       
@@ -74,7 +74,7 @@
      * @access  public
      * @return  &io.collection.IOElement
      */
-    public function &next() {
+    public function next() {
       if (-1 == $this->_offset) throw(new IllegalStateException('Not open'));
       if ($this->_offset >= sizeof($this->_elements)) return NULL;
 
@@ -106,7 +106,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &createdAt() {
+    public function createdAt() {
       return NULL;
     }
 
@@ -116,7 +116,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &lastAccessed() {
+    public function lastAccessed() {
       return NULL;
     }
 
@@ -126,7 +126,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &lastModified() {
+    public function lastModified() {
       return NULL;
     }
 
Index: ports/classes/net/xp_framework/unittest/io/collections/IOCollectionIteratorTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/IOCollectionIteratorTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/IOCollectionIteratorTest.class.php	(working copy)
@@ -42,7 +42,7 @@
     #[@test]
     public function iteration() {
       for ($it= new IOCollectionIterator($this->fixture), $i= 0; $it->hasNext(); $i++) {
-        $e= &$it->next();
+        $e= $it->next();
         $this->assertTrue(is('io.collections.IOElement', $e));
       }
       $this->assertEquals($this->sizes[$this->fixture->getURI()], $i);
@@ -56,7 +56,7 @@
     #[@test]
     public function recursiveIteration() {
       for ($it= new IOCollectionIterator($this->fixture, TRUE), $i= 0; $it->hasNext(); $i++) {
-        $e= &$it->next();
+        $e= $it->next();
         $this->assertTrue(is('io.collections.IOElement', $e));
       }
       $this->assertEquals($this->total, $i);
@@ -70,13 +70,13 @@
      * @param   bool recursive default FALSE
      * @return  string[] an array of the elements' URIs
      */
-    public function filterFixtureWith(&$filter, $recursive= FALSE) {
+    public function filterFixtureWith($filter, $recursive= FALSE) {
       $elements= array();
       for (
         $it= new FilteredIOCollectionIterator($this->fixture, $filter, $recursive);
         $it->hasNext(); 
       ) {
-        $e= &$it->next();
+        $e= $it->next();
         $this->assertTrue(is('io.collections.IOElement', $e));
         $elements[]= $e->getURI();
       }
Index: ports/classes/net/xp_framework/unittest/io/collections/CollectionCompositeTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/CollectionCompositeTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/CollectionCompositeTest.class.php	(working copy)
@@ -27,7 +27,7 @@
      * @param   &io.collections.IOElement element
      * @throws  unittest.AssertionFailedError
      */
-    public function assertElement($uri, &$element) {
+    public function assertElement($uri, $element) {
       $this->assertSubClass($element, 'io.collections.IOElement') &&
       $this->assertEquals($uri, $element->getURI());
     }
@@ -40,7 +40,7 @@
      * @param   io.collections.IOElement[] elements
      * @return  &io.collections.IOCollection
      */
-    public function &newCollection($name, $elements) {
+    public function newCollection($name, $elements) {
       $c= new MockCollection($name);
       foreach ($elements as $element) {
         $c->addElement($element);
@@ -55,7 +55,7 @@
      * @param   string name
      * @return  &io.collections.IOCollection
      */
-    public function &emptyCollection($name) {
+    public function emptyCollection($name) {
       return $this->newCollection($name, array());
     }
 
Index: ports/classes/net/xp_framework/unittest/io/collections/AbstractCollectionTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/AbstractCollectionTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/AbstractCollectionTest.class.php	(working copy)
@@ -30,7 +30,7 @@
      * @return  &io.collection.IOElement e
      * @return  &io.collection.IOElement
      */
-    public function &addElement(&$c, &$e) {
+    public function addElement($c, $e) {
       $c->addElement($e);
       $this->total++;
       with ($key= $c->getURI()); {
@@ -77,7 +77,7 @@
         Date::fromString('Dec 10  2003')  // created
       ));
 
-      with ($sub= &$this->addElement($this->fixture, new MockCollection('sub'))); {
+      with ($sub= $this->addElement($this->fixture, new MockCollection('sub'))); {
         $this->addElement($sub, new MockElement(
           'sub/IMG_6100.jpg', 
           531718, 
@@ -93,7 +93,7 @@
           Date::fromString('Mar 13  2006')  // created
         ));
 
-        with ($sec= &$this->addElement($this->fixture, new MockCollection('sub/sec'))); {
+        with ($sec= $this->addElement($this->fixture, new MockCollection('sub/sec'))); {
           $this->addElement($sec, new MockElement(
             'sub/sec/lang.base.php', 
             16739, 
Index: ports/classes/net/xp_framework/unittest/io/collections/NullFilter.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/NullFilter.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/NullFilter.class.php	(working copy)
@@ -20,7 +20,7 @@
      * @param   &io.collections.IOElement element
      * @return  bool
      */
-    public function accept(&$element) {
+    public function accept($element) {
       return TRUE;
     }
   
Index: ports/classes/net/xp_framework/unittest/io/collections/IOCollectionTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/IOCollectionTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/IOCollectionTest.class.php	(working copy)
@@ -35,7 +35,7 @@
     #[@test]
     public function nextReturnsIOElements() {
       $this->fixture->open();
-      for ($i= 0; $e= &$this->fixture->next(); $i++) {
+      for ($i= 0; $e= $this->fixture->next(); $i++) {
         $this->assertTrue(is('io.collections.IOElement', $e));
       }
       $this->assertEquals($this->sizes[$this->fixture->getURI()], $i);
Index: ports/classes/net/xp_framework/unittest/io/collections/MockElement.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/io/collections/MockElement.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/io/collections/MockElement.class.php	(working copy)
@@ -33,9 +33,9 @@
     public function __construct($uri, $size= 0, $adate= NULL, $mdate= NULL, $cdate= NULL) {
       $this->uri= $uri;
       $this->size= $size;
-      $this->adate= &$adate;
-      $this->mdate= &$mdate;
-      $this->cdate= &$cdate;
+      $this->adate= $adate;
+      $this->mdate= $mdate;
+      $this->cdate= $cdate;
     }
 
     /**
@@ -64,7 +64,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &createdAt() {
+    public function createdAt() {
       return $this->cdate;
     }
 
@@ -74,7 +74,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &lastAccessed() {
+    public function lastAccessed() {
       return $this->adate;
     }
 
@@ -84,7 +84,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &lastModified() {
+    public function lastModified() {
       return $this->mdate;
     }
 
Index: ports/classes/net/xp_framework/unittest/security/CryptoKeyTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/security/CryptoKeyTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/security/CryptoKeyTest.class.php	(working copy)
@@ -44,8 +44,8 @@
       if ($this->cert && $this->publickey && $this->privatekey) return;
       
       // Generate private & public key, using a self-signed certificate
-      $keypair= &Keypair::generate();
-      $privatekey= &$keypair->getPrivateKey();
+      $keypair= Keypair::generate();
+      $privatekey= $keypair->getPrivateKey();
       
       $csr= new CSR(new Principal(array(
         'C'     => 'DE',
@@ -57,11 +57,11 @@
         'EMAIL' => 'unittest@xp-framework.net'
       )), $keypair);
       
-      $cert= &$csr->sign($keypair);
-      $publickey= &$cert->getPublicKey();
-      $this->cert= &$cert;
-      $this->publickey= &$publickey;
-      $this->privatekey= &$privatekey;
+      $cert= $csr->sign($keypair);
+      $publickey= $cert->getPublicKey();
+      $this->cert= $cert;
+      $this->publickey= $publickey;
+      $this->privatekey= $privatekey;
     }
     
     /**
Index: ports/classes/net/xp_framework/unittest/security/CertificateTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/security/CertificateTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/security/CertificateTest.class.php	(working copy)
@@ -42,7 +42,7 @@
       $eissuer= '#^/C=DE/ST=Baden-Wrttemberg/L=Karlsruhe/O=XP Team/OU=XP Team/CN=Timm Friebe/EMAIL(ADDRESS)?=friebe@xp-framework.net$#';
       $ehash= 'f2473bfa';
       try {
-        $x509= &X509Certificate::fromString(<<<EOC
+        $x509= X509Certificate::fromString(<<<EOC
 -----BEGIN CERTIFICATE-----
 MIICtDCCAh2gAwIBAwIBADANBgkqhkiG9w0BAQQFADCBnzELMAkGA1UEBhMCREUx
 GjAYBgNVBAgUEUJhZGVuLVf8cnR0ZW1iZXJnMRIwEAYDVQQHEwlLYXJsc3J1aGUx
@@ -66,8 +66,8 @@
         return $this->fail($e->getClassName(), $e->getMessage(), 'fromstring');
       }
 
-      $subject= &$x509->getSubjectDN();
-      $issuer= &$x509->getIssuerDN();
+      $subject= $x509->getSubjectDN();
+      $issuer= $x509->getIssuerDN();
       $this->assertMatches($subject->getName(), $esubject, 'subject');
       $this->assertMatches($issuer->getName(), $eissuer, 'issuer');
       $this->assertEquals($x509->getHash(), $ehash, 'hash');
Index: ports/classes/net/xp_framework/unittest/runner/gtk/UnitTestUI.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/runner/gtk/UnitTestUI.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/runner/gtk/UnitTestUI.class.php	(working copy)
@@ -37,7 +37,7 @@
      * @access  public
      * @param   &util.cmd.ParamString p
      */
-    public function __construct(&$p) {
+    public function __construct($p) {
       parent::__construct($p, dirname($p->value(0)).'/gtkui.glade', 'mainwindow');
     }
     
@@ -55,7 +55,7 @@
       $this->dialog->setModal(TRUE);
       
       // Hierarchy tree
-      $this->hierarchy= &$this->widget('hierarchy');
+      $this->hierarchy= $this->widget('hierarchy');
       $this->hierarchy->set_row_height(20);
       $this->hierarchy->set_line_style(GTK_CTREE_LINES_DOTTED);
       $this->connect($this->hierarchy, 'tree_select_row', 'onSelectTest');
@@ -63,19 +63,19 @@
       // Labels
       $this->labels= array();
       foreach (array('total', 'succeeded', 'failed', 'skipped') as $name) {
-        $this->labels[$name]= &$this->widget('label_'.$name);
+        $this->labels[$name]= $this->widget('label_'.$name);
       }
 
       // Trace
-      $this->trace= &$this->widget('trace');
+      $this->trace= $this->widget('trace');
       $this->trace->set_row_height(20);
       $this->trace->set_line_style(GTK_CTREE_LINES_DOTTED);
       
       // Progress bar
-      $this->progress= &$this->widget('progressbar');
+      $this->progress= $this->widget('progressbar');
       
       // Status bar
-      $this->statusbar= &$this->widget('statusbar');
+      $this->statusbar= $this->widget('statusbar');
       $this->setStatusText('Select test suite configuration');
       
       // Pixmaps
@@ -129,7 +129,7 @@
      * @param   string result
      * @param   &mixed data
      */
-    public function updateTest($id, $result, &$data) {
+    public function updateTest($id, $result, $data) {
       $content= $this->hierarchy->node_get_pixtext($this->node[$id], 0);
       $this->hierarchy->node_set_pixtext(
         $this->node[$id], 
@@ -149,13 +149,13 @@
      * @param   &php.GtkWidget widget the ctree
      * @param   &php.GtkNode node the selected node
      */
-    public function onSelectTest(&$widget, &$node) {
+    public function onSelectTest($widget, $node) {
     
       // Only make test nodes selectable
       if (!$node->is_leaf) return;
       
       // Get data
-      $data= &$widget->node_get_row_data($node);
+      $data= $widget->node_get_row_data($node);
       $this->cat->debug('onSelectTest', $data);
       if (empty($data)) return;
       
@@ -170,7 +170,7 @@
       }
       
       if (isset($type)) {
-        $node= &$this->trace->insert_node(
+        $node= $this->trace->insert_node(
           NULL,
           NULL,
           array($caption),
@@ -208,7 +208,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onClearClicked(&$widget) {
+    public function onClearClicked($widget) {
       $this->hierarchy->clear();
       $this->trace->clear();
       $this->trace->columns_autosize();
@@ -224,7 +224,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onRunClicked(&$widget) {
+    public function onRunClicked($widget) {
       $numtests= $this->suite->numTests();
       $this->progress->configure(0.0, 0.0, $numtests);
       $result= new TestResult();
@@ -263,13 +263,13 @@
      * @param   &util.Properties config
      * @param   string section
      */
-    public function addTestsFromSection(&$config, $section) {
+    public function addTestsFromSection($config, $section) {
       if (-1 == ($numtests= $config->readInteger($section, 'numtests', -1))) {
         MessageBox::display('Section '.$section.': key "numtests" missing', 'Error', MB_OK | MB_ICONERROR);
         return FALSE;
       }
       $this->cat->debug('Processing section', $section);
-      $sectionNode= &$this->hierarchy->insert_node(
+      $sectionNode= $this->hierarchy->insert_node(
         NULL,
         NULL,
         array($this->dialog->getFileName().'::'.$section, $numtests.' test(s)'),
@@ -284,7 +284,7 @@
 
       for ($i= 0; $i < $numtests; $i++) {
         try {
-          $class= &XPClass::forName($config->readString($section, 'test.'.$i.'.class'));
+          $class= XPClass::forName($config->readString($section, 'test.'.$i.'.class'));
         } catch (ClassNotFoundException $e) {
           $this->cat->error('Test group "'.$section.'", test #'.$i.':: ', $e->getStackTrace());
           MessageBox::display($e->getMessage(), 'Error', MB_OK | MB_ICONERROR);
@@ -296,11 +296,11 @@
         // Create a new instance
         $name= $config->readString($section, 'test.'.$i.'.name');
         $args= array_merge($name, $config->readArray($section, 'test.'.$i.'.args', array()));
-        $test= &call_user_func_array(array(&$class, 'newInstance'), $args);
+        $test= call_user_func_array(array($class, 'newInstance'), $args);
 
         // Insert into hierarchy tree
         if (!isset($this->node[$test->getClassName()])) {
-          $this->node[$test->getClassName()]= &$this->hierarchy->insert_node(
+          $this->node[$test->getClassName()]= $this->hierarchy->insert_node(
             $sectionNode,
             NULL,
             array($test->getClassName(), ''),
@@ -313,7 +313,7 @@
             TRUE
           );
         }
-        $this->node[$test->hashCode()]= &$this->hierarchy->insert_node(
+        $this->node[$test->hashCode()]= $this->hierarchy->insert_node(
           $this->node[$test->getClassName()],
           NULL,
           array($test->getName(), ''),
@@ -367,7 +367,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onSelectClicked(&$widget) {
+    public function onSelectClicked($widget) {
       do {
       
         // If anything else than "OK" is pressed in the dialog, break
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/XmlRpcRouterTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/XmlRpcRouterTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/XmlRpcRouterTest.class.php	(working copy)
@@ -42,11 +42,11 @@
     #[@test]
     public function basicPostRequest() {
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertEquals(200, $response->statusCode);
       $this->assertIn($response->headers, 'Content-type: text/xml; charset=iso-8859-1');
       
-      $msg= &XmlRpcResponseMessage::fromString($response->getContent());
+      $msg= XmlRpcResponseMessage::fromString($response->getContent());
       $this->assertEquals('net.xp_framework.unittest.scriptlet.rpc.impl.DummyRpcImplementationHandler', $msg->getData());
     }
 
@@ -59,7 +59,7 @@
     public function basicGetRequest() {
       $this->router->setMockMethod(HTTP_GET);
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
     }
     
     /**
@@ -77,7 +77,7 @@
       ');
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -97,7 +97,7 @@
       ');
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -117,7 +117,7 @@
       ');
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -137,12 +137,12 @@
       ');
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertEquals(500, $response->statusCode);
 
       // Check for correct fault code
-      $message= &XmlRpcResponseMessage::fromString($response->getContent());
-      $fault= &$message->getFault();
+      $message= XmlRpcResponseMessage::fromString($response->getContent());
+      $fault= $message->getFault();
       $this->assertEquals(403, $fault->getFaultcode());
     }
     
@@ -198,11 +198,11 @@
       ');
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertIn($response->headers, 'Content-type: text/xml; charset=iso-8859-1');
       $this->assertEquals(200, $response->statusCode);
       
-      $msg= &XmlRpcResponseMessage::fromString($response->getContent());
+      $msg= XmlRpcResponseMessage::fromString($response->getContent());
       $data= $msg->getData();
       $this->assertEquals('Lalala', $data[0]);
       $this->assertEquals(1, $data[1]);
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/SoapRpcRouterTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/SoapRpcRouterTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/SoapRpcRouterTest.class.php	(working copy)
@@ -55,7 +55,7 @@
     #[@test]
     public function basicPostRequest() {
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertEquals(200, $response->statusCode);
       $this->assertIn($response->headers, 'Content-type: text/xml; charset=iso-8859-1');
     }
@@ -69,7 +69,7 @@
     public function basicGetRequest() {
       $this->router->setMockMethod(HTTP_GET);
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
     }
     
     /**
@@ -85,7 +85,7 @@
       ));
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -102,7 +102,7 @@
         'Content-Type'  => 'text/xml; charset=iso-8859-1'
       ));
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -119,7 +119,7 @@
         'Content-Type'  => 'text/xml; charset=iso-8859-1'
       ));
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -136,11 +136,11 @@
         'Content-Type'  => 'text/xml; charset=iso-8859-1'
       ));
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertEquals(500, $response->statusCode);
       
-      $message= &SOAPMessage::fromString($response->getContent());
-      $fault= &$message->getFault();
+      $message= SOAPMessage::fromString($response->getContent());
+      $fault= $message->getFault();
       $this->assertEquals(403, $fault->getFaultCode());
       $this->assertEquals('This is a intentionally caused exception.', $fault->getFaultString());
     }
@@ -185,10 +185,10 @@
 </SOAP-ENV:Envelope>
       ');
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       if (!$this->assertEquals(200, $response->statusCode)) return;
 
-      $msg= &SOAPMessage::fromString($response->getContent());
+      $msg= SOAPMessage::fromString($response->getContent());
       $data= array_shift($msg->getData());
       
       $this->assertEquals('Lalala', $data[0]) &&
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/JsonRpcRouterMock.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/JsonRpcRouterMock.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/JsonRpcRouterMock.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @param   &scriptlet.HttpRequest request
      */
-    public function _setupRequest(&$request) {
+    public function _setupRequest($request) {
       $request->headers= array_change_key_case($this->headers, CASE_LOWER);
       $request->method= $this->method;
       $request->setParams(array_change_key_case($this->params, CASE_LOWER));
@@ -38,7 +38,7 @@
      * @param   &scriptlet.HttpRequest request
      * @return  string
      */
-    public function handleMethod(&$request) {
+    public function handleMethod($request) {
       switch ($request->method) {
         case HTTP_POST:
           $request->setData($this->data);
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/XmlRpcRouterMock.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/XmlRpcRouterMock.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/XmlRpcRouterMock.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @param   &scriptlet.HttpRequest request
      */
-    public function _setupRequest(&$request) {
+    public function _setupRequest($request) {
       $request->headers= array_change_key_case($this->headers, CASE_LOWER);
       $request->method= $this->method;
       $request->setParams(array_change_key_case($this->params, CASE_LOWER));
@@ -38,7 +38,7 @@
      * @param   &scriptlet.HttpRequest request
      * @return  string
      */
-    public function handleMethod(&$request) {
+    public function handleMethod($request) {
       switch ($request->method) {
         case HTTP_POST:
           $request->setData($this->data);
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/SoapRpcRouterMock.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/SoapRpcRouterMock.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/mock/SoapRpcRouterMock.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @param   &scriptlet.HttpRequest request
      */
-    public function _setupRequest(&$request) {
+    public function _setupRequest($request) {
       $request->headers= array_change_key_case($this->headers, CASE_LOWER);
       $request->method= $this->method;
       $request->setParams(array_change_key_case($this->params, CASE_LOWER));
@@ -38,7 +38,7 @@
      * @param   &scriptlet.HttpRequest request
      * @return  string
      */
-    public function handleMethod(&$request) {
+    public function handleMethod($request) {
       switch ($request->method) {
         case HTTP_POST:
           $request->setData($this->data);
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/JsonRpcRouterTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/JsonRpcRouterTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/JsonRpcRouterTest.class.php	(working copy)
@@ -38,7 +38,7 @@
     #[@test]
     public function basicPostRequest() {
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(200, $response->statusCode);
       $this->assertEquals(
@@ -57,12 +57,12 @@
     public function basicEchoTest() {
       $this->router->setMockData('{ "method" : "DummyRpcImplementation.passBackMethod", "params" : [ "string" , 1 , { "object" : "object" } , [ 1, 2, 3, 4, 5 ] ] , "id" : 1 }');
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(200, $response->statusCode);
       $str= $response->getContent();
       
-      $decoder= &JsonFactory::create();
+      $decoder= JsonFactory::create();
       $data= $decoder->decode($str);
     }    
 
@@ -75,7 +75,7 @@
     public function basicGetRequest() {
       $this->router->setMockMethod(HTTP_GET);
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
     }
     
     /**
@@ -87,7 +87,7 @@
     public function callNonexistingClass() {
       $this->router->setMockData('{ "method" : "ClassDoesNotExist.getImplementationName", "params" : [ ], "id" : 1 }');
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -101,7 +101,7 @@
     public function callNonexistingMethod() {
       $this->router->setMockData('{ "method" : "DummyRpcImplementation.methodDoesNotExist", "params" : [ ], "id" : 1 }');
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -115,7 +115,7 @@
     public function callNonWebmethodMethod() {
       $this->router->setMockData('{ "method" : "DummyRpcImplementation.methodExistsButIsNotAWebmethod", "params" : [ ], "id" : 1 }');
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       
       $this->assertEquals(500, $response->statusCode);
     }
@@ -130,12 +130,12 @@
       $this->router->setMockData('{ "method" : "DummyRpcImplementation.giveMeFault", "params" : [ ], "id" : 1 }');
       
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertEquals(500, $response->statusCode);
 
       // Check for correct fault code
-      $message= &JsonResponseMessage::fromString($response->getContent());
-      $fault= &$message->getFault();
+      $message= JsonResponseMessage::fromString($response->getContent());
+      $fault= $message->getFault();
       $this->assertEquals(403, $fault->getFaultcode());
     }
     
@@ -149,11 +149,11 @@
     public function multipleParameters() {
       $this->router->setMockData('{ "method" : "DummyRpcImplementation.checkMultipleParameters", "params" : [ "Lalala", 1, [ 12, "Egypt", false, -31 ], { "lowerBound" : 18, "upperBound" : 139 } ], "id" : 12 }');
       $this->router->init();
-      $response= &$this->router->process();
+      $response= $this->router->process();
       $this->assertIn($response->headers, 'Content-type: application/json; charset=iso-8859-1');
       $this->assertEquals(200, $response->statusCode);
       
-      $msg= &JsonResponseMessage::fromString($response->getContent());
+      $msg= JsonResponseMessage::fromString($response->getContent());
       $data= $msg->getData();
       $this->assertEquals('Lalala', $data[0]);
       $this->assertEquals(1, $data[1]);
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyHttpConnection.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyHttpConnection.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyHttpConnection.class.php	(working copy)
@@ -22,7 +22,7 @@
      * @access  protected
      * @param   &peer.URL url
      */
-    public function _createRequest(&$url) {
+    public function _createRequest($url) {
       $this->request= new DummyHttpRequest($url);
     }
   }
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyRpcTransport.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyRpcTransport.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyRpcTransport.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  public
      * @return  &peer.http.HttpConnection
      */
-    public function &getConnection() {
+    public function getConnection() {
       return $this->_conn;
     }
   }
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyHttpRequest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyHttpRequest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/dummy/DummyHttpRequest.class.php	(working copy)
@@ -35,7 +35,7 @@
      * @access  public
      * @return  &peer.http.HttpResponse response object
      */
-    public function &send($timeout= 60) {
+    public function send($timeout= 60) {
       return new HttpResponse(new DummySocket($this->_response));
     }
   }
Index: ports/classes/net/xp_framework/unittest/scriptlet/rpc/XmlRpcClientTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/rpc/XmlRpcClientTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/rpc/XmlRpcClientTest.class.php	(working copy)
@@ -26,7 +26,7 @@
     #[@test]
     public function simpleRequest() {
       $client= new XmlRpcClient(new DummyRpcTransport('http://localhost:12345/'));
-      $conn= &$client->transport->getConnection();
+      $conn= $client->transport->getConnection();
       $conn->request->setResponse('HTTP/1.1 200 Ok
 Content-type: text/xml
 X-Server: PHP
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/AbstractCasterTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/AbstractCasterTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/AbstractCasterTest.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @access  protected
      * @return  &scriptlet.xml.workflow.casters.ParamCaster
      */
-    public function &caster() { }
+    public function caster() { }
 
     /**
      * Setup method.
@@ -32,7 +32,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->caster= &$this->caster();
+      $this->caster= $this->caster();
     }
 
     /**
@@ -45,7 +45,7 @@
      * @throws  lang.IllegalArgumentException in case the caster fails
      */
     public function castValue($value) {
-      if (!is_array($casted= call_user_func(array(&$this->caster, 'castValue'), array((string)$value)))) {
+      if (!is_array($casted= call_user_func(array($this->caster, 'castValue'), array((string)$value)))) {
         throw(new IllegalArgumentException('Cannot cast '.$value));
       }
       return array_pop($casted);
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToFloatTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToFloatTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToFloatTest.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @return  &scriptlet.xml.workflow.casters.ParamCaster
      */
-    public function &caster() {
+    public function caster() {
       return new ToFloat();
     }
 
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/mock/MockRequest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/mock/MockRequest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/mock/MockRequest.class.php	(working copy)
@@ -36,7 +36,7 @@
       // WorkflowScriptletRequest::initialize() and be able to load
       // and instantiate it.
       $stateName= 'Mock'.($i++).$stateName;
-      $class= &$classloader->defineClass(
+      $class= $classloader->defineClass(
         'net.xp_framework.unittest.scriptlet.workflow.mock.state.'.$stateName.'State', 
         'class '.$stateName.'State extends AbstractState '.$functionality
       );
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToDateTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToDateTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToDateTest.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @return  &scriptlet.xml.workflow.casters.ParamCaster
      */
-    public function &caster() {
+    public function caster() {
       return new ToDate();
     }
 
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToEmailAddressTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToEmailAddressTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToEmailAddressTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @access  protected
      * @return  &scriptlet.xml.workflow.casters.ParamCaster
      */
-    public function &caster() {
+    public function caster() {
       return new ToEmailAddress();
     }
 
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToIntegerTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToIntegerTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/ToIntegerTest.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @return  &scriptlet.xml.workflow.casters.ParamCaster
      */
-    public function &caster() {
+    public function caster() {
       return new ToInteger();
     }
 
Index: ports/classes/net/xp_framework/unittest/scriptlet/workflow/WorkflowApiTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/scriptlet/workflow/WorkflowApiTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/scriptlet/workflow/WorkflowApiTest.class.php	(working copy)
@@ -46,7 +46,7 @@
      * @param   &net.xp_framework.unittest.scriptlet.mock.MockRequest
      * @return  &net.xp_framework.unittest.scriptlet.mock.MockResponse
      */
-    public function &process(&$request) {
+    public function process($request) {
       $request->initialize();
       $response= new MockResponse();
       $this->scriptlet->processWorkflow($request, $response);
Index: ports/classes/net/xp_framework/unittest/img/ImageWriterTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/img/ImageWriterTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/img/ImageWriterTest.class.php	(working copy)
@@ -30,7 +30,7 @@
      * @access  public
      */
     public function setUp() {
-      $this->image= &Image::create(1, 1);
+      $this->image= Image::create(1, 1);
       $this->image->fill($this->image->allocate(new Color('#ffffff')));
     }
   
Index: ports/classes/net/xp_framework/unittest/bootstrap/NewInstanceTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/bootstrap/NewInstanceTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/bootstrap/NewInstanceTest.class.php	(working copy)
@@ -25,7 +25,7 @@
      */
     #[@test]
     public function newTraceable() {
-      $appender= &newinstance('util.log.Traceable', array(), '{
+      $appender= newinstance('util.log.Traceable', array(), '{
         function setTrace($cat) {
           // Intentionally empty
         }
@@ -41,7 +41,7 @@
      */
     #[@test]
     public function newLogAppender() {
-      $appender= &newinstance('util.log.LogAppender', array(), '{
+      $appender= newinstance('util.log.LogAppender', array(), '{
         function append() { 
           // Intentionally empty
         }
@@ -57,7 +57,7 @@
      */
     #[@test]
     public function argumentsArePassedToConstructor() {
-      $appender= &newinstance('util.log.LogAppender', array('[PREFIX]', 1), '{
+      $appender= newinstance('util.log.LogAppender', array('[PREFIX]', 1), '{
         var $prefix, $severity;
 
         function __construct($prefix, $severity) {
Index: ports/classes/net/xp_framework/unittest/util/collections/LRUBufferTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/util/collections/LRUBufferTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/util/collections/LRUBufferTest.class.php	(working copy)
@@ -74,7 +74,7 @@
       // elements to the LRUBuffer. Nothing should be deleted from it
       // during this loop.
       for ($i= 0, $s= $this->buffer->getSize(); $i < $s; $i++) {
-        if (NULL === ($victim= &$this->buffer->add(new String('item #'.$i)))) continue;
+        if (NULL === ($victim= $this->buffer->add(new String('item #'.$i)))) continue;
         
         return $this->fail(
           'Victim '.xp::stringOf($victim).' when inserting item #'.($i + 1).'/'.$s, 
Index: ports/classes/net/xp_framework/unittest/util/collections/HashSetTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/util/collections/HashSetTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/util/collections/HashSetTest.class.php	(working copy)
@@ -210,7 +210,7 @@
     public function toArray() {
       $color= new String('red');
       $this->set->add($color);
-      $this->assertEquals(array(&$color), $this->set->toArray());
+      $this->assertEquals(array($color), $this->set->toArray());
     }
 
     /**
Index: ports/classes/net/xp_framework/unittest/util/collections/QueueTest.class.php
===================================================================
--- ports/classes/net/xp_framework/unittest/util/collections/QueueTest.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/unittest/util/collections/QueueTest.class.php	(working copy)
@@ -188,7 +188,7 @@
       // Retrieve
       $i= 0;
       while (!$this->queue->isEmpty()) {
-        $element= &$this->queue->get();
+        $element= $this->queue->get();
 
         if (!$input[$i]->equals($element)) {
           $this->fail('Not equal at offset #'.$i, $element, $input[$i]);
Index: ports/classes/net/xp_framework/webservices/interop/Round2Handler.class.php
===================================================================
--- ports/classes/net/xp_framework/webservices/interop/Round2Handler.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/webservices/interop/Round2Handler.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @param   &mixed object
      * @throws  lang.IllegalArgumentException
      */
-    public function _assertType($type, &$object) {
+    public function _assertType($type, $object) {
       if ($type != xp::typeOf($object))
         throw (new IllegalArgumentException('Object not of expected type '.$type.', but '.xp::typeOf($object).' with value '.var_export($object, 1)));
     }
@@ -36,7 +36,7 @@
      * @param   &array array
      * @throws  lang.IllegalArgumentException
      */
-    public function _assertSubtype($type, &$array) {
+    public function _assertSubtype($type, $array) {
       foreach (array_keys($array) as $key) {
         if ($type != xp::typeOf($array[$key]))
           throw (new IllegalArgumentException('Object (in array) not of expected type '.$type.', but '.xp::typeOf($array[$key]).' with value '.var_export($array[$key], 1)));
Index: ports/classes/net/xp_framework/db/caffeine/XPNews.class.php
===================================================================
--- ports/classes/net/xp_framework/db/caffeine/XPNews.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/db/caffeine/XPNews.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  public
      */
     public static function __static() {
-      with ($peer= &XPNews::getPeer()); {
+      with ($peer= XPNews::getPeer()); {
         $peer->setTable('CAFFEINE..news');
         $peer->setConnection('caffeine');
         $peer->setIdentity('news_id');
@@ -58,7 +58,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
 
@@ -71,8 +71,8 @@
      * @return  &net.xp_framework.db.caffeine.XPNews object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public static function &getByNews_id($news_id) {
-      $peer= &XPNews::getPeer();
+    public static function getByNews_id($news_id) {
+      $peer= XPNews::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('news_id', $news_id, EQUAL))));
     }
 
@@ -86,7 +86,7 @@
      * @throws  rdbms.SQLException in case an error occurs
      */
     public static function getByBz_id($bz_id) {
-      $peer= &XPNews::getPeer();
+      $peer= XPNews::getPeer();
       return $peer->doSelect(new Criteria(array('bz_id', $bz_id, EQUAL)));
     }
 
@@ -101,7 +101,7 @@
      * @throws  rdbms.SQLException in case an error occurs
      */
     public static function getByDateOrdered($max= 0) {
-      $peer= &XPNews::getPeer();
+      $peer= XPNews::getPeer();
       with ($c= new Criteria()); {
         $c->add('bz_id', 500, EQUAL);
         $c->addOrderBy('created_at', DESCENDING);
@@ -201,7 +201,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getCreated_at() {
+    public function getCreated_at() {
       return $this->created_at;
     }
       
@@ -212,7 +212,7 @@
      * @param   &util.Date created_at
      * @return  &util.Date previous value
      */
-    public function &setCreated_at(&$created_at) {
+    public function setCreated_at($created_at) {
       return $this->_change('created_at', $created_at);
     }
       
@@ -222,7 +222,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getLastchange() {
+    public function getLastchange() {
       return $this->lastchange;
     }
       
@@ -233,7 +233,7 @@
      * @param   &util.Date lastchange
      * @return  &util.Date previous value
      */
-    public function &setLastchange(&$lastchange) {
+    public function setLastchange($lastchange) {
       return $this->_change('lastchange', $lastchange);
     }
       
Index: ports/classes/net/xp_framework/beans/stateless/RoundtripHome.class.php
===================================================================
--- ports/classes/net/xp_framework/beans/stateless/RoundtripHome.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/beans/stateless/RoundtripHome.class.php	(working copy)
@@ -19,6 +19,6 @@
      * @access  public
      * @return  &net.xp_framework.beans.stateless.Roundtrip
      */
-    public function &create();
+    public function create();
   }
 ?>
Index: ports/classes/net/xp_framework/scriptlet/interop/state/DetailsState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/interop/state/DetailsState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/interop/state/DetailsState.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
 
       $service= $request->getParam('service', NULL);
       $method=  $request->getParam('method',  NULL);
@@ -57,7 +57,7 @@
       }
       
       // Append result overview to the result tree
-      $n= &$response->addFormResult(new Node(
+      $n= $response->addFormResult(new Node(
         'detail', 
         $contents, 
         array(
Index: ports/classes/net/xp_framework/scriptlet/interop/state/OverviewState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/interop/state/OverviewState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/interop/state/OverviewState.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
 
       try {
 
@@ -32,7 +32,7 @@
         $f= new File($request->getEnvValue('DOCUMENT_ROOT').'/../log/servicetests.xml');
         if (!(
           $f->exists() &&
-          $tree= &Tree::fromString(FileUtil::getContents($f))
+          $tree= Tree::fromString(FileUtil::getContents($f))
         )) {
           
           $response->addFormError($this->getClassName(), 'not-available', 'servicetests');
Index: ports/classes/net/xp_framework/scriptlet/interop/InteropScriptlet.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/interop/InteropScriptlet.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/interop/InteropScriptlet.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @access  protected
      * @return  &.xml.XSLProcessor
      */
-    public function &_processor() {
+    public function _processor() {
       return new DomXSLProcessor();
     }
   }
Index: ports/classes/net/xp_framework/scriptlet/state/PackageDocumentationState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/PackageDocumentationState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/PackageDocumentationState.class.php	(working copy)
@@ -22,14 +22,14 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
       if (2 != sscanf($request->getData(), '%[^/]/%s', $collection, $package)) {
         $response->addFormError('illegalaccess');
         return;
       }
       
       // Add "breadcrumb" navigation to formresult
-      with ($n= &$response->addFormResult(new Node('breadcrumb'))); {
+      with ($n= $response->addFormResult(new Node('breadcrumb'))); {
         $n->addChild(new Node('current', NULL, array(
           'collection' => $collection,
           'package'    => $package
Index: ports/classes/net/xp_framework/scriptlet/state/StaticState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/StaticState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/StaticState.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) { 
+    public function getEntries($db, $request) { 
       return $db->query('
         select 
           entry.id as id,
Index: ports/classes/net/xp_framework/scriptlet/state/ViewNewsState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/ViewNewsState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/ViewNewsState.class.php	(working copy)
@@ -25,13 +25,13 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
-      $cm= &ConnectionManager::getInstance();
+    public function process($request, $response) {
+      $cm= ConnectionManager::getInstance();
       
       // Fetch entry
       try {
-        $db= &$cm->getByHost('news', 0);
-        $q= &$db->query('
+        $db= $cm->getByHost('news', 0);
+        $q= $db->query('
           select 
             entry.id as id,
             entry.title as title,
@@ -58,7 +58,7 @@
       }
       
       // Add entry to the formresult
-      with ($entry= &$response->addFormResult(new Node('entry'))); {
+      with ($entry= $response->addFormResult(new Node('entry'))); {
         $entry->setAttribute('id', $record['id']);
         $entry->addChild(new Node('title', $record['title']));
         $entry->addChild(new Node('author', $record['author']));
@@ -68,7 +68,7 @@
         
         // Fetch comments
         try {
-          $q= &$db->query('
+          $q= $db->query('
             select 
               comment.id as id,
               comment.title as title,
@@ -90,9 +90,9 @@
         }
       
         // Add comments to the entry node
-        $comments= &$entry->addChild(new Node('comments'));
+        $comments= $entry->addChild(new Node('comments'));
         while ($record= $q->next()) {
-          with ($comment= &$comments->addChild(new Node('comment'))); {
+          with ($comment= $comments->addChild(new Node('comment'))); {
             $comment->setAttribute('id', $record['id']);
             $comment->addChild(new Node('title', $record['title']));
             $comment->addChild(new Node('author', $record['author']));
Index: ports/classes/net/xp_framework/scriptlet/state/DocumentationState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/DocumentationState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/DocumentationState.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
     }
   }
 ?>
Index: ports/classes/net/xp_framework/scriptlet/state/LookupState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/LookupState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/LookupState.class.php	(working copy)
@@ -24,14 +24,14 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
       with ($query= $request->getParam('q', $request->getData()), $uri= $request->getURI()); {
         $target= 'search?q='.$query;
         
         // Use cache directory
         $query= basename($query);
         $folder= new Folder('../build/cache/');
-        while ($entry= &$folder->getEntry()) {
+        while ($entry= $folder->getEntry()) {
           $fn= $folder->getURI().$entry.DIRECTORY_SEPARATOR;
 
           if (!is_dir($fn)) continue;
Index: ports/classes/net/xp_framework/scriptlet/state/AboutState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/AboutState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/AboutState.class.php	(working copy)
@@ -22,7 +22,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
     }
   }
 ?>
Index: ports/classes/net/xp_framework/scriptlet/state/ResourcesState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/ResourcesState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/ResourcesState.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) { 
+    public function getEntries($db, $request) { 
       return $db->query('
         select 
           entry.id as id,
Index: ports/classes/net/xp_framework/scriptlet/state/NewsState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/NewsState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/NewsState.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) { 
+    public function getEntries($db, $request) { 
       return $db->query('
         select 
           entry.id as id,
Index: ports/classes/net/xp_framework/scriptlet/state/ClassDocumentationState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/ClassDocumentationState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/ClassDocumentationState.class.php	(working copy)
@@ -28,7 +28,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
       if (2 != sscanf($request->getData(), '%[^/]/%s', $collection, $fqcn)) {
         $response->addFormError('illegalaccess');
         return;
@@ -40,7 +40,7 @@
       $classname= substr($fqcn, $p+ 1);
       
       // Add "breadcrumb" navigation to formresult
-      with ($n= &$response->addFormResult(new Node('breadcrumb'))); {
+      with ($n= $response->addFormResult(new Node('breadcrumb'))); {
         $n->addChild(new Node('current', NULL, array(
           'collection' => $collection,
           'package'    => $package,
@@ -66,8 +66,8 @@
 
       // Add to formresult
       with (
-        $n= &$response->addFormResult(new Node('apidoc')),
-        $comments= &$n->addChild(new Node('comments'))
+        $n= $response->addFormResult(new Node('apidoc')),
+        $comments= $n->addChild(new Node('comments'))
       ); {
       
         // File comments
@@ -78,7 +78,7 @@
         ));
         
         // Class comments
-        $class= &$comments->addChild(new Node('class', NULL, array(
+        $class= $comments->addChild(new Node('class', NULL, array(
           'name'            => $apidoc['comments']['class']->name,
           'extends'         => $apidoc['comments']['class']->extends,
           'model'           => $apidoc['comments']['class']->model,
@@ -101,7 +101,7 @@
         
         // Method comments
         foreach ($apidoc['comments']['function'] as $name => $comment) {
-          $method= &$comments->addChild(new Node('method', NULL, array(
+          $method= $comments->addChild(new Node('method', NULL, array(
             'name'            => $name,
             'access'          => $comment->access,
             'model'           => $comment->model
Index: ports/classes/net/xp_framework/scriptlet/state/DevelState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/DevelState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/DevelState.class.php	(working copy)
@@ -22,7 +22,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
     }
   }
 ?>
Index: ports/classes/net/xp_framework/scriptlet/state/InheritanceDocumentationState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/state/InheritanceDocumentationState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/state/InheritanceDocumentationState.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
     }
   }
 ?>
Index: ports/classes/net/xp_framework/scriptlet/AbstractNewsListingState.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/AbstractNewsListingState.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/AbstractNewsListingState.class.php	(working copy)
@@ -27,7 +27,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) { }
+    public function getEntries($db, $request) { }
     
     /**
      * Return date
@@ -36,7 +36,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &util.Date
      */
-    public function &getContextMonth(&$request) {
+    public function getContextMonth($request) {
       return Date::now();
     }
     
@@ -57,11 +57,11 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
 
       // Retrieve date information
-      $contextDate= &$this->getContextMonth($request);
-      $month= &$response->addFormResult(new Node('month', NULL, array(
+      $contextDate= $this->getContextMonth($request);
+      $month= $response->addFormResult(new Node('month', NULL, array(
         'num'   => $contextDate->getMonth(),    // Month number, e.g. 4 = April
         'year'  => $contextDate->getYear(),     // Year
         'days'  => $contextDate->toString('t'), // Number of days in the given month
@@ -70,13 +70,13 @@
         )) + 6) % 7
       )));
 
-      $cm= &ConnectionManager::getInstance();
+      $cm= ConnectionManager::getInstance();
       try {
-        $db= &$cm->getByHost('news', 0);
+        $db= $cm->getByHost('news', 0);
         
         // Add all categories to the formresult
-        $n= &$response->addFormResult(new Node('categories'));
-        $q= &$db->query(
+        $n= $response->addFormResult(new Node('categories'));
+        $q= $db->query(
           'select categoryid, category_name from serendipity_category where parentid= %d',
           $this->getParentCategory()
         );
@@ -87,7 +87,7 @@
         }
         
         // Fill in all days for which an entry exists
-        $q= &$db->query('
+        $q= $db->query('
           select 
             dayofmonth(from_unixtime(entry.timestamp)) as day, 
             count(*) as numentries
@@ -110,15 +110,15 @@
         // and returns the corresponding entries). For perfomance reasons, it
         // does a join on entries and categories (which have a 1:n 
         // relationship, so the returned results are not unique)
-        $q= &$this->getEntries($db, $request);
+        $q= $this->getEntries($db, $request);
       } catch (SQLException $e) {
         throw($e);
       }
       
-      $n= &$response->addFormResult(new Node('entries'));
+      $n= $response->addFormResult(new Node('entries'));
       while ($record= $q->next()) {
         if (!isset($entry[$record['id']])) {
-          $entry[$record['id']]= &$n->addChild(new Node('entry', NULL, array('id' => $record['id'])));
+          $entry[$record['id']]= $n->addChild(new Node('entry', NULL, array('id' => $record['id'])));
           $entry[$record['id']]->addChild(new Node('title', $record['title']));
           $entry[$record['id']]->addChild(new Node('author', $record['author']));
           $entry[$record['id']]->addChild(new Node('extended_length', $record['extended_length']));
Index: ports/classes/net/xp_framework/scriptlet/WebsiteScriptlet.class.php
===================================================================
--- ports/classes/net/xp_framework/scriptlet/WebsiteScriptlet.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/scriptlet/WebsiteScriptlet.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @access  protected
      * @return  &.xml.XSLProcessor
      */
-    public function &_processor() {
+    public function _processor() {
       return new DomXSLProcessor();
     }
   }
Index: ports/classes/net/xp_framework/util/markup/MarkupBuilder.class.php
===================================================================
--- ports/classes/net/xp_framework/util/markup/MarkupBuilder.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/util/markup/MarkupBuilder.class.php	(working copy)
@@ -27,7 +27,7 @@
      * @param   &net.xp_framework.util.markup.MarkupProcessor proc
      * @return  &net.xp_framework.util.markup.MarkupProcessor
      */
-    public function &pushProcessor(&$proc) {
+    public function pushProcessor($proc) {
       array_unshift($this->stack, $proc);
       return $proc;
     }
@@ -38,7 +38,7 @@
      * @access  protected
      * @return  &net.xp_framework.util.markup.MarkupProcessor
      */
-    public function &popProcessor() {
+    public function popProcessor() {
       array_shift($this->stack);
       return $this->stack[0];
     }
@@ -63,7 +63,7 @@
         $processors['code']= new CodeProcessor();
       }
       
-      $processor= &$this->pushProcessor($processors['default']);
+      $processor= $this->pushProcessor($processors['default']);
 
       $st= new StringTokenizer($text, '<>', $returnDelims= TRUE);
       $out= '';      
@@ -78,7 +78,7 @@
             $lookup= strtolower($tag);
 
             if (isset($state[$lookup])) {
-              $processor= &$this->pushProcessor($processors[$state[$lookup]]);
+              $processor= $this->pushProcessor($processors[$state[$lookup]]);
               $out.= $processor->initialize();
             } else {
               $out.= '<'.$tag.'>';
@@ -94,7 +94,7 @@
 
             if (isset($state[$lookup])) {
               $out.= $processor->finalize();
-              $processor= &$this->popProcessor();
+              $processor= $this->popProcessor();
             } else {
               $out.= '<'.$tag.'>';
             }
Index: ports/classes/net/xp_framework/util/markup/FormresultHelper.class.php
===================================================================
--- ports/classes/net/xp_framework/util/markup/FormresultHelper.class.php	(revision 8952)
+++ ports/classes/net/xp_framework/util/markup/FormresultHelper.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @param   string string
      * @return  &xml.Node
      */
-    public static function &markupNodeFor($name, $string) {
+    public static function markupNodeFor($name, $string) {
       static $builder= NULL;
       
       if (!$builder) $builder= new MarkupBuilder();
Index: ports/classes/net/xmethods/BabelFish.class.php
===================================================================
--- ports/classes/net/xmethods/BabelFish.class.php	(revision 8952)
+++ ports/classes/net/xmethods/BabelFish.class.php	(working copy)
@@ -67,7 +67,7 @@
      * @param   string target_lang Target language
      * @return  &string Translated text
      */
-    public function &translate($sourcedata, $src_lang, $target_lang) {
+    public function translate($sourcedata, $src_lang, $target_lang) {
       $translated= $this->invoke(
         'BabelFish',
         new Parameter('translationmode', sprintf('%s_%s', $src_lang, $target_lang)),
Index: ports/classes/org/fpdf/FPDFFont.class.php
===================================================================
--- ports/classes/org/fpdf/FPDFFont.class.php	(revision 8952)
+++ ports/classes/org/fpdf/FPDFFont.class.php	(working copy)
@@ -74,7 +74,7 @@
      * @access  public
      * @param   &util.Properties p
      */
-    public function configure(&$p) {
+    public function configure($p) {
       if (NULL == $this->name) throw(new IllegalStateException('no name defined'));
       
       $this->cw= $p->readArray($this->name, 'cw', array());
Index: ports/classes/org/fpdf/migrate_fonts.php
===================================================================
--- ports/classes/org/fpdf/migrate_fonts.php	(revision 8952)
+++ ports/classes/org/fpdf/migrate_fonts.php	(working copy)
@@ -30,7 +30,7 @@
   require('lang.base.php');
   uses('io.Folder', 'util.Properties', 'util.cmd.ParamString');
 
-  function writeFontDef($fromFile, &$p) {
+  function writeFontDef($fromFile, $p) {
     global $core_names;
 
     include($fromFile);
@@ -107,10 +107,10 @@
   printf("===> Start for %s [allfiles %s]\n", $base, $pattern);
   
   $prop= new Properties($propertyFile);
-  if (!$prop->exists()) { try(); {
+  if (!$prop->exists()) { try {
     printf("---> Creating configfile %s\n", $propertyFile);
     $prop->create();
-  } if (catch('IOException', $e)) {
+  } catch (IOException $e) {
     $e->printStackTrace();
     exit;
   }}
@@ -126,9 +126,9 @@
   $d->close();
   
   // Property-File schreiben
-  try(); {
+  try {
     $prop->save();
-  } if (catch('IOException', $e)) {
+  } catch (IOException $e) {
     $e->printStackTrace();
   }
   delete($prop);
Index: ports/classes/org/fpdf/FPDF.class.php
===================================================================
--- ports/classes/org/fpdf/FPDF.class.php	(revision 8952)
+++ ports/classes/org/fpdf/FPDF.class.php	(working copy)
@@ -179,10 +179,10 @@
      * @param   &org.fpdf.FPDFHook hook
      * @return  &org.fpdf.FPDFHook the hook added
      */
-    public function &addHook($event, &$hook) {
+    public function addHook($event, $hook) {
       if (!isset($this->_hooks[$event])) $this->_hooks[$event]= array();
 
-      $this->_hooks[$event][]= &$hook;
+      $this->_hooks[$event][]= $hook;
       return $hook;
     }
 
@@ -192,7 +192,7 @@
      * @access  public
      * @param   &util.Properties prop
      */
-    public function loadFonts(&$prop) {
+    public function loadFonts($prop) {
       $section= $prop->getFirstSection();
       do {
         $f= new FPDFFont($section);
@@ -647,7 +647,7 @@
      * @access  public
      * @param   &org.pdf.FPDFFont font
      */
-    public function addFont(&$font) {
+    public function addFont($font) {
       if (isset($this->fonts[$font->family.$font->style])) return 1;
       
       // Diff?
@@ -662,7 +662,7 @@
       }
       
       $font->index= sizeof($this->fonts)+ 1;
-      $this->fonts[$font->family.$font->style]= &$font;
+      $this->fonts[$font->family.$font->style]= $font;
     }
     
     /**
@@ -674,7 +674,7 @@
      * @param   string style default ''
      * @return  &org.pdf.FPDFFont
      */
-    public function &getFontByName($family, $style= '') {
+    public function getFontByName($family, $style= '') {
       if (!isset($this->fonts[$idx= strtolower($family).strtoupper($style)])) {
         return NULL;
       }
@@ -688,7 +688,7 @@
      * @access  public
      * @return  &org.pdf.FPDFFont
      */
-    public function &getFont() {
+    public function getFont() {
       return $this->CurrentFont;
     }
 
@@ -701,7 +701,7 @@
      * @throws  lang.IllegalArgumentException
      * @return  bool TRUE if the font was changed
      */
-    public function setFont(&$font, $size= 0) {
+    public function setFont($font, $size= 0) {
       if (!is('FPDFFont', $font)) {
         throw(new IllegalArgumentException('Font is not a org.pdf.FPDFFont'));
       }
@@ -721,7 +721,7 @@
       $this->FontStyle= $font->style;
       $this->FontSizePt= $size;
       $this->FontSize= round($size / $this->k, 2);
-      $this->CurrentFont= &$font;
+      $this->CurrentFont= $font;
       
       if ($this->page > 0) $this->_out('BT /F'.$this->CurrentFont->index.' '.$this->FontSize.' Tf ET');
       return TRUE;
@@ -1430,7 +1430,7 @@
 
       // Font objects
       foreach (array_keys($this->fonts) as $key) {
-        with ($font= &$this->fonts[$key]); {
+        with ($font= $this->fonts[$key]); {
           $this->_newobj();
           $font->n= $this->n;
           $this->_out('<</Type /Font');
Index: ports/classes/org/fpdf/FPDFHook.class.php
===================================================================
--- ports/classes/org/fpdf/FPDFHook.class.php	(revision 8952)
+++ ports/classes/org/fpdf/FPDFHook.class.php	(working copy)
@@ -19,7 +19,7 @@
      * @param   &org.fpdf.FPDF pdf
      * @param   int page the number of the page
      */
-    public function onEndPage(&$pdf, $page);
+    public function onEndPage($pdf, $page);
   
   }
 ?>
Index: ports/classes/org/fpdf/FPDFHookImpl.class.php
===================================================================
--- ports/classes/org/fpdf/FPDFHookImpl.class.php	(revision 8952)
+++ ports/classes/org/fpdf/FPDFHookImpl.class.php	(working copy)
@@ -21,7 +21,7 @@
      * @param   &org.fpdf.FPDF pdf
      * @param   int page the number of the page
      */
-    public function onEndPage(&$pdf, $page) { 
+    public function onEndPage($pdf, $page) { 
     }
   
   } 
Index: ports/classes/org/nagios/nsca/NscaClient.class.php
===================================================================
--- ports/classes/org/nagios/nsca/NscaClient.class.php	(revision 8952)
+++ ports/classes/org/nagios/nsca/NscaClient.class.php	(working copy)
@@ -188,7 +188,7 @@
      * @param   &org.nagios.nsca.NscaMessage message
      * @return  string packed data
      */
-    public function pack($crc, &$message) {
+    public function pack($crc, $message) {
       return pack(
         'nxxNa4na64a128a512xx',
         $this->version,
@@ -237,14 +237,14 @@
      * @return  bool
      * @throws  lang.IllegalStateException
      */
-    public function send(&$message) {
+    public function send($message) {
       if (!$this->sock->isConnected()) {
         throw(new IllegalStateException('Not connected'));
       }
       
       // Calculate CRC32 checksum, then build the final packet with the sig
       // and encrypt it using defined crypt method
-      $crc= &CRC32::fromString($this->pack(0, $message));      
+      $crc= CRC32::fromString($this->pack(0, $message));      
       $data= $this->encrypt($this->pack($crc->getValue(), $message));
       
       // Finally, send data to the socket
Index: ports/classes/org/nagios/db/Hoststatus.class.php
===================================================================
--- ports/classes/org/nagios/db/Hoststatus.class.php	(revision 8952)
+++ ports/classes/org/nagios/db/Hoststatus.class.php	(working copy)
@@ -45,11 +45,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByHost_name($host_name) {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByHost_name($host_name) {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query ('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query ('
           select
             host_name,
             host_status,
@@ -79,7 +79,7 @@
           $host_name);
 
         $data= array();
-        if ($q) while ($r= &$q->next()) {
+        if ($q) while ($r= $q->next()) {
           $data[]= new Hoststatus($r);
         }
       } catch (SQLException $e) {
@@ -98,11 +98,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByHost_status($host_status) {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByHost_status($host_status) {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query ('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query ('
           select
             host_name,
             host_status,
@@ -132,7 +132,7 @@
           $host_status);
 
         $data= array();
-        if ($q) while ($r= &$q->next()) {
+        if ($q) while ($r= $q->next()) {
           $data[]= new Hoststatus($r);
         }
       } catch (SQLException $e) {
@@ -150,11 +150,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByNotUp() {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByNotUp() {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query ('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query ('
           select
             host_name,
             host_status,
@@ -184,7 +184,7 @@
           'UP');
 
         $data= array();
-        if ($q) while ($r= &$q->next()) {
+        if ($q) while ($r= $q->next()) {
           $data[]= new Hoststatus($r);
         }
       } catch (SQLException $e) {
@@ -644,9 +644,9 @@
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
     public function update() {
-      $cm= &ConnectionManager::getInstance();  
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
+        $db= $cm->getByHost('nagios', 0);
         $db->update(
           'nagios.hoststatus set %c where ',
           $this->_updated($db),
@@ -668,9 +668,9 @@
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
     public function insert() {
-      $cm= &ConnectionManager::getInstance();  
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
+        $db= $cm->getByHost('nagios', 0);
         $db->insert('nagios.hoststatus (%c)', $this->_inserted($db));
 
       } catch (SQLException $e) {
Index: ports/classes/org/nagios/db/Servicestatus.class.php
===================================================================
--- ports/classes/org/nagios/db/Servicestatus.class.php	(revision 8952)
+++ ports/classes/org/nagios/db/Servicestatus.class.php	(working copy)
@@ -58,11 +58,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByHost_name($host_name) {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByHost_name($host_name) {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query('
           select
             host_name,
             service_description,
@@ -124,11 +124,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByHostService($host_name, $service) {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByHostService($host_name, $service) {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query('
           select
             host_name,
             service_description,
@@ -191,11 +191,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByService_status($service_status) {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByService_status($service_status) {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query('
           select
             host_name,
             service_description,
@@ -255,11 +255,11 @@
      * @throws  rdbms.SQLException in case an error occurs
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
-    public function &getByNotOk() {
-      $cm= &ConnectionManager::getInstance();  
+    public function getByNotOk() {
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
-        $q= &$db->query('
+        $db= $cm->getByHost('nagios', 0);
+        $q= $db->query('
           select
             host_name,
             service_description,
@@ -1034,9 +1034,9 @@
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
     public function update() {
-      $cm= &ConnectionManager::getInstance();  
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
+        $db= $cm->getByHost('nagios', 0);
         $db->update(
           'nagios.servicestatus set %c where ',
           $this->_updated($db),
@@ -1058,9 +1058,9 @@
      * @throws  lang.IllegalAccessException in case there is no suitable database connection available
      */
     public function insert() {
-      $cm= &ConnectionManager::getInstance();  
+      $cm= ConnectionManager::getInstance();  
       try {
-        $db= &$cm->getByHost('nagios', 0);
+        $db= $cm->getByHost('nagios', 0);
         $db->insert('nagios.servicestatus (%c)', $this->_inserted($db));
 
       } catch (SQLException $e) {
Index: ports/classes/org/apache/ajp/AjpConnection.class.php
===================================================================
--- ports/classes/org/apache/ajp/AjpConnection.class.php	(revision 8952)
+++ ports/classes/org/apache/ajp/AjpConnection.class.php	(working copy)
@@ -60,7 +60,7 @@
      * @access  protected
      * @param   &mixed url a string or a peer.URL object
      */
-    public function _createRequest(&$url) {
+    public function _createRequest($url) {
       $this->request= new AjpRequest($url);
     }  
   }
Index: ports/classes/org/dict/DictClient.class.php
===================================================================
--- ports/classes/org/dict/DictClient.class.php	(revision 8952)
+++ ports/classes/org/dict/DictClient.class.php	(working copy)
@@ -196,7 +196,7 @@
      * @return  &org.dict.DictDefinitionEntry[]
      * @throws  io.IOException
      */
-    public function &getDefinition($word, $db= '*') {
+    public function getDefinition($word, $db= '*') {
       $def= array();
       try {
         $ret= $this->_sockcmd('DEFINE %s \'%s\'', $db, $word, array(150, 552));
@@ -385,8 +385,8 @@
      * @access  public
      * @param   &util.log.LogCategory cat
      */
-    public function setTrace(&$cat) {
-      $this->cat= &$cat;
+    public function setTrace($cat) {
+      $this->cat= $cat;
     }
 
   } 
Index: ports/classes/org/ietf/PunyCode.class.php
===================================================================
--- ports/classes/org/ietf/PunyCode.class.php	(revision 8952)
+++ ports/classes/org/ietf/PunyCode.class.php	(working copy)
@@ -42,7 +42,7 @@
      * @return  &string
      * @see rfc://3492
      */
-    public function &getASCII() {
+    public function getASCII() {
       static $ascii;
       $ascii =
         "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n".
@@ -148,7 +148,7 @@
      * @throws lang.IllegalArgumentException in case $input is not a punycode string
      * @throws lang.SystemException in case there's an interger overflow
      */
-    public function decode($input, &$result, &$flags) {
+    public function decode($input, $result, $flags) {
       $in_len= strlen($input);
       $n= PUNYCODE_INITIAL_N;
       $out= $i= 0;
@@ -253,7 +253,7 @@
      * @throws lang.IllegalArgumentException in case $input is not a punycode string
      * @throws lang.SystemException in case there's an interger overflow
      */
-    public function encode($input, &$result, $flags) {
+    public function encode($input, $result, $flags) {
       $in_len= strlen($input);
       $n = PUNYCODE_INITIAL_N;
       $delta = $out = 0;
Index: ports/classes/org/ietf/UUID.class.php
===================================================================
--- ports/classes/org/ietf/UUID.class.php	(revision 8952)
+++ ports/classes/org/ietf/UUID.class.php	(working copy)
@@ -55,7 +55,7 @@
      * @return  &org.ietf.UUID
      * @see     http://www.ietf.org/internet-drafts/draft-mealling-uuid-urn-00.txt section 4.1.4
      */
-    public static function &create() {
+    public static function create() {
     
       // Get timestamp and convert it to UTC (based Oct 15, 1582).
       list($usec, $sec) = explode(' ', microtime());
@@ -93,7 +93,7 @@
      * @return  &org.ietf.UUID
      * @throws  lang.FormatException in case str is not a valid UUID string
      */
-    public static function &fromString($str) {
+    public static function fromString($str) {
       $uuid= new UUID();
       $a= array();
       if (11 != sscanf(
Index: ports/classes/org/gnu/readline/ReadLine.class.php
===================================================================
--- ports/classes/org/gnu/readline/ReadLine.class.php	(revision 8952)
+++ ports/classes/org/gnu/readline/ReadLine.class.php	(working copy)
@@ -60,12 +60,12 @@
      * @param   mixed* arg
      * @return  &mixed arg
      */
-    public function &registry() {
+    public function registry() {
       static $static= array();
       
       switch (func_num_args()) {
         case 1: return $static[func_get_arg(0)];
-        case 2: $static[func_get_arg(0)]= &func_get_arg(1); break;
+        case 2: $static[func_get_arg(0)]= func_get_arg(1); break;
       }
     }
   
@@ -77,7 +77,7 @@
      * @return  bool success
      * @throws  lang.IllegalArgumentException
      */
-    public function setCompleter(&$completer) {
+    public function setCompleter($completer) {
       if (!is('org.gnu.readline.Completer', $completer)) {
         throw(new IllegalArgumentException(
           'Argument is expected to implement org.gnu.readline.Completer'
@@ -152,7 +152,7 @@
      * @return  bool success
      * @throws  io.IOException
      */
-    public function readHistoryFile(&$file) {
+    public function readHistoryFile($file) {
       if (FALSE === readline_read_history($file->getURI())) {
         throw(new IOException('Could not read history from '.$file->getURI()));
       }
@@ -167,7 +167,7 @@
      * @return  bool success
      * @throws  io.IOException
      */
-    public function writeHistoryFile(&$file) {
+    public function writeHistoryFile($file) {
       if (FALSE === readline_write_history($file->getURI())) {
         throw(new IOException('Could not write history to '.$file->getURI()));
       }
Index: ports/classes/org/gnu/tar/TarArchive.class.php
===================================================================
--- ports/classes/org/gnu/tar/TarArchive.class.php	(revision 8952)
+++ ports/classes/org/gnu/tar/TarArchive.class.php	(working copy)
@@ -46,7 +46,7 @@
     public function open() {
       $args= func_get_args();
       return call_user_func_array(
-        array(&$this->file, 'open'), 
+        array($this->file, 'open'), 
         $args
       );
     }
Index: ports/classes/org/gnu/GetText.class.php
===================================================================
--- ports/classes/org/gnu/GetText.class.php	(revision 8952)
+++ ports/classes/org/gnu/GetText.class.php	(working copy)
@@ -69,7 +69,7 @@
      * @param   string directory
      * @return  &org.gnu.GetText
      */
-    public function &bind($domain, $directory) {
+    public function bind($domain, $directory) {
       static $g= array();
       
       $idx= $domain.'@'.$directory;
Index: ports/classes/org/dia/DiaData.class.php
===================================================================
--- ports/classes/org/dia/DiaData.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaData.class.php	(working copy)
@@ -121,7 +121,7 @@
      * @access  public
      * @return  &org.dia.DiaPaper
      */
-    public function &getPaper() {
+    public function getPaper() {
       return $this->getChild('paper');
     }
 
@@ -132,8 +132,8 @@
      * @param   &org.dia.DiaPaper Paper
      */
     #[@fromDia(xpath= 'dia:attribute[@name="paper"]', class= 'org.dia.DiaPaper')]
-    public function setPaper(&$Paper) {
-      $Paper_node= &$this->getChild('paper');
+    public function setPaper($Paper) {
+      $Paper_node= $this->getChild('paper');
       $Paper_node->set('paper', $Paper);
     }
 
@@ -143,7 +143,7 @@
      * @access  public
      * @return  &org.dia.DiaGrid
      */
-    public function &getGrid() {
+    public function getGrid() {
       return $this->getChild('grid');
     }
 
@@ -154,8 +154,8 @@
      * @param   &org.dia.DiaGrid Grid
      */
     #[@fromDia(xpath= 'dia:attribute[@name="grid"]', class= 'org.dia.DiaGrid')]
-    public function setGrid(&$Grid) {
-      $Grid_node= &$this->getChild('grid');
+    public function setGrid($Grid) {
+      $Grid_node= $this->getChild('grid');
       $Grid_node->set('grid', $Grid);
     }
 
@@ -165,7 +165,7 @@
      * @access  public
      * @return  &org.dia.DiaGuides
      */
-    public function &getGuides() {
+    public function getGuides() {
       return $this->getChild('guides');
     }
 
@@ -176,8 +176,8 @@
      * @param   &org.dia.DiaGuides Guides
      */
     #[@fromDia(xpath= 'dia:attribute[@name="guides"]', class= 'org.dia.DiaGuides')]
-    public function setGuides(&$Guides) {
-      $Guides_node= &$this->getChild('guides');
+    public function setGuides($Guides) {
+      $Guides_node= $this->getChild('guides');
       $Guides_node->set('guides', $Guides);
     }
 
Index: ports/classes/org/dia/DiaLayer.class.php
===================================================================
--- ports/classes/org/dia/DiaLayer.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaLayer.class.php	(working copy)
@@ -82,7 +82,7 @@
      * @param   &org.dia.DiaTextObject Text
      */
     #[@fromDia(xpath= 'dia:object[@type="Standard - Text"]', class= 'org.dia.DiaTextObject')]
-    public function addText(&$Text) {
+    public function addText($Text) {
       $this->set($Text->getName(), $Text);
     }
 
@@ -99,7 +99,7 @@
      * @param   &org.dia.DiaUMLLargePackage Package
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - LargePackage"]', class= 'org.dia.DiaUMLLargePackage')]
-    public function addLargePackage(&$Package) {
+    public function addLargePackage($Package) {
       $this->set($Package->getName(), $Package);
     }
 
@@ -110,7 +110,7 @@
      * @param   &org.dia.DiaUMLClass Class
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Class"]', class= 'org.dia.DiaUMLClass')]
-    public function addClass(&$Class) {
+    public function addClass($Class) {
       $this->set($Class->getName(), $Class);
     }
 
@@ -121,7 +121,7 @@
      * @param   &org.dia.DiaUMLGeneralization Gen
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Generalization"]', class= 'org.dia.DiaUMLGeneralization')]
-    public function addGeneralization(&$Gen) {
+    public function addGeneralization($Gen) {
       $this->set($Gen->getName(), $Gen);
     }
 
@@ -132,7 +132,7 @@
      * @param   &org.dia.DiaUMLDependency Dep
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Dependency"]', class= 'org.dia.DiaUMLDependency')]
-    public function addDependency(&$Dep) {
+    public function addDependency($Dep) {
       $this->set($Dep->getName(), $Dep);
     }
 
@@ -143,7 +143,7 @@
      * @param   &org.dia.DiaUMLRealizes Real
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Realizes"]', class= 'org.dia.DiaUMLRealizes')]
-    public function addRealizes(&$Real) {
+    public function addRealizes($Real) {
       $this->set($Real->getName(), $Real);
     }
 
@@ -154,7 +154,7 @@
      * @param   &org.dia.DiaUMLImplements Impl
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Implements"]', class= 'org.dia.DiaUMLImplements')]
-    public function addImplements(&$Impl) {
+    public function addImplements($Impl) {
       $this->set($Impl->getName(), $Impl);
     }
 
@@ -165,7 +165,7 @@
      * @param   &org.dia.DiaUMLAssociation Assoc
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Association"]', class= 'org.dia.DiaUMLAssociation')]
-    public function addAssociation(&$Assoc) {
+    public function addAssociation($Assoc) {
       $this->set($Assoc->getName(), $Assoc);
     }
 
@@ -176,7 +176,7 @@
      * @param   &org.dia.DiaUMLNote Note
      */
     #[@fromDia(xpath= 'dia:object[@type="UML - Note"]', class= 'org.dia.DiaUMLNote')]
-    public function addNote(&$Note) {
+    public function addNote($Note) {
       $this->set($Note->getName(), $Note);
     }
 
@@ -186,8 +186,8 @@
      * @access  public
      * @return  &org.dia.DiaObject
      */
-    public function &getObject($name) {
-      $Child= &$this->getChild($name);
+    public function getObject($name) {
+      $Child= $this->getChild($name);
       if (!is('org.dia.DiaObject', $Child))
         throw(new IllegalArgumentException("The object with name='$name' is no DiaObject!"));
       return $Child;
@@ -205,9 +205,9 @@
       $ret= array();
       foreach (array_keys($children) as $key) {
         if (!is('org.dia.DiaObject', $children[$key])) continue;
-        $Object= &$children[$key];
+        $Object= $children[$key];
         if ($Object->getNodeType() === 'type') {
-          $ret[]= &$Object;
+          $ret[]= $Object;
           // TODO: recurse into objects that may contain other objects
           // i.e. LargePackage, ...
         }
@@ -228,7 +228,7 @@
      * @access  public
      * @param   &org.dia.DiaObject Object
      */
-    public function addObject(&$Object) {
+    public function addObject($Object) {
       $this->set($Object->getName(), $Object);
     }
 
@@ -238,8 +238,8 @@
      * @access  public
      * @return  &xml.Node
      */ 
-    public function &getNode() {
-      $Node= &parent::getNode(); 
+    public function getNode() {
+      $Node= parent::getNode(); 
       if (isset($this->name))
         $Node->setAttribute('name', $this->name);
       if (isset($this->visibility))
Index: ports/classes/org/dia/DiaUMLConnection.class.php
===================================================================
--- ports/classes/org/dia/DiaUMLConnection.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaUMLConnection.class.php	(working copy)
@@ -67,8 +67,8 @@
      * @param   &org.dia.DiaConnection Conn
      */
     #[@fromDia(xpath= 'dia:connections/dia:connection', class= 'org.dia.DiaConnection')]
-    public function addConnection(&$Conn) {
-      $Conns= &$this->getChild('connections');
+    public function addConnection($Conn) {
+      $Conns= $this->getChild('connections');
       $Conns->set($this->conn_assoc[$Conn->getHandle()], $Conn);
     }
 
@@ -80,7 +80,7 @@
      * @return  org.dia.DiaPoint[]
      */
     public function getOrthPoints() {
-      $Points= &$this->getChild('orth_points');
+      $Points= $this->getChild('orth_points');
       return $Points->getChildren();
     }
 
@@ -92,7 +92,7 @@
      */
     #[@fromDia(xpath= 'dia:attribute[@name="orth_points"]/dia:point/@val', value= 'array')]
     public function addOrthPoint($point) {
-      $Points= &$this->getChild('orth_points');
+      $Points= $this->getChild('orth_points');
       $Points->addChild(new DiaPoint($point));
     }
 
@@ -103,7 +103,7 @@
      * @return  org.dia.DiaEnum[]
      */
     public function getOrthOrients() {
-      $Orient= &$this->getChild('orth_orient');
+      $Orient= $this->getChild('orth_orient');
       return $Orient->getChildren();
     }
 
@@ -115,7 +115,7 @@
      */
     #[@fromDia(xpath= 'dia:attribute[@name="orth_orient"]/dia:enum/@val', value= 'int')]
     public function addOrthOrient($direction) {
-      $Orient= &$this->getChild('orth_orient');
+      $Orient= $this->getChild('orth_orient');
       $Orient->addChild(new DiaEnum($direction));
     }
 
@@ -149,7 +149,7 @@
      * @param   int connpoint default 0
      */
     public function beginAt($id, $connpoint= 0) {
-      $Conns= &$this->getChild('connections');
+      $Conns= $this->getChild('connections');
       $Conn= new DiaConnection(0);
       $Conn->setTo($id);
       $Conn->setConnection($connpoint);
@@ -165,7 +165,7 @@
      * @param   int connpoint default 0
      */
     public function endAt($id, $connpoint= 0) {
-      $Conns= &$this->getChild('connections');
+      $Conns= $this->getChild('connections');
       $Conn= new DiaConnection(1);
       $Conn->setTo($id);
       $Conn->setConnection($connpoint);
Index: ports/classes/org/dia/DiaColor.class.php
===================================================================
--- ports/classes/org/dia/DiaColor.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaColor.class.php	(working copy)
@@ -22,8 +22,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->value)) 
         $node->setAttribute('val', $this->value);
       return $node;
Index: ports/classes/org/dia/DiaBoolean.class.php
===================================================================
--- ports/classes/org/dia/DiaBoolean.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaBoolean.class.php	(working copy)
@@ -22,8 +22,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       // TODO: the value should always be 'boolean'!
       if (isset($this->value)) {
         if (xp::typeOf($this->value) === 'boolean') {
Index: ports/classes/org/dia/DiaGuides.class.php
===================================================================
--- ports/classes/org/dia/DiaGuides.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaGuides.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  public
      * @return  &org.dia.DiaAttribute
      */
-    public function &getHorizontalGuides() {
+    public function getHorizontalGuides() {
       return $this->getChild('hguides');
     }
 
@@ -54,7 +54,7 @@
      * @access  public
      * @return  &org.dia.DiaAttribute
      */
-    public function &getVerticalGuides() {
+    public function getVerticalGuides() {
       return $this->getChild('vguides');
     }
 
Index: ports/classes/org/dia/UpdateVisitor.class.php
===================================================================
--- ports/classes/org/dia/UpdateVisitor.class.php	(revision 8952)
+++ ports/classes/org/dia/UpdateVisitor.class.php	(working copy)
@@ -59,13 +59,13 @@
       // check given classnames and create ClassDoc for each class
       foreach ($classnames as $name) {
         try {
-          $Classdoc= &$this->RootDoc->classNamed($name);
+          $Classdoc= $this->RootDoc->classNamed($name);
         } catch (IllegalArgumentException $e) {
           $e->printStackTrace();
           Console::writeLine("Class '$name' could not be found or parsed!");
           exit(-1);
         }
-        $this->classdocs[$Classdoc->qualifiedName()]= &$Classdoc;
+        $this->classdocs[$Classdoc->qualifiedName()]= $Classdoc;
       }
 
       if (UDT_VIS_DEBUG) Console::writeLine('UpdateVisitor: classes='.sizeof($classnames).' add='.$add.' update='.$update);
@@ -84,7 +84,7 @@
       if ($this->add) {
         foreach ($tobe_added as $classname) {
           try {
-            $ClassDoc= &$this->RootDoc->classNamed($classname);
+            $ClassDoc= $this->RootDoc->classNamed($classname);
           } catch (IllegalArgumentException $e) {
             Console::writeLine("Class '$classname' could not be found or parsed!");
             exit(-1);
@@ -112,10 +112,10 @@
      * @access  public
      * @param   &org.dia.DiaComponent Comp
      */
-    public function visit(&$Comp) {
+    public function visit($Comp) {
       // save reference to 
       if (is('org.dia.DiaDiagram', $Comp)) {
-        $this->Dia= &$Comp;
+        $this->Dia= $Comp;
       }
 
       // only process DiaUMLClass components
@@ -128,7 +128,7 @@
         if (!isset($this->classdocs[$name]) and $this->update) {
           // update: create ClassDoc and add it to $this->classdocs
           try {
-            $ClassDoc= &$this->RootDoc->classNamed($name);
+            $ClassDoc= $this->RootDoc->classNamed($name);
           } catch (IllegalArgumentException $e) {
             $e->printStackTrace();
             Console::writeLine("Class '$name' could not be found or parsed!");
@@ -138,7 +138,7 @@
             Console::writeLine('Caught unknown exception!');
             exit(-1);
           }
-          $this->classdocs[$name]= &$ClassDoc;
+          $this->classdocs[$name]= $ClassDoc;
         }
 
         // update the UMLClass in the diagram
@@ -166,7 +166,7 @@
      * @param   &org.dia.DiaUMLClass Class
      * @param   &text.doclet.ClassDoc ClassDoc
      */
-    public function _updateClass(&$Class, &$ClassDoc) {
+    public function _updateClass($Class, $ClassDoc) {
       if (UDT_VIS_DEBUG) Console::writeLine('* Updating class '.$ClassDoc->qualifiedName().'...');
       /*
       ClassDoc vs. DiaUMLClass...
@@ -181,12 +181,12 @@
       $attributes= $ClassDoc->fields;
       $meths= $ClassDoc->methods;
       foreach (array_keys($meths) as $key) {
-        $methods[$meths[$key]->name()]= &$meths[$key];
+        $methods[$meths[$key]->name()]= $meths[$key];
       }
 
       if (UDT_VIS_DEBUG) Console::writeLine('  Class has '.sizeof($attributes).' attributes...');
       // loop over UMLClass attributes (delete)
-      $Attributes_node= &$Class->getChild('attributes');
+      $Attributes_node= $Class->getChild('attributes');
       $dia_attributes= $Attributes_node->getChildByType('org.dia.DiaUMLAttribute');
       foreach (array_keys($dia_attributes) as $key) {
         $name= $dia_attributes[$key]->getName();
@@ -195,7 +195,7 @@
           if (UDT_VIS_DEBUG) Console::writeLine("Attribute '$name': deleted...");
           continue;
         }
-        $uml_attributes[$name]= &$dia_attributes[$key];
+        $uml_attributes[$name]= $dia_attributes[$key];
       }
 
       // loop over class attributes (update/add)
@@ -246,7 +246,7 @@
 
       if (UDT_VIS_DEBUG) Console::writeLine('  Class has '.sizeof($methods).' methods...');
       // loop over UMLClass methods (delete)
-      $Operations_node= &$Class->getChild('operations');
+      $Operations_node= $Class->getChild('operations');
       $dia_operations= $Operations_node->getChildByType('org.dia.DiaUMLMethod');
       foreach (array_keys($dia_operations) as $key ) {
         $name= $dia_operations[$key]->getName();
@@ -255,7 +255,7 @@
           if (UDT_VIS_DEBUG) Console::writeLine("  => Method '$name': deleted...");
           continue;
         }
-        $uml_methods[$name]= &$dia_operations[$key];
+        $uml_methods[$name]= $dia_operations[$key];
       }
 
       // loop over class methods (update/add)
@@ -264,7 +264,7 @@
           // dia method exists: check for update
           if (UDT_VIS_DEBUG) Console::writeLine("  => Updating existing method '$name'...");
           // ==> flags
-          $Method= &$uml_methods[$name];
+          $Method= $uml_methods[$name];
 
           // update return type
           $return_tags= $methods[$name]->tags('return');
@@ -302,7 +302,7 @@
           }
 
           // ==> parameters
-          $Params_node= &$Method->getChild('parameters');
+          $Params_node= $Method->getChild('parameters');
           $Params= $Params_node->getChildren();
           if (UDT_VIS_DEBUG) Console::writeLine("Params: ".xp::stringOf(array_keys($Params)));
           if (UDT_VIS_DEBUG) Console::writeLine("Args: ".xp::stringOf(array_keys($methods[$name]->arguments)));
@@ -367,7 +367,7 @@
 
           // create method parameters
           // WEIRD: if the following is renamed to $Params it doesn't work anymore!
-          $Params_node= &$Method->getChild('parameters');
+          $Params_node= $Method->getChild('parameters');
           // loop over arguments
           foreach (array_keys($methods[$name]->arguments) as $param_name) {
             if (UDT_VIS_DEBUG) Console::writeLine("    -> Adding parameter '$param_name'...");
@@ -403,14 +403,14 @@
      * @access  private
      * @param   &text.doclet.ClassDoc ClassDoc
      */
-    public function _addClass(&$ClassDoc) {
+    public function _addClass($ClassDoc) {
       // check for DiaDiagram instance
       if (!isset($this->Dia)) {
         Console::writeLine('DiaDiagram object not defined!');
         exit(-1);
       }
       // get background layer
-      $Layer= &$this->Dia->getLayer('Background');
+      $Layer= $this->Dia->getLayer('Background');
 
       // create new (empty) UMLClass and update it
       $Class= new DiaUMLClass();
Index: ports/classes/org/dia/DiaGrid.class.php
===================================================================
--- ports/classes/org/dia/DiaGrid.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaGrid.class.php	(working copy)
@@ -132,7 +132,7 @@
      * @param   &org.dia.DiaComposite Color
      */
     #[@fromDia(xpath= 'dia:composite/dia:composite[@type="color"]', class= 'org.dia.DiaComposite')]
-    public function setGridColor(&$Color) {
+    public function setGridColor($Color) {
       $this->set('color', $Color);
     }
 
Index: ports/classes/org/dia/DiaChildnode.class.php
===================================================================
--- ports/classes/org/dia/DiaChildnode.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaChildnode.class.php	(working copy)
@@ -56,7 +56,7 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
+    public function getNode() {
       $Node= new Node($this->node_name);
       $Node->setAttribute('parent', $this->parent);
       return $Node;
@@ -68,19 +68,19 @@
      * @access  public
      * @param   &util.Visitor Visitor
      */
-    public function accept(&$Visitor) {
+    public function accept($Visitor) {
       $Visitor->visit($this);
     }
 
     /**
      * DiaChildnode is a 'leaf' element which has no children
      */
-    public function addChild(&$Comp) { }
+    public function addChild($Comp) { }
 
     /**
      * DiaChildnode is a 'leaf' element which has no children
      */
-    public function remChild(&$Comp) { }
+    public function remChild($Comp) { }
 
     /**
      * DiaChildnode is a 'leaf' element which has no children
Index: ports/classes/org/dia/DiaMarshaller.class.php
===================================================================
--- ports/classes/org/dia/DiaMarshaller.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaMarshaller.class.php	(working copy)
@@ -46,7 +46,7 @@
     /**
      *
      */
-    public function &getInstance() {
+    public function getInstance() {
       static $Instance= NULL;
 
       if (!$Instance) {
@@ -64,8 +64,8 @@
      * @param   bool depend default FALSE Include dependencies
      * @return  &org.dia.DiaDiagram
      */
-    public static function &marshal($classnames, $recurse= 0, $depend= FALSE) {
-      $I= &DiaMarshaller::getInstance();
+    public static function marshal($classnames, $recurse= 0, $depend= FALSE) {
+      $I= DiaMarshaller::getInstance();
       // initialize RootDoc
       $I->_root= new RootDoc();
 
@@ -73,7 +73,7 @@
       $I->_dia= new DiaDiagram();
       $I->_dia->initialize();
       $Layers= $I->_dia->getChildByType('DiaLayer');
-      $I->_layer= &$Layers[0]; 
+      $I->_layer= $Layers[0]; 
 
       /*
       method 1:
@@ -108,7 +108,7 @@
       // generate and add classes to DiaDiagram
       foreach (array_keys($I->_classes) as $classname) {
         try {
-          $Dia_class= &$I->_genClass($I->_classes[$classname]);
+          $Dia_class= $I->_genClass($I->_classes[$classname]);
         } catch (IllegalArgumentException $e) {
           $e->printStackTrace();
           exit(-1);
@@ -175,7 +175,7 @@
       }
       // get ClassDoc
       try {
-        $Classdoc= &$this->_root->classNamed($classname);
+        $Classdoc= $this->_root->classNamed($classname);
       } catch (IllegalArgumentException $e) {
         Console::writeLine("Class not found: $classname");
         exit(-1);
@@ -183,12 +183,12 @@
         die('Unexpected exception: '.$e->toString());
       }
       // add classname to $this->_classes
-      $this->_classes[$classname]= &$Classdoc;
+      $this->_classes[$classname]= $Classdoc;
 
       // add dependencies
       if ($depend and $recurse >=0) {
         while ($Classdoc->usedClasses->hasNext()) {
-          $Dependency= &$Classdoc->usedClasses->next();
+          $Dependency= $Classdoc->usedClasses->next();
           // add dependency definition 
           $this->_deps[$classname][]= $Dependency->qualifiedName();
           // add dependency class
@@ -200,7 +200,7 @@
 
       // add implemenations
       while ($Classdoc->interfaces->hasNext() and $recurse >=0 ) {
-        $Interface= &$Classdoc->interfaces->next();
+        $Interface= $Classdoc->interfaces->next();
         // add interface definition
         $this->_imps[$classname][]= $Interface->qualifiedName();
         // add interface class
@@ -210,7 +210,7 @@
       }
 
       // recurse
-      if ($recurse > 0 and NULL !== ($Superdoc= &$Classdoc->superclass)) {
+      if ($recurse > 0 and NULL !== ($Superdoc= $Classdoc->superclass)) {
         // add generalization definition
         $this->_gens[$classname]= $Superdoc->qualifiedName();
         // recurse parent class, only if not already processed
@@ -228,21 +228,21 @@
      * @return  &org.dia.DiaUMLClass
      * @throws  lang.IllegalArgumentException If argument is not usable
      */
-    public function &_genClass(&$classdoc) {
+    public function _genClass($classdoc) {
       // accept only ClassDoc
       if (!is('ClassDoc', $classdoc)) {
         throw(new IllegalArgumentException('No ClassDoc given!'));
       }
-      $ClassDoc= &$classdoc;
+      $ClassDoc= $classdoc;
         
       // get DiaUMLClass
       $UMLClass= new DiaUMLClass();
-      $DiaClass= &$UMLClass->getClass();
+      $DiaClass= $UMLClass->getClass();
       $DiaMethods= $DiaClass->getMethods();
 
       // loop over methods (annotations)
       for ($i= 0, $s= sizeof($DiaMethods); $i < $s; $i++) {
-        $Method= &$DiaMethods[$i];
+        $Method= $DiaMethods[$i];
         // Console::writeLine('Method: '.$Method->getName().' Annotations: '.xp::stringOf($Method->getAnnotations()));
         // skip methods that don't have the appropriate annotation
         if (!$Method->hasAnnotation('fromClass')) continue;
@@ -312,7 +312,7 @@
      * @param   string from Fully qualified classname of the depended class
      * @return  &org.dia.DiaUMLDependecy
      */
-    public function &_genDependency($from, $to) {
+    public function _genDependency($from, $to) {
       $Dia_dep= new DiaUMLDependency();
       $Dia_dep->beginAt($this->_getObjectId($from));
       $Dia_dep->endAt($this->_getObjectId($to));
@@ -326,7 +326,7 @@
      * @param   string to Fully qualified classname of the interface class
      * @return  &org.dia.DiaUMLRealizes
      */
-    public function &_genImplemenation($from, $to) {
+    public function _genImplemenation($from, $to) {
       $Dia_imp= new DiaUMLRealizes();
       $Dia_imp->beginAt($this->_getObjectId($from));
       $Dia_imp->endAt($this->_getObjectId($to));
@@ -340,7 +340,7 @@
      * @param   string to Fully qualified classname of the parent class
      * @return  &org.dia.DiaUMLGeneralization
      */
-    public function &_genGeneralization($from, $to) {
+    public function _genGeneralization($from, $to) {
       $Dia_gen= new DiaUMLGeneralization();
       $Dia_gen->beginAt($this->_getObjectId($from));
       $Dia_gen->endAt($this->_getObjectId($to));
Index: ports/classes/org/dia/DiaUMLAssociation.class.php
===================================================================
--- ports/classes/org/dia/DiaUMLAssociation.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaUMLAssociation.class.php	(working copy)
@@ -73,8 +73,8 @@
      * @access  public
      * @return  &org.dia.DiaRole
      */
-    public function &getRoleA() {
-      $Ends= &$this->getChild('ends');
+    public function getRoleA() {
+      $Ends= $this->getChild('ends');
       return $Ends->getChild('A');
     }
 
@@ -85,8 +85,8 @@
      * @param   &org.dia.DiaRole Role
      */
     #[@fromDia(xpath= 'dia:attribute[@name="ends"]/dia:composite[position()=1]', class= 'org.dia.DiaRole')]
-    public function setRoleA(&$Role) {
-      $Ends= &$this->getChild('ends');
+    public function setRoleA($Role) {
+      $Ends= $this->getChild('ends');
       $Ends->set('A', $Role);
     }
 
@@ -96,8 +96,8 @@
      * @access  public
      * @return  &org.dia.DiaRole
      */
-    public function &getRoleB() {
-      $Ends= &$this->getChild('ends');
+    public function getRoleB() {
+      $Ends= $this->getChild('ends');
       return $Ends->getChild('B');
     }
 
@@ -108,8 +108,8 @@
      * @param   &org.dia.DiaRole Role
      */
     #[@fromDia(xpath= 'dia:attribute[@name="ends"]/dia:composite[position()=2]', class= 'org.dia.DiaRole')]
-    public function setRoleB(&$Role) {
-      $Ends= &$this->getChild('ends');
+    public function setRoleB($Role) {
+      $Ends= $this->getChild('ends');
       $Ends->set('B', $Role);
     }
 
Index: ports/classes/org/dia/DiaUMLImplements.class.php
===================================================================
--- ports/classes/org/dia/DiaUMLImplements.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaUMLImplements.class.php	(working copy)
@@ -123,7 +123,7 @@
      */
     #[@fromDia(xpath= 'dia:attribute[@name="conn_endpoints"]/dia:point/@val', value= 'array')]
     public function addEndPoint($point) {
-      $Conns= &$this->getChild('conn_endpoints');
+      $Conns= $this->getChild('conn_endpoints');
       $Conns->addChild(new DiaPoint($point));
     }
     
@@ -133,8 +133,8 @@
      * @access  public
      * @return  &org.dia.DiaConnection
      */
-    public function &getConnection() {
-      $Conns= &$this->getChild('connections');
+    public function getConnection() {
+      $Conns= $this->getChild('connections');
       return $Conns->getChild('connection');
     }
 
@@ -145,8 +145,8 @@
      * @param   &org.dia.DiaConnection Conn
      */
     #[@fromDia(xpath= 'dia:attribute[@name="connetions"]/dia:connection', class= 'org.dia.DiaConnection')]
-    public function setConnection(&$Conn) {
-      $Conns= &$this->getChild('connections');
+    public function setConnection($Conn) {
+      $Conns= $this->getChild('connections');
       $Conns->set('connection', $Conn);
     }
 
@@ -157,7 +157,7 @@
      * @param   int connpoint default 0 The connection point of the object
      */
     public function beginAt($id, $connpoint= 0) {
-      $Conns= &$this->getChild('connections');
+      $Conns= $this->getChild('connections');
       $Conns->set('connection', new DiaConnection("0, $id, $connpoint"));
     }
 
Index: ports/classes/org/dia/DiaUnmarshaller.class.php
===================================================================
--- ports/classes/org/dia/DiaUnmarshaller.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaUnmarshaller.class.php	(working copy)
@@ -28,9 +28,9 @@
      * @param   string filename The diagram filename (.dia)
      * @return  &org.dia.DiaDiagram
      */
-    public static function &unmarshal($diagram) {
+    public static function unmarshal($diagram) {
       // suck in XML document
-      if (!($dom= &domxml_open_file($diagram, DOMXML_LOAD_PARSING, $error))) {
+      if (!($dom= domxml_open_file($diagram, DOMXML_LOAD_PARSING, $error))) {
         throw(new XMLFormatException(xp::stringOf($error)));
       }
       // initialize XPath
@@ -40,7 +40,7 @@
       $XPath->registerNamespace('dia', 'http://www.lysator.liu.se/~alla/dia/');
       // new (unused): $XPath->registerNamespace('dia', 'http://www.gnome.org/projects/dia/');
       // go
-      $Dia= &DiaUnmarshaller::recurse($XPath, $dom->document_element(), 'org.dia.DiaDiagram');
+      $Dia= DiaUnmarshaller::recurse($XPath, $dom->document_element(), 'org.dia.DiaDiagram');
       Console::writeLine('DiaUnmarshaller used up '.round(memory_get_usage()/1024, 2).' Kb of memory.');
       return $Dia;
     }
@@ -54,22 +54,22 @@
      * @param   &php.DomNode Context The XML node to recurse from
      * @param   string classname Fully qualified class name
      */
-    public static function &recurse(&$XPath, &$Context, $classname) {
+    public static function recurse($XPath, $Context, $classname) {
       if (DIA_UNM_DEBUG) Console::writeLine('recurse: '.$Context->tagname()."-> $classname");
 
       try {
-        $Class= &XPClass::forName($classname);
+        $Class= XPClass::forName($classname);
       } catch (Exception $e) {
         $e->printStackTrace();
         exit(-1);
       }
-      $Instance= &$Class->newInstance(); 
+      $Instance= $Class->newInstance(); 
       if (DIA_UNM_DEBUG) Console::writeLine('Instance: '.$Instance->getClassName());
 
       // loop over class methods with annotation 'fromDia'
       $methods= $Class->getMethods();
       foreach (array_keys($methods) as $key) {
-        $Method= &$methods[$key];
+        $Method= $methods[$key];
         if (!$Method->hasAnnotation('fromDia', 'xpath')) continue;
         $name= $Method->getName();
         $xpath= $Method->getAnnotation('fromDia', 'xpath');
@@ -78,7 +78,7 @@
 
         // continue if this fails: some expressions don't work on WRONG nodes...
         try {
-          $result= &$XPath->query($xpath, $Context);
+          $result= $XPath->query($xpath, $Context);
         } catch (Exception $e) {
           if (DIA_UNM_DEBUG) $e->printStackTrace();
           $nodename= $Context->tagname();
@@ -96,7 +96,7 @@
 
         // loop over nodeset
         foreach (array_keys($result->nodeset) as $key) {
-          $Node= &$result->nodeset[$key];
+          $Node= $result->nodeset[$key];
           
           // key 'value' (simple value)
           if ($Method->hasAnnotation('fromDia', 'value')) {
@@ -189,7 +189,7 @@
             if (DIA_UNM_DEBUG) Console::writeLine("  + Class: $classname");
 
             // recurse with given classname
-            $Obj= &DiaUnmarshaller::recurse($XPath, $Node, $classname);
+            $Obj= DiaUnmarshaller::recurse($XPath, $Node, $classname);
             // hand results over to the method
             $Method->invoke($Instance, array($Obj));
           }
Index: ports/classes/org/dia/DiaComponent.class.php
===================================================================
--- ports/classes/org/dia/DiaComponent.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaComponent.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode();
+    public function getNode();
 
   }
 ?>
Index: ports/classes/org/dia/DiaDiagram.class.php
===================================================================
--- ports/classes/org/dia/DiaDiagram.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaDiagram.class.php	(working copy)
@@ -84,7 +84,7 @@
      * @access  public
      * @return  &org.dia.DiaData
      */
-    public function &getData() {
+    public function getData() {
       return $this->getChild('data');
     }
 
@@ -95,7 +95,7 @@
      * @param   &org.dia.DiaData Data
      */
     #[@fromDia(xpath= 'dia:diagramdata', class= 'org.dia.DiaData')]
-    public function setData(&$Data) {
+    public function setData($Data) {
       $this->set('data', $Data);
     }
 
@@ -106,8 +106,8 @@
      * @param   string name default 'Background'
      * @return  &org.dia.DiaLayer
      */
-    public function &getLayer($name= 'Background') {
-      $Child= &$this->getChild($name);
+    public function getLayer($name= 'Background') {
+      $Child= $this->getChild($name);
       if (!is('org.dia.DiaLayer', $Child))
         throw(new IllegalArgumentException("The object with name='$name' is no DiaLayer!"));
       return $Child;
@@ -120,7 +120,7 @@
      * @param   &org.dia.DiaLayer Layer
      */
     #[@fromDia(xpath= 'dia:layer', class= 'org.dia.DiaLayer')]
-    public function addLayer(&$Layer) {
+    public function addLayer($Layer) {
       $this->set($Layer->getName(), $Layer);
     }
 
@@ -131,9 +131,9 @@
      * @return  string XML representation of the DIAgramm
      */
     public function getSource($indent= INDENT_DEFAULT) {
-      $Node= &$this->getNode();
+      $Node= $this->getNode();
       $Tree= new Tree();
-      $Tree->root= &$Node;
+      $Tree->root= $Node;
       return $Tree->getDeclaration()."\n".$Tree->getSource($indent);
     }
 
@@ -173,8 +173,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       foreach (array_keys($this->ns) as $prefix) {
         $node->setAttribute('xmlns:'.$prefix, $this->ns[$prefix]);
       }
Index: ports/classes/org/dia/DiaEnum.class.php
===================================================================
--- ports/classes/org/dia/DiaEnum.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaEnum.class.php	(working copy)
@@ -22,8 +22,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->value)) {
         $node->setAttribute('val', $this->value);
       } else {
Index: ports/classes/org/dia/DiaString.class.php
===================================================================
--- ports/classes/org/dia/DiaString.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaString.class.php	(working copy)
@@ -22,8 +22,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->value)) {
         $node->setContent('#'.$this->value.'#');
       } else {
Index: ports/classes/org/dia/DiaObject.class.php
===================================================================
--- ports/classes/org/dia/DiaObject.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaObject.class.php	(working copy)
@@ -277,8 +277,8 @@
      * @access  publicg
      * @return  &org.dia.DiaText
      */
-    public function &getText() {
-      $Text_node= &$this->getChild('text');
+    public function getText() {
+      $Text_node= $this->getChild('text');
       if (!isset($Text_node)) return NULL;
       // 'text' node may only have one child!
       $children= $Text_node->getChildren();
@@ -292,12 +292,12 @@
      * @param   &org.dia.DiaText Text
      */
     #[@fromDia(xpath= 'dia:attribute[@name="text"]/*', class= 'org.dia.DiaText')]
-    public function setText(&$Text) {
+    public function setText($Text) {
       // TODO
-      $Text_node= &$this->getChild('text');
+      $Text_node= $this->getChild('text');
       if (!isset($Text_node)) {
         $this->set('text', new DiaAttribute('text'));
-        $Text_node= &$this->getChild('text');
+        $Text_node= $this->getChild('text');
       }
       $Text_node->set($Text->getName(), $Text);
     }
@@ -310,8 +310,8 @@
      * @access  publicg
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->type))
         $node->setAttribute('type', $this->type);
       if (isset($this->version))
Index: ports/classes/org/dia/DiaFont.class.php
===================================================================
--- ports/classes/org/dia/DiaFont.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaFont.class.php	(working copy)
@@ -110,8 +110,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $Node= &parent::getNode();
+    public function getNode() {
+      $Node= parent::getNode();
       $Node->setAttribute('family', $this->family);
       $Node->setAttribute('style', $this->style);
       $Node->setAttribute('name', $this->name);
Index: ports/classes/org/dia/dev/test_unmarshal.php
===================================================================
--- ports/classes/org/dia/dev/test_unmarshal.php	(revision 8952)
+++ ports/classes/org/dia/dev/test_unmarshal.php	(working copy)
@@ -9,12 +9,12 @@
 
   // TODO: => unittest!
 
-  $Param= &new ParamString();
+  $Param= new ParamString();
   $diagram= $Param->value(1);
   
-  try (); {
-    $Dia= &DiaUnmarshaller::unmarshal($diagram);
-  } if (catch('Exception', $e)) {
+  try {
+    $Dia= DiaUnmarshaller::unmarshal($diagram);
+  } catch (Exception $e) {
     $e->printStackTrace();
     exit(-1);
   }
Index: ports/classes/org/dia/dev/TestMarshaller.class.php
===================================================================
--- ports/classes/org/dia/dev/TestMarshaller.class.php	(revision 8952)
+++ ports/classes/org/dia/dev/TestMarshaller.class.php	(working copy)
@@ -13,14 +13,14 @@
      * @param   bool depend default FALSE
      * @return  &org.dia.DiaDiagram
      */
-    public function &marshal($classnames, $recurse= 0, $depend= FALSE) {
+    public function marshal($classnames, $recurse= 0, $depend= FALSE) {
       // create new DiaDiagram
       $Dia= new DiaDiagram();
 
       // check classnames?
       foreach ($classnames as $classname) {
         try {
-          $Class= &XPClass::forName($Classname);
+          $Class= XPClass::forName($Classname);
         } catch (Exception $e) {
           Console::writeLine("CLASS NOT FOUND: $classname!");
         }
@@ -37,8 +37,8 @@
      * @param   bool depend
      * @return  &org.dia.DiaDiagram
      */
-    public function &recurse(&$Dia, $classnames, $recurse, $depend) {
-      $Layer= &$Dia->getLayer();
+    public function recurse($Dia, $classnames, $recurse, $depend) {
+      $Layer= $Dia->getLayer();
 
 
       return $Dia;
Index: ports/classes/org/dia/dev/test_visitor.php
===================================================================
--- ports/classes/org/dia/dev/test_visitor.php	(revision 8952)
+++ ports/classes/org/dia/dev/test_visitor.php	(working copy)
@@ -8,11 +8,11 @@
   // TODO: => unittest...
 
   Console::writeLine('============= Unmarshaller ==========');
-  $Dia= &DiaUnmarshaller::unmarshal('DiaClasses.dia');
+  $Dia= DiaUnmarshaller::unmarshal('DiaClasses.dia');
   $Dia->saveTo('DiaClasses_parsed.dia', FALSE);
 
   Console::writeLine('============= Visitor ===============');
-  $Visitor= &new UpdateVisitor(array(), FALSE, TRUE);
+  $Visitor= new UpdateVisitor(array(), FALSE, TRUE);
   $Dia->accept($Visitor);
   $Visitor->finalize();
   $Dia->saveTo('DiaClasses_updated.dia', FALSE);
Index: ports/classes/org/dia/dev/test.php
===================================================================
--- ports/classes/org/dia/dev/test.php	(revision 8952)
+++ ports/classes/org/dia/dev/test.php	(working copy)
@@ -19,8 +19,8 @@
   );
 
   // create new empty diagram:
-  $Dia= &new DiaDiagram();
-  $BgLayer= &$Dia->getChild('Background');
+  $Dia= new DiaDiagram();
+  $BgLayer= $Dia->getChild('Background');
   $BgLayer->addObject(new DiaText());
 
   Console::writeLine($Dia->getSource());
Index: ports/classes/org/dia/dev/update.php
===================================================================
--- ports/classes/org/dia/dev/update.php	(revision 8952)
+++ ports/classes/org/dia/dev/update.php	(working copy)
@@ -12,7 +12,7 @@
     'org.dia.UpdateVisitor'
   );
 
-  $P= &new ParamString();
+  $P= new ParamString();
   if (!$P->exists('classes') or !$P->exists('diagram')) {
     die('Parameters "--classes=ful.qal.class[,oth.qual.class,...]" and "--diagram=file.dia" are required!');
   } else {
@@ -33,23 +33,23 @@
         Console::writeLine('Using default "depend=TRUE"...');
       }
 
-      $Dia= &DiaMarshaller::marshal($classes, $recurse, $depend);
+      $Dia= DiaMarshaller::marshal($classes, $recurse, $depend);
       $Dia->saveTo($file, FALSE);
     } else { // else: update diagram
       Console::writeLine('Diagram file found: updating classes...');
       // initialize objects
-      try (); {
+      try {
         // Visitor checks if the given classes exist
-        $Visitor= &new UpdateVisitor($classes, TRUE, TRUE);
-      } if (catch('Exception', $e)) {
+        $Visitor= new UpdateVisitor($classes, TRUE, TRUE);
+      } catch (Exception $e) {
         $e->printStackTrace();
         exit(-1);
       }
 
       Console::writeLine('Parsing XML diagram file...');
-      try (); {
-        $Dia= &DiaUnmarshaller::unmarshal($file);
-      } if (catch('Exception', $e)) {
+      try {
+        $Dia= DiaUnmarshaller::unmarshal($file);
+      } catch (Exception $e) {
         $e->printStackTrace();
         exit(-1);
       }
Index: ports/classes/org/dia/dev/TestVisitor.class.php
===================================================================
--- ports/classes/org/dia/dev/TestVisitor.class.php	(revision 8952)
+++ ports/classes/org/dia/dev/TestVisitor.class.php	(working copy)
@@ -14,7 +14,7 @@
     public
       $depth= 0;
 
-    public function visit(&$Object) {
+    public function visit($Object) {
       if (is('org.dia.DiaObject', $Object))
         Console::writeLine("DiaObject: ".$Object->getName());
       if (is('org.dia.DiaComposite', $Object)) {
Index: ports/classes/org/dia/dev/update_diagram.php
===================================================================
--- ports/classes/org/dia/dev/update_diagram.php	(revision 8952)
+++ ports/classes/org/dia/dev/update_diagram.php	(working copy)
@@ -10,7 +10,7 @@
     'org.dia.UpdateVisitor'
   );
 
-  $P= &new ParamString();
+  $P= new ParamString();
   $diagram= $P->value(1);
   if (!file_exists($diagram)) {
     Console::writeLine("You need to specify an existing dia diagram file as first parameter!");
@@ -18,17 +18,17 @@
   }
 
   // parse diagram
-  try (); {
-    $Dia= &DiaUnmarshaller::unmarshal($diagram);
-  } if (catch('Exception', $e)) {
+  try {
+    $Dia= DiaUnmarshaller::unmarshal($diagram);
+  } catch (Exception $e) {
     $e->printStackTrace();
     exit(-1);
   }
 
   // visitor that updates all existing classes in the diagram
-  try (); {
-    $V= &new UpdateVisitor(array(), FALSE, TRUE);
-  } if (catch('Exception', $e)) {
+  try {
+    $V= new UpdateVisitor(array(), FALSE, TRUE);
+  } catch (Exception $e) {
     $e->printStackTrace();
     exit(-1);
   }
Index: ports/classes/org/dia/DiaDoclet.class.php
===================================================================
--- ports/classes/org/dia/DiaDoclet.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaDoclet.class.php	(working copy)
@@ -50,16 +50,16 @@
      * Run Doclet
      *
      */
-    public function start(&$root) {  
+    public function start($root) {  
       // test hasNext()?
 
       while ($root->classes->hasNext()) {
-        $ClassDoc= &$root->classes->next();
+        $ClassDoc= $root->classes->next();
         $classnames[]= $ClassDoc->qualifiedName();
       }
 
       // generate diagram via DiaMarshaller
-      $Dia= &DiaMarshaller::marshal(
+      $Dia= DiaMarshaller::marshal(
         $classnames, 
         $root->option('recurse', 0), 
         $root->option('depend', FALSE)
Index: ports/classes/org/dia/DiaConnections.class.php
===================================================================
--- ports/classes/org/dia/DiaConnections.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaConnections.class.php	(working copy)
@@ -45,7 +45,7 @@
      * @param   int handle
      * @return  &org.dia.DiaConnection
      */
-    public function &getConnection($handle) {
+    public function getConnection($handle) {
       return $this->getChild($handle);
     }
 
Index: ports/classes/org/dia/DiaUMLClass.class.php
===================================================================
--- ports/classes/org/dia/DiaUMLClass.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaUMLClass.class.php	(working copy)
@@ -501,7 +501,7 @@
     // TODO? fromClass(type= 'attribute', class= 'org.dia.DiaUMLAttribute')
     #[@fromDia(xpath= 'dia:attribute[@name="attributes"]/*', class= 'org.dia.DiaUMLAttribute')]
     public function addUMLAttribute($Attribute) {
-      $Attributes= &$this->getChild('attributes');
+      $Attributes= $this->getChild('attributes');
       $Attributes->set($Attribute->getName(), $Attribute);
     }
 
@@ -513,7 +513,7 @@
      */
     #[@fromDia(xpath= 'dia:attribute[@name="operations"]/*', class= 'org.dia.DiaUMLMethod')]
     public function addUMLMethod($Method) {
-      $Operations= &$this->getChild('operations');
+      $Operations= $this->getChild('operations');
       $Operations->set($Method->getName(), $Method);
     }
 
@@ -525,7 +525,7 @@
      */
     #[@fromDia(xpath= 'dia:attribute[@name="templates"]/*', class= 'org.dia.DiaUMLFormalParameter')]
     public function addTemplate($Parameter) {
-      $Templates= &$this->getChild('templates');
+      $Templates= $this->getChild('templates');
       $Templates->set($Parameter->getName(), $Parameter);
     }
 
@@ -550,7 +550,7 @@
      */
     #[@fromClass(type = 'attribute')]
     public function addAttribute($field) {
-      $Attributes= &$this->getChild('attributes');
+      $Attributes= $this->getChild('attributes');
 
       // create new UMLAttribute
       list($name, $value)= each($field);
@@ -583,8 +583,8 @@
      * @param   &text.doclet.MethodDoc Method
      */
     #[@fromClass(type = 'method')]
-    public function addMethod(&$Method) {
-      $Operations= &$this->getChild('operations');
+    public function addMethod($Method) {
+      $Operations= $this->getChild('operations');
 
       // create new UMLMethod
       $Oper= new DiaUMLMethod();
@@ -621,7 +621,7 @@
       // TODO? stereotype, inheritance_type, class_scope... (@access?)
 
       // get parameters 'attribute'
-      $Params= &$Oper->getChild('parameters');
+      $Params= $Oper->getChild('parameters');
 
       // loop over arguments
       foreach (array_keys($Method->arguments) as $name) {
Index: ports/classes/org/dia/DiaReal.class.php
===================================================================
--- ports/classes/org/dia/DiaReal.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaReal.class.php	(working copy)
@@ -22,8 +22,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->value)) $node->setAttribute('val', $this->value);
       return $node;
     }
Index: ports/classes/org/dia/DiaCompound.class.php
===================================================================
--- ports/classes/org/dia/DiaCompound.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaCompound.class.php	(working copy)
@@ -32,13 +32,13 @@
      * @param   &org.dia.DiaComponent Component
      * @throws  lang.IllegalArgumentException
      */
-    public function set($name, &$Component) {
+    public function set($name, $Component) {
       if (!is('org.dia.DiaComponent', $Component)) {
         $name= xp::typeOf($Component);
         if (is_object($Component)) $name= $Component->getClassName();
         throw(new IllegalArgumentException("Wrong object type: $name"));
       }
-      $this->_children[$name]= &$Component;
+      $this->_children[$name]= $Component;
     }
 
     /**
@@ -147,7 +147,7 @@
      * @param   string name
      * @return  &org.dia.DiaComponent
      */
-    public function &getChild($name) {
+    public function getChild($name) {
       return $this->_children[$name];
     }
 
@@ -158,8 +158,8 @@
      * @return  mixed
      */
     public function getChildValue($name) {
-      if (NULL === ($Child= &$this->getChild($name))) return NULL;
-      if (NULL === ($Value= &$Child->getChild('value'))) return NULL;
+      if (NULL === ($Child= $this->getChild($name))) return NULL;
+      if (NULL === ($Value= $Child->getChild('value'))) return NULL;
       return $Value->getValue();
     }
 
@@ -174,7 +174,7 @@
       $objs= array();
       foreach (array_keys($this->_children) as $key) {
         if (is($type, $this->_children[$key])) {
-          $objs[]= &$this->_children[$key];
+          $objs[]= $this->_children[$key];
         }
       }
       return $objs;
@@ -185,8 +185,8 @@
      * childByName: getName() attribute, layer(, font)
      * USE getChild($name)!
      */
-    public function &getChildAttributeByName($name) {
-      $attrs= &$this->getChildByType('org.dia.DiaAttribute');
+    public function getChildAttributeByName($name) {
+      $attrs= $this->getChildByType('org.dia.DiaAttribute');
       foreach (array_keys($attrs) as $key) {
         if ($attrs[$key]->getName() === $name) {
           return $attrs[$key];
@@ -226,7 +226,7 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
+    public function getNode() {
       $node= new Node($this->node_name);
       $children= $this->getChildren();
       foreach (array_keys($children) as $key) {
@@ -246,9 +246,9 @@
      * @access  public
      * @param   &lang.Visitor Visitor
      */
-    public function accept(&$Visitor) {
+    public function accept($Visitor) {
       $Visitor->visit($this);
-      $children= &$this->getChildren();
+      $children= $this->getChildren();
       foreach (array_keys($children) as $key) {
         if (!is_object($children[$key])) {
           Console::writeLine("NON-object: $key=".xp::typeOf($children[$key]));
@@ -268,14 +268,14 @@
      * @param   &org.dia.DiaComponent Comp
      * @throws  lang.IllegalArgumentException
      */
-    public function addChild(&$Comp) {
+    public function addChild($Comp) {
       if (!is('org.dia.DiaComponent', $Comp))
         throw(new IllegalArgumentException('Given object is no "DiaComponent"!'));
       // TODO: what if child exists?
       if (method_exists($Comp, 'getName')) {
-        $this->_children[$Comp->getName()]= &$Comp;
+        $this->_children[$Comp->getName()]= $Comp;
       } else {
-        $this->_children[]= &$Comp;
+        $this->_children[]= $Comp;
       }
     }
 
@@ -286,7 +286,7 @@
      * @param   &org.dia.DiaComponent Comp
      * @return  bool
      */
-    public function remChild(&$Comp) {
+    public function remChild($Comp) {
       if (!is('org.dia.DiaComponent', $Comp))
         throw(new IllegalArgumentException('Given object is no "DiaComponent"!'));
       // TODO: how do we uniquely identify components?
Index: ports/classes/org/dia/doclet.php
===================================================================
--- ports/classes/org/dia/doclet.php	(revision 8952)
+++ ports/classes/org/dia/doclet.php	(working copy)
@@ -2,17 +2,16 @@
   require('lang.base.php');
   uses('text.doclet.RootDoc', 'util.cmd.Console');
 
-  $P= &new ParamString();
+  $P= new ParamString();
   if (!$P->exists('doclet')) {
     die('Parameter "--doclet" is required!');
   } else {
     $doclet_name= $P->value('doclet');
-    try (); {
-      $Class= &XPClass::forName($doclet_name);
-      $Instance= &$Class->newInstance();
+    try {
+      $Class= XPClass::forName($doclet_name)->newInstance();
       if (!is('Doclet', $Instance)) 
         throw(new IllegalArgumentException('Given classname is not a "Doclet" class!'));
-    } if (catch('Exception', $e)) {
+    } catch (Exception $e) {
       die($e->toString());
     }
 
Index: ports/classes/org/dia/DiaPoint.class.php
===================================================================
--- ports/classes/org/dia/DiaPoint.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaPoint.class.php	(working copy)
@@ -39,8 +39,8 @@
      * @access  public 
      * @return  &xml.Node 
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->value)) {
         $node->setAttribute('val', implode(',', $this->value));
       } else {
Index: ports/classes/org/dia/DiaElement.class.php
===================================================================
--- ports/classes/org/dia/DiaElement.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaElement.class.php	(working copy)
@@ -58,7 +58,7 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
+    public function getNode() {
       $node= new Node($this->node_name);
       return $node;
     }
@@ -69,7 +69,7 @@
      * @access  public
      * @param   &util.Visitor
      */
-    public function accept(&$Visitor) {
+    public function accept($Visitor) {
       $Visitor->visit($this);
     }
 
@@ -77,13 +77,13 @@
      * DiaElement and its child-classes are 'leaf' elements which have no
      * children
      */
-    public function addChild(&$Comp) { }
+    public function addChild($Comp) { }
 
     /**
      * DiaElement and its child-classes are 'leaf' elements which have no
      * children
      */
-    public function remChild(&$Comp) { }
+    public function remChild($Comp) { }
 
     /**
      * DiaElement and its child-classes are 'leaf' elements which have no
Index: ports/classes/org/dia/DiaInt.class.php
===================================================================
--- ports/classes/org/dia/DiaInt.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaInt.class.php	(working copy)
@@ -22,8 +22,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->value)) $node->setAttribute('val', $this->value);
       return $node;
     }
Index: ports/classes/org/dia/DiaUMLMethod.class.php
===================================================================
--- ports/classes/org/dia/DiaUMLMethod.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaUMLMethod.class.php	(working copy)
@@ -190,7 +190,7 @@
      * @return  org.dia.DiaUMLMethodParameter[]
      */
     public function getParameters() {
-      $Parameters= &$this->getChild('parameters');
+      $Parameters= $this->getChild('parameters');
       return $Parameters->getChildren();
     }
 
@@ -207,7 +207,7 @@
           'Passed parameter is no "org.dia.DiaUMLMethodParameter"!'
         ));
       }
-      $Parameters= &$this->getChild('parameters');
+      $Parameters= $this->getChild('parameters');
       $Parameters->set($Parameter->getName(), $Parameter);
     }
  }
Index: ports/classes/org/dia/DiaConnection.class.php
===================================================================
--- ports/classes/org/dia/DiaConnection.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaConnection.class.php	(working copy)
@@ -112,8 +112,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $Node= &parent::getNode();
+    public function getNode() {
+      $Node= parent::getNode();
       $Node->setAttribute('handle', $this->handle);
       $Node->setAttribute('to', $this->to);
       $Node->setAttribute('connection', $this->conn);
Index: ports/classes/org/dia/DiaComposite.class.php
===================================================================
--- ports/classes/org/dia/DiaComposite.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaComposite.class.php	(working copy)
@@ -158,8 +158,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->type)) {
         $node->setAttribute('type', $this->type);
       } elseif (!is('org.dia.DiaRole', $this)) {
Index: ports/classes/org/dia/DiaAttribute.class.php
===================================================================
--- ports/classes/org/dia/DiaAttribute.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaAttribute.class.php	(working copy)
@@ -112,8 +112,8 @@
      * @access  public
      * @return  &xml.Node
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (isset($this->name))
         $node->setAttribute('name', $this->name);
       return $node;
Index: ports/classes/org/dia/DiaRectangle.class.php
===================================================================
--- ports/classes/org/dia/DiaRectangle.class.php	(revision 8952)
+++ ports/classes/org/dia/DiaRectangle.class.php	(working copy)
@@ -43,8 +43,8 @@
      * @access  public 
      * @return  &xml.Node 
      */
-    public function &getNode() {
-      $node= &parent::getNode();
+    public function getNode() {
+      $node= parent::getNode();
       if (
         is_array($this->value) and 
         sizeof($this->value) === 2 and
Index: ports/classes/org/htdig/HtdigSearch.class.php
===================================================================
--- ports/classes/org/htdig/HtdigSearch.class.php	(revision 8952)
+++ ports/classes/org/htdig/HtdigSearch.class.php	(working copy)
@@ -354,9 +354,9 @@
      * @throws  io.IOException in case the invocation of htdig failed
      * @throws  lang.IllegalArgumentException in case search entry was invalid
      */
-    public function &invoke() {
-      $log= &Logger::getInstance();
-      $cat= &$log->getCategory();
+    public function invoke() {
+      $log= Logger::getInstance();
+      $cat= $log->getCategory();
 
       try {
         $cmdline= sprintf('%s -v %s %s',
Index: ports/classes/org/htdig/HtdigResultset.class.php
===================================================================
--- ports/classes/org/htdig/HtdigResultset.class.php	(revision 8952)
+++ ports/classes/org/htdig/HtdigResultset.class.php	(working copy)
@@ -35,7 +35,7 @@
      * @access  public
      * @param   &mixed metaresult
      */
-    public function setMetaresult(&$metaresult) {
+    public function setMetaresult($metaresult) {
       static $mapping= array(
         'boolean'       => 'boolean',
         'logicalwords'  => 'logicalWords',
@@ -80,7 +80,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getMetaresult() {
+    public function getMetaresult() {
       return $this->metaresult;
     }
 
@@ -113,11 +113,11 @@
     public function addResult($result) {
       $res= array();
       foreach (array_keys($result) as $idx) {
-        $res[$this->_csvdef[$idx]]= &$result[$idx];
+        $res[$this->_csvdef[$idx]]= $result[$idx];
       }
       
-      if ($entry= &HtdigEntry::fromArray($res))
-        $this->results[]= &$entry;
+      if ($entry= HtdigEntry::fromArray($res))
+        $this->results[]= $entry;
     }
     
     /**
@@ -136,8 +136,8 @@
      * @access  public
      * @return  &mixed
      */
-    public function &getNextResult() {
-      $result= &current($this->results);
+    public function getNextResult() {
+      $result= current($this->results);
       next($this->results);
       return $result;
     }
Index: ports/classes/org/htdig/HtdigEntry.class.php
===================================================================
--- ports/classes/org/htdig/HtdigEntry.class.php	(revision 8952)
+++ ports/classes/org/htdig/HtdigEntry.class.php	(working copy)
@@ -204,21 +204,21 @@
      * @access  public
      * @param   &lang.Object modified
      */
-    public function setModified(&$modified) {
+    public function setModified($modified) {
       if (is('util.Date', $modified)) {
-        $this->modified= &$modified;
+        $this->modified= $modified;
         return;
       }
       
       try {
-        $d= &DateParser::parse(urldecode($modified));
+        $d= DateParser::parse(urldecode($modified));
       } catch (FormatException $e) {
       
         // Date could not be parsed, so default to now.
-        $this->modified= &Date::now();
+        $this->modified= Date::now();
       }
       
-      $this->modified= &$d;
+      $this->modified= $d;
     }
 
     /**
@@ -227,7 +227,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getModified() {
+    public function getModified() {
       return $this->modified;
     }
 
@@ -300,14 +300,14 @@
      * @return  &org.htdig.HtdigResult
      * @throws  lang.IllegalArgumentException when array is malformed
      */
-    public static function &fromArray(&$arr) {
+    public static function fromArray($arr) {
       $entry= new HtdigEntry();
       
       foreach (array_keys($arr) as $key) {
         if (!method_exists($entry, 'set'.$key))
           throw (new IllegalArgumentException('The given array is malformed. Its key '.$key.' is not associated with a function.'));
           
-        call_user_func(array(&$entry, 'set'.$key), $arr[$key]);
+        call_user_func(array($entry, 'set'.$key), $arr[$key]);
       }
       
       return $entry;
Index: ports/classes/org/tigris/subversion/SVNFile.class.php
===================================================================
--- ports/classes/org/tigris/subversion/SVNFile.class.php	(revision 8952)
+++ ports/classes/org/tigris/subversion/SVNFile.class.php	(working copy)
@@ -78,7 +78,7 @@
         throw($e);
       }
 
-      $return= &$this->_execute(sprintf('commit -F %s %s', $f->getURI(), $this->filename));
+      $return= $this->_execute(sprintf('commit -F %s %s', $f->getURI(), $this->filename));
       
       $f->unlink();
       return $return;
Index: ports/classes/org/tigris/subversion/SVNInterface.class.php
===================================================================
--- ports/classes/org/tigris/subversion/SVNInterface.class.php	(revision 8952)
+++ ports/classes/org/tigris/subversion/SVNInterface.class.php	(working copy)
@@ -44,8 +44,8 @@
       $cmdLine= $this->_SVN.' '.$svnCmd;
       foreach ($params as $param) $cmdLine.='  '.$param;
       try {
-        $l= &Logger::getInstance();
-        $c= &$l->getCategory();
+        $l= Logger::getInstance();
+        $c= $l->getCategory();
         $c->debug('SVN execute:', $cmdLine);
         $output= System::exec($cmdLine, '2>&1', FALSE);
       } catch (SystemException $e) {
Index: ports/classes/org/tigris/subversion/SVNDirectory.class.php
===================================================================
--- ports/classes/org/tigris/subversion/SVNDirectory.class.php	(revision 8952)
+++ ports/classes/org/tigris/subversion/SVNDirectory.class.php	(working copy)
@@ -81,7 +81,7 @@
         throw($e);
       }
 
-      $return= &$this->_execute(sprintf('commit -F %s %s', $f->getURI(), $this->path));
+      $return= $this->_execute(sprintf('commit -F %s %s', $f->getURI(), $this->path));
       
       $f->unlink();
       return $return;
Index: ports/classes/org/tigris/subversion/SVNConfigurationReader.class.php
===================================================================
--- ports/classes/org/tigris/subversion/SVNConfigurationReader.class.php	(revision 8952)
+++ ports/classes/org/tigris/subversion/SVNConfigurationReader.class.php	(working copy)
@@ -20,8 +20,8 @@
      * @access  public
      * @param   &io.Steram stream
      */
-    public function __construct(&$stream) {
-      $this->stream= &$stream;
+    public function __construct($stream) {
+      $this->stream= $stream;
     }
     
     /**
Index: ports/classes/org/cvshome/PServerClient.class.php
===================================================================
--- ports/classes/org/cvshome/PServerClient.class.php	(revision 8952)
+++ ports/classes/org/cvshome/PServerClient.class.php	(working copy)
@@ -277,8 +277,8 @@
      * @access  public
      * @param   &util.log.LogCategory cat
      */
-    public function setTrace(&$cat) { 
-      $this->cat= &$cat;
+    public function setTrace($cat) { 
+      $this->cat= $cat;
     }
 
   } 
Index: ports/classes/org/cvshome/CVSFile.class.php
===================================================================
--- ports/classes/org/cvshome/CVSFile.class.php	(revision 8952)
+++ ports/classes/org/cvshome/CVSFile.class.php	(working copy)
@@ -96,7 +96,7 @@
      * @access  public
      * @return  &stdclass status
      */
-    public function &getStatus() {
+    public function getStatus() {
       try {
         $output= $this->_execute ('status -v');
       } catch (CVSInterfaceException $e) {
@@ -167,7 +167,7 @@
         throw($e);
       }
 
-      $return= &$this->_execute(sprintf ('commit -F %s', $f->getURI()));
+      $return= $this->_execute(sprintf ('commit -F %s', $f->getURI()));
       
       // It seems CVS automatically removes the tmp-file after
       // reading it, so we don't need to do so (gives error).
@@ -252,7 +252,7 @@
      * @return  &array logs
      * @see     http://www.cvshome.org/docs/manual/cvs_16.html#SEC142
      */
-    public function &getLog() {
+    public function getLog() {
       $output= $this->_execute ('log');
       $divider= str_repeat ('-', 28);
       $log= array();
Index: ports/classes/org/gnome/GtkGladeApplication.class.php
===================================================================
--- ports/classes/org/gnome/GtkGladeApplication.class.php	(revision 8952)
+++ ports/classes/org/gnome/GtkGladeApplication.class.php	(working copy)
@@ -29,7 +29,7 @@
      * @param   string gladefile location of the .glade-file
      * @param   string mainwin default 'window1'
      */
-    public function __construct(&$p, $gladefile, $mainwin= 'window1') {
+    public function __construct($p, $gladefile, $mainwin= 'window1') {
       if (!$this->glade= new GladeXML($gladefile)) {
         throw(new GuiException('Cannot read glade file '.$gladefile));
       }
@@ -44,8 +44,8 @@
      * @param   string name
      * @return  &php.GtkWidget
      */
-    public function &widget($name) {
-      if (!$this->glade || !$w= &$this->glade->get_widget($name)) {
+    public function widget($name) {
+      if (!$this->glade || !$w= $this->glade->get_widget($name)) {
         throw(new WidgetNotFoundException($name));
       } 
       return $w;
@@ -57,7 +57,7 @@
      * @access  protected
      */
     public function create() {
-      $this->window= &$this->widget($this->mainwin);
+      $this->window= $this->widget($this->mainwin);
     }
   }
 ?>
Index: ports/classes/org/gnome/GtkApplication.class.php
===================================================================
--- ports/classes/org/gnome/GtkApplication.class.php	(revision 8952)
+++ ports/classes/org/gnome/GtkApplication.class.php	(working copy)
@@ -35,11 +35,11 @@
      * @access  public
      * @param   &util.ParamString p
      */
-    public function __construct(&$p) {
+    public function __construct($p) {
 
       // Set up logger
-      $l= &Logger::getInstance();
-      $this->cat= &$l->getCategory(get_class($this));
+      $l= Logger::getInstance();
+      $this->cat= $l->getCategory(get_class($this));
       $this->cat->identifier= get_class($this);
       if (empty($this->cat->_appenders)) {
         $this->cat->addAppender(new FileAppender('php://stderr'));
@@ -53,9 +53,9 @@
       $this->window->realize();
 
       // Connect destroy signal
-      $this->window->connect('destroy', array(&$this, 'destroy'));
+      $this->window->connect('destroy', array($this, 'destroy'));
 
-      $this->param= &$p;
+      $this->param= $p;
 
       
     }
@@ -68,7 +68,7 @@
      * @return  &php.GtkWidget
      * @throws  gui.WidgetNotFoundException
      */
-    public function &widget($name) {
+    public function widget($name) {
       if (isset($this->{$name})) {
         throw(new WidgetNotFoundException($name));
       } 
@@ -108,7 +108,7 @@
      * @return  &php.GtkWidget widget
      * @throws  gui.GuiException in case the signal connecting failed
      */
-    public function &connect(&$widget, $signal, $callback= NULL, $data= NULL) {
+    public function connect($widget, $signal, $callback= NULL, $data= NULL) {
       if (!$widget) return FALSE;
       if ('after:' == substr($signal, 0, 6)) {
         $signal= substr($signal, 6);
@@ -119,7 +119,7 @@
 
       if (!$widget->{$func}(
         $signal, 
-        array(&$this, $callback ? $callback : 'on'.$widget->get_name().$signal),
+        array($this, $callback ? $callback : 'on'.$widget->get_name().$signal),
         $data
       )) {
         throw(new GuiException('Connecting "'.$widget->get_name().'.'.$signal.'" failed'));
Index: ports/classes/org/gnome/GtkGladeDialogWindow.class.php
===================================================================
--- ports/classes/org/gnome/GtkGladeDialogWindow.class.php	(revision 8952)
+++ ports/classes/org/gnome/GtkGladeDialogWindow.class.php	(working copy)
@@ -33,7 +33,7 @@
      */
     public function create() {
       parent::create();
-      $this->window->connect('delete-event', array(&$this, 'destroy'));
+      $this->window->connect('delete-event', array($this, 'destroy'));
     }
     
     /**
Index: ports/classes/org/gnome/widgets/MessageBox.class.php
===================================================================
--- ports/classes/org/gnome/widgets/MessageBox.class.php	(revision 8952)
+++ ports/classes/org/gnome/widgets/MessageBox.class.php	(working copy)
@@ -113,10 +113,10 @@
       $this->window->set_default_size(320, 140);
       
       // Message
-      $this->label= &$this->widget('label');
+      $this->label= $this->widget('label');
       
       // Icon
-      $this->icon= &$this->widget('icon');
+      $this->icon= $this->widget('icon');
       $loader= new GTKPixmapLoader($this->window->window, dirname(__FILE__));
       try {
         $this->pixmaps= $loader->load(array(
@@ -181,7 +181,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onButtonClicked(&$widget) {
+    public function onButtonClicked($widget) {
       $this->pressed= constant('MB_'.$widget->get_name());
       $this->close();
     }
Index: ports/classes/org/gnome/widgets/FileDialog.class.php
===================================================================
--- ports/classes/org/gnome/widgets/FileDialog.class.php	(revision 8952)
+++ ports/classes/org/gnome/widgets/FileDialog.class.php	(working copy)
@@ -50,7 +50,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onClose(&$widget) {
+    public function onClose($widget) {
       $this->success= ('button_ok' == $widget->get_name());
       $this->close();
     }
@@ -61,7 +61,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onUpDirClicked(&$widget) {
+    public function onUpDirClicked($widget) {
       $this->setDirectory(substr($this->dir, 0, strrpos(
         substr($this->dir, 0, -1), 
         DIRECTORY_SEPARATOR
@@ -75,7 +75,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onHomeClicked(&$widget) {
+    public function onHomeClicked($widget) {
       $this->setDirectory(System::getProperty('user.home'));
     }
 
@@ -85,7 +85,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onFavoriteClicked(&$widget) {
+    public function onFavoriteClicked($widget) {
       $d= strtr(substr($widget->get_name(), 11), array(
         'HOME'  => System::getProperty('user.home'),
         'TMP'   => System::getProperty('os.tempdir'),
@@ -101,7 +101,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onRefreshClicked(&$widget) {
+    public function onRefreshClicked($widget) {
       $this->setDirectory($this->dir);
     }
     
@@ -111,7 +111,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onPNClicked(&$widget) {
+    public function onPNClicked($widget) {
       $this->cat->debug($widget->get_name(), $this->history, $this->history_offset);
       $this->history_offset+= ('button_prev' == $widget->get_name()) ? -1 : 1;
       $this->cat->debug($widget->get_name(), $this->history_offset, $this->history[$this->history_offset]);
@@ -127,7 +127,7 @@
      * @param   mixed data
      * @param   php.GtkEvent event
      */
-    public function onEntrySelected(&$widget, $row, $data, $event) {
+    public function onEntrySelected($widget, $row, $data, $event) {
       $filetype= $widget->get_text($row, 1);
       $entry= $widget->get_pixtext($row, 0);
       
@@ -160,16 +160,16 @@
       $this->window->set_default_size(400, 420);
       
       // File list
-      $this->files= &$this->widget('clist_files');
+      $this->files= $this->widget('clist_files');
       $this->files->set_row_height(26);
       $this->files->set_sort_column(1); // Sort by type
       $this->connect($this->files, 'select_row', 'onEntrySelected');
       
       // Location
-      $this->location= &$this->widget('entry_location');
+      $this->location= $this->widget('entry_location');
       
       // Combo
-      $this->combo= &$this->widget('combo_dir');
+      $this->combo= $this->widget('combo_dir');
       
       // Buttons
       foreach (array(
@@ -189,15 +189,15 @@
       }
       
       // Favorites
-      $this->favorites= &$this->widget('bar_favorites');
+      $this->favorites= $this->widget('bar_favorites');
       $this->favorites->set_button_relief(GTK_RELIEF_NONE);
-      $view= &$this->widget('view_favorites');
+      $view= $this->widget('view_favorites');
       $style= Gtk::widget_get_default_style();
       $style->base[GTK_STATE_NORMAL]= $style->mid[GTK_STATE_NORMAL];
       $view->set_style($style);
       
       GTKWidgetUtil::connectChildren($this->widget('bar_favorites'), array(
-        ':clicked' => array(&$this, 'onFavoriteClicked')
+        ':clicked' => array($this, 'onFavoriteClicked')
       ));
       
       // History
Index: ports/classes/org/gnome/widgets/GtkMenuWidget.class.php
===================================================================
--- ports/classes/org/gnome/widgets/GtkMenuWidget.class.php	(revision 8952)
+++ ports/classes/org/gnome/widgets/GtkMenuWidget.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @param   string callback
      * @return  &GtkMenuItem
      */    
-    public function &addMenuItem($string, $callback) {
+    public function addMenuItem($string, $callback) {
       $item= new GtkMenuItem ($string);
       $this->menu->append ($item);
       $item->connect ('button_press_event', $callback);
@@ -47,8 +47,8 @@
      * @access  public
      * @return  &GtkMenuItem
      */
-    public function &addSeparator() {
-      $s= &$this->addMenuItem ('', NULL);
+    public function addSeparator() {
+      $s= $this->addMenuItem ('', NULL);
       $s->set_sensitive (FALSE);
       return $s;
     }    
Index: ports/classes/org/gnome/util/GTKWidgetUtil.class.php
===================================================================
--- ports/classes/org/gnome/util/GTKWidgetUtil.class.php	(revision 8952)
+++ ports/classes/org/gnome/util/GTKWidgetUtil.class.php	(working copy)
@@ -28,20 +28,20 @@
      * @see     php-gtk://GtkObject%3A%3Aconnect
      * @see     php-gtk://GtkObject%3A%3Aconnect_after
      */
-    public function connect(&$widget, $signals) {
+    public function connect($widget, $signals) {
       foreach (array_keys($signals) as $key) {
         list($mode, $signal)= explode(':', $key);
         
         switch (sizeof($signals[$key])) {
           case 1:                           // 'function'
           case 2:                           // array(&$this, 'function')
-            $handler= &$signals[$key]; 
+            $handler= $signals[$key]; 
             $val= NULL; 
             break;
             
           case 3:                           // array(&$this, 'function', &$custom)
-            $handler= array(&$signals[$key][0], &$signals[$key][1]);
-            $val= &$signals[$key][2];  
+            $handler= array($signals[$key][0], $signals[$key][1]);
+            $val= $signals[$key][2];  
             break;
         }
         
@@ -63,13 +63,13 @@
      * @param   &GtkWidget widget
      * @see     #connect
      */
-    public function connectChildren(&$widget, $signals) {
+    public function connectChildren($widget, $signals) {
       foreach ($widget->children() as $child) {
         GTKWidgetUtil::connect($child, $signals);
       }
     }
     
-    public function setChildrenSensitive(&$widget, $sensitivity) {
+    public function setChildrenSensitive($widget, $sensitivity) {
       foreach ($widget->children() as $child) {
         if (!isset($sensitivity[$name= $child->get_name()])) continue;
         $child->set_sensitive($sensitivity[$name]);
Index: ports/classes/org/gnome/util/GTKPixmapLoader.class.php
===================================================================
--- ports/classes/org/gnome/util/GTKPixmapLoader.class.php	(revision 8952)
+++ ports/classes/org/gnome/util/GTKPixmapLoader.class.php	(working copy)
@@ -33,7 +33,7 @@
      * @param   GtkWindow window a valid window object
      * @param   string baseDir default '.' base directory for pixmaps
      */      
-    public function __construct(&$window, $baseDir= '.') {
+    public function __construct($window, $baseDir= '.') {
       $this->setWindowRef($window);
       $this->setBase($baseDir);
       $this->setTransparentColor(new GdkColor(0, 0, 0));
@@ -46,8 +46,8 @@
      * @access  public
      * @param   GtkWindow window a valid window object
      */
-    public function setWindowRef(&$window) {
-      $this->windowRef= &$window;
+    public function setWindowRef($window) {
+      $this->windowRef= $window;
     }
     
     /**
@@ -66,8 +66,8 @@
      * @access  public
      * @param   GdkColor color the color to be transparent
      */
-    public function setTransparentColor(&$color) {
-      $this->transparentColor= &$color;
+    public function setTransparentColor($color) {
+      $this->transparentColor= $color;
     }
     
     /**
@@ -77,7 +77,7 @@
      * @param   &array container
      * @param   string name
      */
-    public function _load(&$container, $name) {
+    public function _load($container, $name) {
       list(
         $container['p:'.$name],
         $container['m:'.$name]
@@ -96,7 +96,7 @@
      *          names of the pixmaps to be loaded (w/o trailing .xpm!)
      * @return  &array pixmaps
      */
-    public function &load($names) {
+    public function load($names) {
       $container= array();
       if (is_string($names)) $names= array($names);
       foreach ($names as $name) {
Index: ports/classes/org/imc/VEvent.class.php
===================================================================
--- ports/classes/org/imc/VEvent.class.php	(revision 8952)
+++ ports/classes/org/imc/VEvent.class.php	(working copy)
@@ -29,8 +29,8 @@
      * @access  public
      * @param   &util.Date date
      */
-    public function setDate(&$date) {
-      $this->date= &$date;
+    public function setDate($date) {
+      $this->date= $date;
     }
 
     /**
@@ -39,7 +39,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDate() {
+    public function getDate() {
       return $this->date;
     }
 
@@ -49,8 +49,8 @@
      * @access  public
      * @param   &util.Date starts
      */
-    public function setStarts(&$starts) {
-      $this->starts= &$starts;
+    public function setStarts($starts) {
+      $this->starts= $starts;
     }
 
     /**
@@ -59,7 +59,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getStarts() {
+    public function getStarts() {
       return $this->starts;
     }
 
@@ -69,8 +69,8 @@
      * @access  public
      * @param   &util.Date ends
      */
-    public function setEnds(&$ends) {
-      $this->ends= &$ends;
+    public function setEnds($ends) {
+      $this->ends= $ends;
     }
 
     /**
@@ -79,7 +79,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getEnds() {
+    public function getEnds() {
       return $this->ends;
     }
 
Index: ports/classes/org/imc/VCalendar.class.php
===================================================================
--- ports/classes/org/imc/VCalendar.class.php	(revision 8952)
+++ ports/classes/org/imc/VCalendar.class.php	(working copy)
@@ -152,8 +152,8 @@
      * @access  public
      * @param   org.imc.VEvent event
      */
-    public function addEvent(&$event) {
-      $this->events[]= &$event;
+    public function addEvent($event) {
+      $this->events[]= $event;
     }
 
     /**
@@ -162,7 +162,7 @@
      * @access  public
      * @return  &org.imc.VEvent[]
      */
-    public function &getEvents() {
+    public function getEvents() {
       return $this->events;
     }
       
@@ -201,7 +201,7 @@
               break;
               
             case 'END':
-              $this->events[]= &$event;
+              $this->events[]= $event;
               break;
             
             case 'DTSTAMP':     // DTSTAMP:20030220T101358Z
@@ -262,7 +262,7 @@
               break;
             
             case 'END':
-              $this->timezone= &$timezone;
+              $this->timezone= $timezone;
               break;
               
             case 'TZID':
@@ -328,11 +328,11 @@
      * @param   &io.Stream stream
      * @return  &org.imc.VCard
      */
-    public static function &fromStream(&$stream) {
+    public static function fromStream($stream) {
       $cal= new VCalendar();
       
       $p= new VFormatParser(VCAL_ID);
-      $p->setDefaultHandler(array(&$cal, 'addProperty'));
+      $p->setDefaultHandler(array($cal, 'addProperty'));
       
       try {
         $p->parse($stream);
Index: ports/classes/org/imc/VCard.class.php
===================================================================
--- ports/classes/org/imc/VCard.class.php	(revision 8952)
+++ ports/classes/org/imc/VCard.class.php	(working copy)
@@ -265,8 +265,8 @@
      * @access  public
      * @param   &util.Date birthday
      */
-    public function setBirthday(&$birthday) {
-      $this->birthday= &$birthday;
+    public function setBirthday($birthday) {
+      $this->birthday= $birthday;
     }
 
     /**
@@ -275,7 +275,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getBirthday() {
+    public function getBirthday() {
       return $this->birthday;
     }
 
@@ -474,11 +474,11 @@
      * @param   &io.Stream stream
      * @return  &org.imc.VCard
      */
-    public static function &fromStream(&$stream) {
+    public static function fromStream($stream) {
       $card= new VCard();
       
       $p= new VFormatParser(VCARD_ID);
-      $p->setDefaultHandler(array(&$card, 'addProperty'));
+      $p->setDefaultHandler(array($card, 'addProperty'));
       
       try {
         $p->parse($stream);
Index: ports/classes/org/imc/VTimezone.class.php
===================================================================
--- ports/classes/org/imc/VTimezone.class.php	(revision 8952)
+++ ports/classes/org/imc/VTimezone.class.php	(working copy)
@@ -69,8 +69,8 @@
      * @access  public
      * @param   &peer.URL url
      */    
-    public function setTZUrl(&$url) {
-      $this->tzurl= &$url;
+    public function setTZUrl($url) {
+      $this->tzurl= $url;
     }
 
     /**
@@ -79,7 +79,7 @@
      * @access  public
      * @return  &peer.URL url
      */    
-    public function &getTZUrl() {
+    public function getTZUrl() {
       return $this->tzurl;
     }
 
@@ -89,8 +89,8 @@
      * @access  public
      * @param   &util.Date date
      */    
-    public function setLastMod(&$date) {
-      $this->lastmod= &$date;
+    public function setLastMod($date) {
+      $this->lastmod= $date;
     }
 
     /**
@@ -99,7 +99,7 @@
      * @access  public
      * @return  &util.Date date
      */    
-    public function &getLastMod() {
+    public function getLastMod() {
       return $this->lastmod;
     }
 
Index: ports/classes/org/imc/VDate.class.php
===================================================================
--- ports/classes/org/imc/VDate.class.php	(revision 8952)
+++ ports/classes/org/imc/VDate.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @access  public
      * @param   &mixed arg
      */    
-    public function __construct(&$arg) {
+    public function __construct($arg) {
       if (is_object($arg)) {
         $this->date= new Date (VFormatParser::decodeDate($arg->_value));
         $this->timezone= $arg->tzid;
Index: ports/classes/org/webdav/xml/WebdavMultistatusResponse.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavMultistatusResponse.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavMultistatusResponse.class.php	(working copy)
@@ -59,21 +59,21 @@
      * @param   &org.webdav.WebdavObject object The webdav object
      * @param   &org.webdav.WebdavProperty[] reqprops The requested properties
      */
-    public function addWebdavObject(&$object, &$reqprops) {
+    public function addWebdavObject($object, $reqprops) {
 
       // Get the property lists
-      $propsList= &$object->getProperties();         // properties available
+      $propsList= $object->getProperties();         // properties available
       
       // Create the result nodes (for found and not found properties)
       $found_stat= new Node('D:propstat');
-      $found_props= &$found_stat->addChild(new Node('D:prop'));
+      $found_props= $found_stat->addChild(new Node('D:prop'));
       $notfound_stat= new Node('D:propstat');
-      $notfound_props= &$notfound_stat->addChild(new Node('D:prop'));
+      $notfound_props= $notfound_stat->addChild(new Node('D:prop'));
       
       $stdprops= array();
       
       // Always add the Resource type
-      $rt= &$found_props->addChild(new Node('D:resourcetype'));
+      $rt= $found_props->addChild(new Node('D:resourcetype'));
 
       // Content type/length via resourceType
       if (NULL !== $object->resourceType) {
@@ -86,24 +86,24 @@
         WEBDAV_COLLECTION != $object->resourceType and  
         (empty($reqprops) or !empty($reqprops['supportedlock']))
       ){
-        $lock= &$found_props->addChild(new Node('D:supportedlock'));
-        $l1= &$lock->addChild(new Node('D:lockentry'));
-        $l2= &$l1->addChild(new Node('D:lockscope'));
+        $lock= $found_props->addChild(new Node('D:supportedlock'));
+        $l1= $lock->addChild(new Node('D:lockentry'));
+        $l2= $l1->addChild(new Node('D:lockscope'));
         $l2->addChild(new Node('D:exclusive'));
-        $l2= &$l1->addChild(new Node('D:locktype'));
+        $l2= $l1->addChild(new Node('D:locktype'));
         $l2->addChild(new Node('D:write'));
-        $l1= &$lock->addChild(new Node('D:lockentry'));
-        $l2= &$l1->addChild(new Node('D:lockscope'));
+        $l1= $lock->addChild(new Node('D:lockentry'));
+        $l2= $l1->addChild(new Node('D:lockscope'));
         $l2->addChild(new Node('D:shared'));
-        $l2= &$l1->addChild(new Node('D:locktype'));
+        $l2= $l1->addChild(new Node('D:locktype'));
         $l2->addChild(new Node('D:write'));
         $stdprops[]= 'supportedlock';
       }
 
       // lock discovery
       if ((empty($reqprops) or !empty($reqprops['lockdiscovery']))) {
-        $lkif= &$found_props->addChild(new Node('D:lockdiscovery'));
-        $lockinfos= &$object->getLockInfo();
+        $lkif= $found_props->addChild(new Node('D:lockdiscovery'));
+        $lockinfos= $object->getLockInfo();
 
         if ($lockinfos) {
           for ($t= 0; $t<sizeof($lockinfos); $t++) {
@@ -111,16 +111,16 @@
 
             if (empty($lockinfo['type']) or empty($lockinfo['scope'])) continue;
 
-            $ak= &$lkif->addChild(new Node('D:activelock'));
-            $l= &$ak->addChild(new Node('D:locktype'));
+            $ak= $lkif->addChild(new Node('D:activelock'));
+            $l= $ak->addChild(new Node('D:locktype'));
             $l->addChild(new Node('D:'.$lockinfo['type']));
-            $l= &$ak->addChild(new Node('D:lockscope'));
+            $l= $ak->addChild(new Node('D:lockscope'));
             $l->addChild(new Node('D:'.$lockinfo['scope']));
-            $l= &$ak->addChild(new Node('D:owner', $lockinfo['owner']));
-            $l= &$ak->addChild(new Node('D:timeout', $lockinfo['timeout']));
-            $l= &$ak->addChild(new Node('D:locktoken'));
+            $l= $ak->addChild(new Node('D:owner', $lockinfo['owner']));
+            $l= $ak->addChild(new Node('D:timeout', $lockinfo['timeout']));
+            $l= $ak->addChild(new Node('D:locktoken'));
             $l->addChild(new Node('D:href', $lockinfo['token']));
-            $l= &$ak->addChild(new Node('D:depth', $lockinfo['depth']));
+            $l= $ak->addChild(new Node('D:depth', $lockinfo['depth']));
             $stdprops[]= 'lockdiscovery';
           }
         }
@@ -146,9 +146,9 @@
         }
 
         if ($found) {
-          $n= &$found_props->addChild(new Node($name, utf8_encode($property->toString()), $attr));
+          $n= $found_props->addChild(new Node($name, utf8_encode($property->toString()), $attr));
         } else {
-          $n= &$notfound_props->addChild(new Node($name, utf8_encode($property->toString()), $attr));
+          $n= $notfound_props->addChild(new Node($name, utf8_encode($property->toString()), $attr));
         }
       }
 
Index: ports/classes/org/webdav/xml/WebdavPropPatchResponse.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavPropPatchResponse.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavPropPatchResponse.class.php	(working copy)
@@ -52,7 +52,7 @@
         NULL,
         array('xmlns:D' => 'DAV:')
       ));
-      $this->hrefNode= &$this->addChild(new Node('D:href'));
+      $this->hrefNode= $this->addChild(new Node('D:href'));
     }
     
     /**
@@ -76,8 +76,8 @@
      */
     public function addProperty($property, $status= HTTP_OK) {
       if (!isset($this->statusNode[$status])) {
-        $this->propstatNode[$status]= &$this->addChild(new Node('D:propstat'));
-        $this->propNode[$status]= &$this->propstatNode[$status]->addChild(new Node('D:prop'));
+        $this->propstatNode[$status]= $this->addChild(new Node('D:propstat'));
+        $this->propNode[$status]= $this->propstatNode[$status]->addChild(new Node('D:prop'));
       }
 
       $name= $property->getName();
Index: ports/classes/org/webdav/xml/WebdavPropResponse.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavPropResponse.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavPropResponse.class.php	(working copy)
@@ -53,7 +53,7 @@
      * @param   &org.webdav.xml.WebdavMultistatus response
      * @param   &org.webdav.WebdavObject o
      */
-    public function __construct(&$request, &$response, &$o) {
+    public function __construct($request, $response, $o) {
       $this->setStatus(WEBDAV_MULTISTATUS);
       $this->setRootNode(new Node('D:multistatus'));
     }
@@ -65,22 +65,22 @@
      * @param   &org.webdav.WebdavObject o
      * @param   &org.webdav.xml.WebdavPropFindRequest request     
      */
-    public function addWebdavObject(&$o) {
+    public function addWebdavObject($o) {
 
       // Get the property lists
-      $reqprops= &$request->getProperties();    // properties requested
-      $propsList= &$o->getProperties();         // properties available
+      $reqprops= $request->getProperties();    // properties requested
+      $propsList= $o->getProperties();         // properties available
       
       // Create the result nodes (for found and not found properties)
       $found_stat= new Node('D:propstat');
-      $found_props= &$found_stat->addChild(new Node('D:prop'));
+      $found_props= $found_stat->addChild(new Node('D:prop'));
       $notfound_stat= new Node('D:propstat');
-      $notfound_props= &$notfound_stat->addChild(new Node('D:prop'));
+      $notfound_props= $notfound_stat->addChild(new Node('D:prop'));
       
       $stdprops= array();
       
       // Always add the Resource type
-      $rt= &$found_props->addChild(new Node('D:resourcetype'));
+      $rt= $found_props->addChild(new Node('D:resourcetype'));
 
       // Content type/length via resourceType
       if (NULL !== $o->resourceType) {
@@ -93,24 +93,24 @@
         WEBDAV_COLLECTION != $o->resourceType and  
         (empty($reqprops) or !empty($reqprops['supportedlock']))
       ){
-        $lock= &$found_props->addChild(new Node('D:supportedlock'));
-        $l1= &$lock->addChild(new Node('D:lockentry'));
-        $l2= &$l1->addChild(new Node('D:lockscope'));
+        $lock= $found_props->addChild(new Node('D:supportedlock'));
+        $l1= $lock->addChild(new Node('D:lockentry'));
+        $l2= $l1->addChild(new Node('D:lockscope'));
         $l2->addChild(new Node('D:exclusive'));
-        $l2= &$l1->addChild(new Node('D:locktype'));
+        $l2= $l1->addChild(new Node('D:locktype'));
         $l2->addChild(new Node('D:write'));
-        $l1= &$lock->addChild(new Node('D:lockentry'));
-        $l2= &$l1->addChild(new Node('D:lockscope'));
+        $l1= $lock->addChild(new Node('D:lockentry'));
+        $l2= $l1->addChild(new Node('D:lockscope'));
         $l2->addChild(new Node('D:shared'));
-        $l2= &$l1->addChild(new Node('D:locktype'));
+        $l2= $l1->addChild(new Node('D:locktype'));
         $l2->addChild(new Node('D:write'));
         $stdprops[]= 'supportedlock';
       }
 
       // lock discovery
       if ((empty($reqprops) or !empty($reqprops['lockdiscovery']))) {
-        $lkif= &$found_props->addChild(new Node('D:lockdiscovery'));
-        $lockinfos= &$o->getLockInfo();
+        $lkif= $found_props->addChild(new Node('D:lockdiscovery'));
+        $lockinfos= $o->getLockInfo();
 
         if ($lockinfos) {
           for ($t= 0; $t<sizeof($lockinfos); $t++) {
@@ -118,16 +118,16 @@
 
             if (empty($lockinfo['type']) or empty($lockinfo['scope'])) continue;
 
-            $ak= &$lkif->addChild(new Node('D:activelock'));
-            $l= &$ak->addChild(new Node('D:locktype'));
+            $ak= $lkif->addChild(new Node('D:activelock'));
+            $l= $ak->addChild(new Node('D:locktype'));
             $l->addChild(new Node('D:'.$lockinfo['type']));
-            $l= &$ak->addChild(new Node('D:lockscope'));
+            $l= $ak->addChild(new Node('D:lockscope'));
             $l->addChild(new Node('D:'.$lockinfo['scope']));
-            $l= &$ak->addChild(new Node('D:owner', $lockinfo['owner']));
-            $l= &$ak->addChild(new Node('D:timeout', $lockinfo['timeout']));
-            $l= &$ak->addChild(new Node('D:locktoken'));
+            $l= $ak->addChild(new Node('D:owner', $lockinfo['owner']));
+            $l= $ak->addChild(new Node('D:timeout', $lockinfo['timeout']));
+            $l= $ak->addChild(new Node('D:locktoken'));
             $l->addChild(new Node('D:href', $lockinfo['token']));
-            $l= &$ak->addChild(new Node('D:depth', $lockinfo['depth']));
+            $l= $ak->addChild(new Node('D:depth', $lockinfo['depth']));
             $stdprops[]= 'lockdiscovery';
           }
         }
@@ -152,9 +152,9 @@
           if (!empty($nsprefix)) $name= $nsprefix.':'.$name;
         }
         if ($found) {
-          $n= &$found_props->addChild(new Node($name, $this->encode($property->toString()), $attr));
+          $n= $found_props->addChild(new Node($name, $this->encode($property->toString()), $attr));
         } else {
-          $n= &$notfound_props->addChild(new Node($name, $this->encode($property->toString()), $attr));
+          $n= $notfound_props->addChild(new Node($name, $this->encode($property->toString()), $attr));
         }
       }
 
Index: ports/classes/org/webdav/xml/WebdavLockRequest.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavLockRequest.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavLockRequest.class.php	(working copy)
@@ -82,7 +82,7 @@
      * @access  public
      * @return  &string[] properties
      */
-    public function &getProperties() {
+    public function getProperties() {
       return $this->properties;
     }
 
@@ -92,7 +92,7 @@
      * @access public
      * @param  string data The data
      */
-    public function setData(&$data) {    
+    public function setData($data) {    
       parent::setData($data);
       
       // locktype
Index: ports/classes/org/webdav/xml/WebdavLockResponse.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavLockResponse.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavLockResponse.class.php	(working copy)
@@ -55,21 +55,21 @@
      * @param   &org.webdav.WebdavObject object   The webdav object
      * @param   &org.webdav.WebdavProperty[] reqprops The requested properties
      */
-    public function addLock(&$lock) {
-      $lockdiscovery= &$this->addChild(new Node('D:lockdiscovery'));
-      $activelock= &$lockdiscovery->addChild(new Node('D:activelock'));
+    public function addLock($lock) {
+      $lockdiscovery= $this->addChild(new Node('D:lockdiscovery'));
+      $activelock= $lockdiscovery->addChild(new Node('D:activelock'));
       
-      $locktype= &$activelock->addChild(new Node('D:locktype'));
+      $locktype= $activelock->addChild(new Node('D:locktype'));
       $locktype->addChild(new Node('D:'.$lock->getLockType()));
       
-      $lockscope= &$activelock->addChild(new Node('D:lockscope'));
+      $lockscope= $activelock->addChild(new Node('D:lockscope'));
       $lockscope->addChild(new Node('D:'.$lock->getLockScope()));
       
       $activelock->addChild(new Node('D:depth', $lock->getDepth()));
       $activelock->addChild(new Node('D:owner', $lock->getOwner()));
       $activelock->addChild(new Node('D:timeout', 'Second-'.$lock->getTimeout()));
       
-      $locktoken= &$activelock->addChild(new Node('D:locktoken'));
+      $locktoken= $activelock->addChild(new Node('D:locktoken'));
       $locktoken->addChild(new Node('D:href', $lock->getLockToken()));
 
       $this->setHeader('Lock-Token', '<'.$lock->getLockToken().'>');
Index: ports/classes/org/webdav/xml/WebdavPropPatchRequest.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavPropPatchRequest.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavPropPatchRequest.class.php	(working copy)
@@ -40,7 +40,7 @@
      * @access public
      * @param  string data The data
      */
-    public function setData(&$data) {
+    public function setData($data) {
       static $trans;
       parent::setData($data);
 
@@ -103,7 +103,7 @@
      * @access  public
      * @return  &org.webdav.WebdavProperty[]
      */
-    public function &getProperties($remove= FALSE) {
+    public function getProperties($remove= FALSE) {
       return $this->properties[$remove];
     }
   }
Index: ports/classes/org/webdav/xml/WebdavPropFindRequest.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavPropFindRequest.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavPropFindRequest.class.php	(working copy)
@@ -51,13 +51,13 @@
      * @access public
      * @param  string data The data
      */
-    public function setData(&$data) {
+    public function setData($data) {
       parent::setData($data);
       
       // Set properties
       if (
         !$this->getNode('/propfind/allprop') &&
-        ($propfind= &$this->getNode('/propfind/prop'))
+        ($propfind= $this->getNode('/propfind/prop'))
       ) {
         foreach ($propfind->children as $node) {
           $name= $node->getName();
@@ -118,7 +118,7 @@
      * @access  public
      * @return  &org.webdav.WebdavProperty[]
      */
-    public function &getProperties() {
+    public function getProperties() {
       return $this->properties;
     }
   }
Index: ports/classes/org/webdav/xml/WebdavReportResponse.class.php
===================================================================
--- ports/classes/org/webdav/xml/WebdavReportResponse.class.php	(revision 8952)
+++ ports/classes/org/webdav/xml/WebdavReportResponse.class.php	(working copy)
@@ -53,7 +53,7 @@
      * @param   &org.webdav.xml.WebdavPropFindRequest request
      * @param   &org.webdav.xml.WebdavMultistatus response
      */
-    public function __construct(&$request, &$response) {
+    public function __construct($request, $response) {
       $this->setStatus(WEBDAV_MULTISTATUS);
       $this->setRootNode(new Node(
         'D:multistatus',
@@ -68,15 +68,15 @@
      * @access  private
      * @param   &org.webdav.version.WebdavVersionContainer container
      */
-    public function addWebdavVersionContainer(&$container) {
+    public function addWebdavVersionContainer($container) {
 
       foreach ($container->getVersions() as $version) {
 
         $res= new Node('D:response');
         $res->addChild(new Node('D:href', $version->getHref()));
-        $propstat= &$res->addChild(new Node('D:propstat'));
+        $propstat= $res->addChild(new Node('D:propstat'));
 
-        with ($props= &$propstat->addChild(new Node('D:prop'))); {
+        with ($props= $propstat->addChild(new Node('D:prop'))); {
           $props->addChild(new Node('D:version-name', $version->getVersionNumber()));
           $props->addChild(new Node('D:creator-displayname', $version->getCreatorName()));
           $props->addChild(new Node('D:getcontentlength', $version->getContentLength()));
Index: ports/classes/org/webdav/auth/WebdavAuthorizationHandler.class.php
===================================================================
--- ports/classes/org/webdav/auth/WebdavAuthorizationHandler.class.php	(revision 8952)
+++ ports/classes/org/webdav/auth/WebdavAuthorizationHandler.class.php	(working copy)
@@ -20,7 +20,7 @@
      * @param   &org.webdav.xml.WebdavScriptletRequest request The Request
      * @return  bool
      */
-    public function isAuthorized($path, &$user, &$request) {
+    public function isAuthorized($path, $user, $request) {
       return TRUE;
     }
   }
Index: ports/classes/org/webdav/impl/DavFileImpl.class.php
===================================================================
--- ports/classes/org/webdav/impl/DavFileImpl.class.php	(revision 8952)
+++ ports/classes/org/webdav/impl/DavFileImpl.class.php	(working copy)
@@ -44,8 +44,8 @@
       
       $this->propStorage= new DBAFilePropertyStorage($this->base.'../Webdav.props');
       
-      $l= &Logger::getInstance();
-      $this->c= &$l->getCategory();
+      $l= Logger::getInstance();
+      $this->c= $l->getCategory();
     }
     
     /**
@@ -56,7 +56,7 @@
      * @param   int maxdepth
      * @throws  lang.ElementNotFoundException
      */
-    public function _recurse(&$request, &$response, $path, $maxdepth) {
+    public function _recurse($request, $response, $path, $maxdepth) {
       $path= rtrim($path, '/');
       $realpath= $this->base.$path;
 
@@ -179,7 +179,7 @@
       $dst= substr($destination, strlen($this->base));
       
       // Move/copy properties also
-      $properties= &$this->propStorage->getProperties($src);
+      $properties= $this->propStorage->getProperties($src);
       if (!empty($properties)) {
         if (!$docopy) $this->propStorage->setProperties($src, NULL);
         $this->propStorage->setProperties($dst, $properties);
@@ -269,7 +269,7 @@
       // Delete backup versions
       if ($this->propStorage->hasProperty($filename, 'D:version')) {
         $prop= $this->propStorage->getProperty($filename, 'D:version');
-        $container= &$prop->value;
+        $container= $prop->value;
   
         foreach ($container->getVersions() as $v) {
           $this->delete($v->getHref());
@@ -293,7 +293,7 @@
      * @throws  org.webdav.OperationNotAllowedException
      * @throws  org.webdav.OperationFailedException
      */
-    public function put($filename, &$data, $resourcetype= NULL) {
+    public function put($filename, $data, $resourcetype= NULL) {
       
       $uri= $this->base.$filename;
       if (is_dir($uri)) {
@@ -305,13 +305,13 @@
       
       // Check if VersionControl is activated
       if (($prop= $this->propStorage->getProperty($filename, 'D:version')) !== NULL) {
-        $container= &$prop->value;
+        $container= $prop->value;
         
-        $newVersion= &WebdavVersionUtil::getNextVersion($container->getLatestVersion(), $f);
+        $newVersion= WebdavVersionUtil::getNextVersion($container->getLatestVersion(), $f);
         $container->addVersion($newVersion);
         
         // Re-Add modified container to property
-        $prop->value= &$container;
+        $prop->value= $container;
 
         // Save property
         $this->propStorage->setProperty($filename, $prop);
@@ -352,7 +352,7 @@
      * @throws  lang.ElementNotFoundException
      * @throws  org.webdav.OperationNotAllowedException
      */
-    public function &get($filename, $token= NULL) {
+    public function get($filename, $token= NULL) {
     
       $this->c->debug('FILENAME', $filename);
       $this->c->debug('TOKEN', $token);
@@ -434,7 +434,7 @@
       $contentType= '';
       
       $this->c->debug(get_class($this), '::get ', $this->base.filename);
-      $eProps= &$this->propStorage->getProperties($f->uri);
+      $eProps= $this->propStorage->getProperties($f->uri);
       if (!empty($eProps['getcontenttype']))
         $contentType= $eProps['getcontenttype'][0];
       if (empty($contentType))
@@ -469,7 +469,7 @@
      * @throws  org.webdav.OperationFailedException
      * @throws  lang.ElementNotFoundException
      */
-    public function proppatch(&$request, &$response) {
+    public function proppatch($request, $response) {
       $realpath= $this->base.$request->getPath();
       if (!file_exists($realpath)) {
         throw(new ElementNotFoundException($realpath.' not found'));
@@ -516,7 +516,7 @@
      * @param   &org.webdav.xml.WebdavScripltetResponse response
      * @throws  org.webdav.OperationNotAllowedException
      */
-    public function &unlock(&$request, &$response) {
+    public function unlock($request, $response) {
       $realpath= $this->base.$request->getPath();
       
       if (!file_exists($realpath)) {
@@ -533,7 +533,7 @@
      * @param   &org.webdav.xml.WebdavScriptletResponse response
      * @throws  org.webdav.OperationNotAllowedException
      */
-    public function &lock(&$request, &$response) {
+    public function lock($request, $response) {
       $realpath= $this->base.$request->getPath();
       
       if (!file_exists($realpath)) {
@@ -549,7 +549,7 @@
      * @param   &org.webdav.xml.WebdavPropFindRequest request
      * @param   &org.webdav.xml.WebdavMultistatusResponse response
      */
-    public function &propfind(&$request, &$response, $useragent= 0) {
+    public function propfind($request, $response, $useragent= 0) {
       try {
         $this->_recurse(
           $request,
@@ -570,7 +570,7 @@
      * @param   &io.File file
      * @throws  lang.ElementNotFoundException 
      */
-    public function &VersionControl($path, &$file) {
+    public function VersionControl($path, $file) {
       $realpath= $this->base.$path;
 
       if (!file_exists($realpath)) {
@@ -600,7 +600,7 @@
      * @param   &org.webdav.xml.WebdavMultistatusResponse
      * @throws  lang.ElementNotFoundException
      */
-    public function &report(&$request, &$response) {
+    public function report($request, $response) {
       $realpath= $this->base.$request->getPath();
 
       if (!file_exists($realpath)) {
@@ -619,7 +619,7 @@
      * @throws  org.webdav.OperationNotAllowedException
      * @throws  org.webdav.OperationFailedException
      */
-    public function &backup($filename, $destination) {
+    public function backup($filename, $destination) {
 
       // Securitychecks (../etc/passwd)
       $uri= $this->_normalizePath($this->base.$filename);
Index: ports/classes/org/webdav/impl/DavImpl.class.php
===================================================================
--- ports/classes/org/webdav/impl/DavImpl.class.php	(revision 8952)
+++ ports/classes/org/webdav/impl/DavImpl.class.php	(working copy)
@@ -64,7 +64,7 @@
      * @return  bool created
      * @throws  lang.MethodNotImplementedException
      */
-    public function &move($filename, $destination, $overwrite) {
+    public function move($filename, $destination, $overwrite) {
       throw(new MethodNotImplementedException($this->getName().'::move not implemented'));
     }
 
@@ -78,7 +78,7 @@
      * @return  bool created
      * @throws  lang.MethodNotImplementedException
      */
-    public function &copy($filename, $destination, $overwrite) {
+    public function copy($filename, $destination, $overwrite) {
       throw(new MethodNotImplementedException($this->getName().'::copy not implemented'));
     }
 
@@ -90,7 +90,7 @@
      * @return  bool success
      * @throws  lang.MethodNotImplementedException
      */
-    public function &mkcol($colname) {
+    public function mkcol($colname) {
       throw(new MethodNotImplementedException($this->getName().'::mkcol not implemented'));
     }
 
@@ -102,7 +102,7 @@
      * @return  bool success
      * @throws  lang.MethodNotImplementedException
      */
-    public function &delete($filename) {
+    public function delete($filename) {
       throw(new MethodNotImplementedException($this->getName().'::delete not implemented'));
     }
 
@@ -115,7 +115,7 @@
      * @return  bool new
      * @throws  lang.MethodNotImplementedException
      */
-    public function &put($filename, &$data) {
+    public function put($filename, $data) {
       throw(new MethodNotImplementedException($this->getName().'::put not implemented'));
     }
     
@@ -127,7 +127,7 @@
      * @return  string &org.webdav.WebdavObject
      * @throws  lang.MethodNotImplementedException
      */
-    public function &get($filename) {
+    public function get($filename) {
       throw(new MethodNotImplementedException($this->getName().'::get not implemented'));
     }
 
@@ -140,7 +140,7 @@
      * @return  &org.webdav.xml.WebdavMultistatus response
      * @throws  lang.MethodNotImplementedException
      */
-    public function &propfind(&$request, &$response) {
+    public function propfind($request, $response) {
       throw(new MethodNotImplementedException($this->getName().'::propfind not implemented'));
     }
 
@@ -151,7 +151,7 @@
      * @param   &org.webdav.xml.WebdavPropPatcRequest request
      * @throws  lang.MethodNotImplementedException
      */
-    public function &proppatch(&$request) {
+    public function proppatch($request) {
       throw(new MethodNotImplementedException($this->getName().'::proppatch not implemented'));
     }
     
@@ -164,7 +164,7 @@
      * @throws  org.webdav.OperationNotAllowedException
      * @throws  org.webdav.OperationFailedException
      */
-    public function &lock(&$request, &$response) {
+    public function lock($request, $response) {
       preg_match_all('/<[^>]*> \(<([^>]*)>\)/', $request->getHeader('If'), $ifmatches);
       try {
         $lock= $this->setLockInfo($request->getProperties(), $ifmatches[1]);
@@ -182,7 +182,7 @@
      * @param   &org.webdav.xml.WebdavScriptletResponse response
      * @throws  org.webdav.OperationNotAllowedException
      */
-    public function &unlock(&$request, &$response) {
+    public function unlock($request, $response) {
       try {
         
         // Remove < and > from beginning and end of the header 
@@ -211,8 +211,8 @@
      * @param   string uri  The URI
      * @return  &org.webdav.WebdavLock
      */
-    public function &getLockInfo($uri) {
-      $lock= &$this->propStorage->getLock($uri);
+    public function getLockInfo($uri) {
+      $lock= $this->propStorage->getLock($uri);
       
       // There's not current lock
       if ($lock === NULL) return NULL;
@@ -237,7 +237,7 @@
      * @return  &org.webdav.WebdavLock
      * @throws  org.webdav.OperationNotAllowedException
      */
-    public function &setLockInfo(&$lock, $tokens= array()) { 
+    public function setLockInfo($lock, $tokens= array()) { 
       $lockinfo= $this->getLockInfo($lock->getURI());
 
       // There's already lock
@@ -277,7 +277,7 @@
      * @return  bool
      * @throws  lang.ElementNotFoundException
      */
-    public function VersionControl($path, &$version) {
+    public function VersionControl($path, $version) {
 
       try { 
         $props= array();
@@ -319,7 +319,7 @@
      * @param   &org.webdav.xml.WebdavScriptletResponse
      * @return  bool success
      */
-    public function &report(&$request, $response) {
+    public function report($request, $response) {
     
       try {
         $prop= $this->propStorage->getProperty(
Index: ports/classes/org/webdav/version/WebdavFileVersion.class.php
===================================================================
--- ports/classes/org/webdav/version/WebdavFileVersion.class.php	(revision 8952)
+++ ports/classes/org/webdav/version/WebdavFileVersion.class.php	(working copy)
@@ -155,8 +155,8 @@
      * @access  public
      * @param   &util.Date date
      */
-    public function setLastModified(&$date) {
-      $this->lastmodified= &$date;
+    public function setLastModified($date) {
+      $this->lastmodified= $date;
     }
     
     /**
@@ -165,7 +165,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getLastModified() {
+    public function getLastModified() {
       return $this->lastmodified;
     }
     
Index: ports/classes/org/webdav/version/util/WebdavVersionUtil.class.php
===================================================================
--- ports/classes/org/webdav/version/util/WebdavVersionUtil.class.php	(revision 8952)
+++ ports/classes/org/webdav/version/util/WebdavVersionUtil.class.php	(working copy)
@@ -21,9 +21,9 @@
      * @param   &io.File file
      * @return  &org.webdav.version.Webdav*Version
      */
-    public function &getNextVersion(&$actVersion, &$file) {
+    public function getNextVersion($actVersion, $file) {
       // Load same type of version as before
-      $obj= &XPClass::forName(XP::typeOf($actVersion));
+      $obj= XPClass::forName(XP::typeOf($actVersion));
       
       // Get name of file, without extension    
       $fname= basename($actVersion->getFilename(), '.'.$file->getExtension());
@@ -32,7 +32,7 @@
       $dir= substr(dirname($actVersion->getHref()), 12);
       
       // Create new version object 
-      with ($version= &$obj->newInstance($actVersion->getFilename())); {
+      with ($version= $obj->newInstance($actVersion->getFilename())); {
         $version->setVersionNumber($actVersion->getVersionNumber()+0.1);
         $version->setHref('../versions/'.$dir.'/'.$fname.'['.$version->getVersionNumber().'].'.$file->getExtension());
         $version->setVersionName($fname.'['.$version->getVersionNumber().'].'.$file->getExtension());
Index: ports/classes/org/webdav/version/WebdavVersionsContainer.class.php
===================================================================
--- ports/classes/org/webdav/version/WebdavVersionsContainer.class.php	(revision 8952)
+++ ports/classes/org/webdav/version/WebdavVersionsContainer.class.php	(working copy)
@@ -30,7 +30,7 @@
      * @access  public
      * @param   org.webdav.version.Webdav*Version
      */
-    public function addVersion(&$version) {
+    public function addVersion($version) {
       $this->versions[]= $version;
     }
     
@@ -50,7 +50,7 @@
      * @access  public
      * @return  &org.webdav.version.Webdav*Version
      */
-    public function &getLatestVersion() {
+    public function getLatestVersion() {
       return end($this->versions);
     }
   
Index: ports/classes/org/webdav/WebdavScriptletRequest.class.php
===================================================================
--- ports/classes/org/webdav/WebdavScriptletRequest.class.php	(revision 8952)
+++ ports/classes/org/webdav/WebdavScriptletRequest.class.php	(working copy)
@@ -37,8 +37,8 @@
      * @access  public
      * @param   string user
      */
-    public function setUser(&$user) {
-      $this->user= &$user;
+    public function setUser($user) {
+      $this->user= $user;
     }
 
     /**
@@ -47,7 +47,7 @@
      * @access  public
      * @return  &string
      */
-    public function &getUser() {
+    public function getUser() {
       return $this->user;
     }
 
@@ -155,7 +155,7 @@
      * @access private
      * @param  string data The request's data
      */
-    public function setData(&$data) {
+    public function setData($data) {
       parent::setData($data);
       
       try {
@@ -173,10 +173,10 @@
      * @param  string path The path string
      * @return &xml.Node
      */
-    public function &getNode($path) {
+    public function getNode($path) {
 
       if (!$this->tree || $this->tree->root === NULL) return NULL;
-      $node= &$this->tree->root;
+      $node= $this->tree->root;
       $parts= explode('/', $path);
       array_shift($parts);
       if (array_shift($parts) != $node->getName()) return NULL;
@@ -186,7 +186,7 @@
         for ($i= 0, $s= sizeof($node->children); $i<$s; $i++) {
           if ($name != $node->children[$i]->getName()) continue;
           
-          $node= &$node->children[$i];
+          $node= $node->children[$i];
           $found= TRUE;
           break;
         }
Index: ports/classes/org/webdav/propertystorage/DBAFilePropertyStorage.class.php
===================================================================
--- ports/classes/org/webdav/propertystorage/DBAFilePropertyStorage.class.php	(revision 8952)
+++ ports/classes/org/webdav/propertystorage/DBAFilePropertyStorage.class.php	(working copy)
@@ -76,7 +76,7 @@
      * @param   string uri The URI
      * @param   &org.webdav.WebdavProperty property The WebDav property (use NULL to remove property)
      */
-    public function setProperty($uri, &$property) {
+    public function setProperty($uri, $property) {
       $name= $property->getName();
       $prefix= $property->getNameSpacePrefix();
       $properties= $this->getProperties($uri);
@@ -96,7 +96,7 @@
      * @param   string name The property's name
      * @return  &org.webdav.WebdavProperty
      */
-    public function &getProperty($uri, $name) {
+    public function getProperty($uri, $name) {
       $properties= $this->getProperties($uri);
       return isset($properties[$name]) ? $properties[$name] : NULL;
     }
@@ -121,7 +121,7 @@
      * @param  string uri The URI
      * @param  org.webdav.WebdavLock The WebDav lock
      */
-    public function setLock($uri, &$lock) {
+    public function setLock($uri, $lock) {
       $uri= 'LOCK:'.$uri;
       $this->open(DBO_WRITE);
       $ret= $this->store($uri, serialize($lock));
@@ -136,7 +136,7 @@
      * @param   string uri  The URI
      * @return  &org.webdav.WebdavLock
      */
-    public function &getLock($uri) {
+    public function getLock($uri) {
       $uri= 'LOCK:'.$uri;
       $this->open(DBO_READ);
       $lock= $this->lookup($uri) ? unserialize($this->fetch($uri)) : NULL;
Index: ports/classes/org/webdav/propertystorage/PropertyStorageProvider.class.php
===================================================================
--- ports/classes/org/webdav/propertystorage/PropertyStorageProvider.class.php	(revision 8952)
+++ ports/classes/org/webdav/propertystorage/PropertyStorageProvider.class.php	(working copy)
@@ -36,7 +36,7 @@
      * @param   string uri The URI
      * @param   &org.webdav.WebdavProperty property The WebDav property (use NULL to remove property)
      */
-    public function setProperty($uri, &$property);
+    public function setProperty($uri, $property);
 
     /**
      * Retrieve property for specific URI
@@ -46,7 +46,7 @@
      * @param   string name The property's name
      * @return  &org.webdav.WebdavProperty
      */
-    public function &getProperty($uri, $name);
+    public function getProperty($uri, $name);
     
     /**
      * Check if property is available
@@ -65,7 +65,7 @@
      * @param   string uri The URI
      * @param   &org.webdav.WebdavLock The WebDav Lock (use NULL to remove property)
      */
-    public function setLock($uri, &$property);
+    public function setLock($uri, $property);
     
     /**
      * Retrieve lock for specific URI
@@ -74,7 +74,7 @@
      * @param   string uri  The URI
      * @return  &org.webdav.WebdavLock
      */
-    public function &getLock($uri);
+    public function getLock($uri);
     
     /**
      * Removes a lock for specific URI
@@ -83,7 +83,7 @@
      * @param   string uri  The URI
      * @return  &org.webdav.WebdavLock
      */
-    public function &removeLock($uri);
+    public function removeLock($uri);
     
   }
 ?>
Index: ports/classes/org/webdav/WebdavObject.class.php
===================================================================
--- ports/classes/org/webdav/WebdavObject.class.php	(revision 8952)
+++ ports/classes/org/webdav/WebdavObject.class.php	(working copy)
@@ -144,7 +144,7 @@
      * @param   &util.Date date
      */
     public function setCreationDate($date) {
-      $this->creationDate= &$data;
+      $this->creationDate= $data;
     }
     
     /**
@@ -164,7 +164,7 @@
      * @param   &util.Date date
      */
     public function setModifiedDate($date) {
-      $this->modifiedDate= &$date;
+      $this->modifiedDate= $date;
     }
     
     /**
@@ -249,8 +249,8 @@
      * @access  public 
      * @param   &string data
      */
-    public function setData(&$data) {
-      $this->_data= &$data;
+    public function setData($data) {
+      $this->_data= $data;
     }
     
     /**
@@ -269,7 +269,7 @@
      * @access  public
      * @return  &string data
      */
-    public function &getData() {
+    public function getData() {
       return $this->_data;
     }
 
@@ -279,7 +279,7 @@
      * @access  public
      * @return  array lockinfo
      */
-    public function &getLockInfo() {
+    public function getLockInfo() {
       return $this->_lockinfo;
     }
     
@@ -294,7 +294,7 @@
      * @param   string token
      * @param   string depth
      */
-    public function &addLockInfo($locktype, $lockscope, $owner, $timeout, $token, $depth) {
+    public function addLockInfo($locktype, $lockscope, $owner, $timeout, $token, $depth) {
       $this->_lockinfo[]= array(
         'owner'   => $owner,
         'type'    => $locktype,
@@ -311,7 +311,7 @@
      * @access  public
      * @param   string propname
      */      
-    public function &addProperty($property) {
+    public function addProperty($property) {
       $this->properties[$property->getName()]= $property;
     }
     
@@ -321,7 +321,7 @@
      * @access  public
      * @return  array properties
      */
-    public function &getProperties() {
+    public function getProperties() {
       $this->_calcProperties();
       return $this->properties;
     }
Index: ports/classes/org/webdav/WebdavLock.class.php
===================================================================
--- ports/classes/org/webdav/WebdavLock.class.php	(revision 8952)
+++ ports/classes/org/webdav/WebdavLock.class.php	(working copy)
@@ -181,8 +181,8 @@
      * @access  public 
      * @param   &util.Date date
      */
-    public function setCreationDate(&$date) {
-      $this->date= &$date;
+    public function setCreationDate($date) {
+      $this->date= $date;
     }
     
     /**
@@ -191,7 +191,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getCreationDate() {
+    public function getCreationDate() {
       return $this->date;
     }
   }
Index: ports/classes/org/webdav/WebdavScriptletResponse.class.php
===================================================================
--- ports/classes/org/webdav/WebdavScriptletResponse.class.php	(revision 8952)
+++ ports/classes/org/webdav/WebdavScriptletResponse.class.php	(working copy)
@@ -25,12 +25,12 @@
      * @access public
      * @param  xml.Node node The node
      */
-    public function setRootNode(&$node) {
+    public function setRootNode($node) {
       if ($this->tree === NULL) {
         $this->tree= new Tree();
         $this->tree->setEncoding('UTF-8');
       }
-      $this->tree->root= &$node;
+      $this->tree->root= $node;
     }
 
     /**
@@ -51,7 +51,7 @@
      * @param  &xml.Node node The node
      * @return &xml.Node
      */
-    public function &addChild(&$node) {
+    public function addChild($node) {
       return $this->tree->addChild($node);
     }
     
Index: ports/classes/org/webdav/WebdavScriptlet.class.php
===================================================================
--- ports/classes/org/webdav/WebdavScriptlet.class.php	(revision 8952)
+++ ports/classes/org/webdav/WebdavScriptlet.class.php	(working copy)
@@ -141,17 +141,17 @@
       foreach (array_keys($impl) as $pattern) {
         $path= rtrim($pattern, '/').'/';
         if (isset($impl[$pattern]['impl']))
-          $this->impl[$path]= &$impl[$pattern]['impl'];
+          $this->impl[$path]= $impl[$pattern]['impl'];
         else
-          $this->impl[$path]= &$impl[$pattern];
+          $this->impl[$path]= $impl[$pattern];
         if (isset($impl[$pattern]['auth'])) {
-          $this->auth[$path]= &$impl[$pattern]['auth'];
+          $this->auth[$path]= $impl[$pattern]['auth'];
         }
         if (isset($impl[$pattern]['backend'])) {
-          $this->backend[$path]= &$impl[$pattern]['backend'];
+          $this->backend[$path]= $impl[$pattern]['backend'];
         }
         if (isset($impl[$pattern]['mapping'])) {
-          $this->mapping[$path]= &$impl[$pattern]['mapping'];
+          $this->mapping[$path]= $impl[$pattern]['mapping'];
         }
         if (isset($impl[$pattern]['user'])) {
           $this->user[$path]= $impl[$pattern]['user'];
@@ -165,7 +165,7 @@
      * @access private
      * @return org.webdav.WebdavScriptletRequest
      */
-    public function &_request() {
+    public function _request() {
       switch (getenv('REQUEST_METHOD')) {
         case WEBDAV_METHOD_PROPFIND:
           return new WebdavPropFindRequest();
@@ -184,7 +184,7 @@
      * @access private
      * @return org.webdav.WebdavResponse
      */
-    public function &_response() {
+    public function _response() {
       switch (getenv('REQUEST_METHOD')) {
         case WEBDAV_METHOD_PROPFIND:
           return new WebdavMultistatusResponse($this->map);
@@ -209,7 +209,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doOptions(&$request, &$response) {
+    public function doOptions($request, $response) {
       $response->setHeader('MS-Author-Via', 'DAV');         // MS-clients want this
       $response->setHeader('Allow', implode(', ', array_keys($this->methods)));
       $response->setHeader('DAV', '1,2,<http://apache.org/dav/propset/fs/1>');
@@ -225,9 +225,9 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doDelete(&$request, &$response) {
+    public function doDelete($request, $response) {
       try {
-        $object= &$this->handlingImpl->delete($request->getPath());
+        $object= $this->handlingImpl->delete($request->getPath());
       } catch (ElementNotFoundException $e) {
       
         // Element not found
@@ -255,9 +255,9 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doGet(&$request, &$response) {
+    public function doGet($request, $response) {
       try {
-        $object= &$this->handlingImpl->get($request->getPath());
+        $object= $this->handlingImpl->get($request->getPath());
       } catch (ElementNotFoundException $e) {
 
         // Element not found
@@ -298,7 +298,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doPost(&$request, &$response) {
+    public function doPost($request, $response) {
       throw(new MethodNotImplementedException($this->getName().'::post not implemented'));
     }
 
@@ -312,9 +312,9 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doHead(&$request, &$response) {
+    public function doHead($request, $response) {
       try {
-        $object= &$this->handlingImpl->get($request->getPath());
+        $object= $this->handlingImpl->get($request->getPath());
       } catch (ElementNotFoundException $e) {
       
         // Element not found
@@ -346,7 +346,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doPut(&$request, &$response) {
+    public function doPut($request, $response) {
       try {
         $created= $this->handlingImpl->put(
           $request->getPath(),
@@ -382,7 +382,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doMkCol(&$request, &$response) {
+    public function doMkCol($request, $response) {
       try {
         $created= $this->handlingImpl->mkcol($request->getPath());
       } catch (OperationFailedException $e) {
@@ -406,7 +406,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doMove(&$request, &$response) {
+    public function doMove($request, $response) {
       try {
         $created= $this->handlingImpl->move(
           $request->getPath(),
@@ -440,7 +440,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doCopy(&$request, &$response) {
+    public function doCopy($request, $response) {
       try {
         $created= $this->handlingImpl->copy(
           $request->getPath(),
@@ -487,7 +487,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doLock(&$request, &$response) {
+    public function doLock($request, $response) {
       try {
         $this->handlingImpl->lock(
           $request,
@@ -517,7 +517,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doUnlock(&$request, &$response) {
+    public function doUnlock($request, $response) {
       try {
         $this->handlingImpl->unlock(
           $request,
@@ -560,7 +560,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doPropFind(&$request, &$response) {
+    public function doPropFind($request, $response) {
       try {
         $this->handlingImpl->propfind(
           $request,
@@ -603,7 +603,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doPropPatch(&$request, &$response) {
+    public function doPropPatch($request, $response) {
       try {
         $this->handlingImpl->proppatch(
           $request,
@@ -641,7 +641,7 @@
         throw(new HttpScriptletException($e->message));
       } 
       
-      $rootURL= &$request->getRootURL();
+      $rootURL= $request->getRootURL();
       $response->setHref($rootURL->getPath().$request->getPath());
       $response->setStatus(HTTP_CREATED);
     }
@@ -653,7 +653,7 @@
      * @param   &scriptlet.HttpScriptletRequest request
      * @param   &scriptlet.HttpScriptletResponse response  
      */
-    public function doVersionControl(&$request, &$response) {
+    public function doVersionControl($request, $response) {
       try {
         $this->handlingImpl->versionControl(
           $request->getPath(),
@@ -682,7 +682,7 @@
      * @param   &scriptlet.HttpScriptletRequest request
      * @param   &scriptlet.HttpScriptletResponse response  
      */
-    public function doReport(&$request, &$response) {
+    public function doReport($request, $response) {
       try {
         $this->handlingImpl->report($request, $response);
       } catch (ElementNotFoundException $e) {
@@ -713,7 +713,7 @@
      * @param   &scriptlet.HttpScriptletResponse response
      * @throws  lang.Exception to indicate failure
      */
-    public function doNotFound(&$request, &$response) {
+    public function doNotFound($request, $response) {
       $response->setStatus(HTTP_NOT_FOUND);
       
       return FALSE;
@@ -728,7 +728,7 @@
      * @return  bool processed
      * @throws  lang.Exception to indicate failure
      */
-    public function doAuthorizationRequest(&$request, &$response) {
+    public function doAuthorizationRequest($request, $response) {
       $response->setStatus(HTTP_AUTHORIZATION_REQUIRED);
       $response->setHeader('WWW-Authenticate',  'Basic realm="WebDAV Authorization"');
       
@@ -744,7 +744,7 @@
      * @return  bool processed
      * @throws  lang.Exception to indicate failure
      */
-    public function doAuthorizationDeny(&$request, &$response) {
+    public function doAuthorizationDeny($request, $response) {
       $response->setStatus(HTTP_FORBIDDEN);
       
       return TRUE;
@@ -759,7 +759,7 @@
      * @param   string method Request-Method
      * @see     rfc://2518#8 Description of methods
      */
-    public function handleMethod(&$request) {
+    public function handleMethod($request) {
       // Check if we recognize this method
       if (!isset($this->methods[$request->method])) {
         throw(new HttpScriptletException('Cannot handle method "'.$request->method.'"'));
@@ -784,7 +784,7 @@
           strlen($pattern)
         )));
         
-        $this->handlingImpl= &$this->impl[$pattern];
+        $this->handlingImpl= $this->impl[$pattern];
         
         // Set absolute Uri
         $request->setAbsoluteURI($this->handlingImpl->base.$request->getPath());
@@ -814,16 +814,16 @@
 
       // Check for authorization handler
       if (isset($this->auth[$rootURL->getPath()])) {
-        $this->handlingAuth= &$this->auth[$rootURL->getPath()];
-        $auth= &BasicAuthorization::fromValue($request->getHeader('Authorization'));
+        $this->handlingAuth= $this->auth[$rootURL->getPath()];
+        $auth= BasicAuthorization::fromValue($request->getHeader('Authorization'));
         
         // Can not get username/password from Authorization header
         if (!$auth) return 'doAuthorizationRequest';
         
         // Use an own User object if you want to save more than username and password
         if ($this->user[$rootURL->getPath()]) {          
-          $c= &XPClass::forName($this->user[$pattern]);
-          with ($user= &$c->newInstance()); {
+          $c= XPClass::forName($this->user[$pattern]);
+          with ($user= $c->newInstance()); {
             $user->setUsername($auth->getUser());
             $user->setUserPassword($auth->getPassword());            
           }
Index: ports/classes/org/webdav/util/OpaqueLockTocken.class.php
===================================================================
--- ports/classes/org/webdav/util/OpaqueLockTocken.class.php	(revision 8952)
+++ ports/classes/org/webdav/util/OpaqueLockTocken.class.php	(working copy)
@@ -39,8 +39,8 @@
      * @access  public
      * @param   &org.ietf.UUID uuid
      */
-    public function __construct(&$uuid) {
-      $this->uuid= &$uuid;
+    public function __construct($uuid) {
+      $this->uuid= $uuid;
       
     }
     
@@ -53,7 +53,7 @@
      * @return  &util.webdav.LockTocken
      * @throws  lang.FormatException in case the string is not a valid opaquelocktoken
      */
-    public static function &fromString($str) {
+    public static function fromString($str) {
       list($prefix, $uuidstr)= explode(':', $str, 2);
       if (
         (LOCKTOKEN_PREFIX !== $prefix) ||
Index: ports/classes/org/bugzilla/db/BugzillaDuplicates.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaDuplicates.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaDuplicates.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugzillaDuplicates::getPeer()); {
+      with ($peer= BugzillaDuplicates::getPeer()); {
         $peer->setTable('duplicates');
         $peer->setConnection('bugzilla');
         $peer->setPrimary(array('dupe'));
@@ -41,7 +41,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -53,8 +53,8 @@
      * @return  &Duplicates object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByDupe($dupe) {
-      $peer= &BugzillaDuplicates::getPeer();
+    public function getByDupe($dupe) {
+      $peer= BugzillaDuplicates::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('dupe', $dupe, EQUAL))));
     }
 
Index: ports/classes/org/bugzilla/db/BugzillaProfile.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaProfile.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaProfile.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugzillaProfile::getPeer()); {
+      with ($peer= BugzillaProfile::getPeer()); {
         $peer->setTable('profiles');
         $peer->setConnection('bugzilla');
         $peer->setIdentity('userid');
@@ -55,7 +55,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -67,8 +67,8 @@
      * @return  &org.bugzilla.db.BugzillaProfile object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByUserid($userid) {
-      $peer= &BugzillaProfile::getPeer();
+    public function getByUserid($userid) {
+      $peer= BugzillaProfile::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('userid', $userid, EQUAL))));
     }
 
@@ -80,8 +80,8 @@
      * @return  &org.bugzilla.db.BugzillaProfile object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByLogin_name($login_name) {
-      $peer= &BugzillaProfile::getPeer();
+    public function getByLogin_name($login_name) {
+      $peer= BugzillaProfile::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('login_name', $login_name, EQUAL))));
     }
     
@@ -93,8 +93,8 @@
      * @return  &org.bugzilla.db.BugzillaProfile object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByPerson_id($person_id) {
-      $peer= &BugzillaProfile::getPeer();
+    public function getByPerson_id($person_id) {
+      $peer= BugzillaProfile::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('person_id', $person_id, EQUAL))));
     }
 
@@ -251,7 +251,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getRefreshed_when() {
+    public function getRefreshed_when() {
       return $this->refreshed_when;
     }
       
@@ -262,7 +262,7 @@
      * @param   &util.Date refreshed_when
      * @return  &util.Date the previous value
      */
-    public function &setRefreshed_when(&$refreshed_when) {
+    public function setRefreshed_when($refreshed_when) {
       return $this->_change('refreshed_when', $refreshed_when);
     }
 
Index: ports/classes/org/bugzilla/db/BugzillaCcList.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaCcList.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaCcList.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugzillaCcList::getPeer()); {
+      with ($peer= BugzillaCcList::getPeer()); {
         $peer->setTable('cc');
         $peer->setConnection('bugzilla');
         $peer->setPrimary(array('bug_id', 'who'));
@@ -41,7 +41,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -53,8 +53,8 @@
      * @return  &BugzillaCcList object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_id($bug_id) {
-      $peer= &BugzillaCcList::getPeer();
+    public function getByBug_id($bug_id) {
+      $peer= BugzillaCcList::getPeer();
       return $peer->doSelect(new Criteria(array('bug_id', $bug_id, EQUAL)));
     }
 
@@ -66,8 +66,8 @@
      * @return  &BugzillaCcList[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByWho($who) {
-      $peer= &BugzillaCcList::getPeer();
+    public function getByWho($who) {
+      $peer= BugzillaCcList::getPeer();
       return $peer->doSelect(new Criteria(array('who', $who, EQUAL)));
     }
 
Index: ports/classes/org/bugzilla/db/BugzillaLongDescs.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaLongDescs.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaLongDescs.class.php	(working copy)
@@ -26,7 +26,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugzillaLongDescs::getPeer()); {
+      with ($peer= BugzillaLongDescs::getPeer()); {
         $peer->setTable('longdescs');
         $peer->setConnection('bugzilla');
         $peer->setPrimary(array(''));
@@ -45,7 +45,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -57,8 +57,8 @@
      * @return  &BugzillaLongDescs[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_id($bug_id) {
-      $peer= &BugzillaLongDescs::getPeer();
+    public function getByBug_id($bug_id) {
+      $peer= BugzillaLongDescs::getPeer();
       return $peer->doSelect(new Criteria(array('bug_id', $bug_id, EQUAL)));
     }
 
@@ -70,8 +70,8 @@
      * @return  &BugzillaLongDescs[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByWho($who) {
-      $peer= &BugzillaLongDescs::getPeer();
+    public function getByWho($who) {
+      $peer= BugzillaLongDescs::getPeer();
       return $peer->doSelect(new Criteria(array('who', $who, EQUAL)));
     }
 
@@ -83,8 +83,8 @@
      * @return  &BugzillaLongDescs[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_when($bug_when) {
-      $peer= &BugzillaLongDescs::getPeer();
+    public function getByBug_when($bug_when) {
+      $peer= BugzillaLongDescs::getPeer();
       return $peer->doSelect(new Criteria(array('bug_when', $bug_when, EQUAL)));
     }
 
Index: ports/classes/org/bugzilla/db/Bug.class.php
===================================================================
--- ports/classes/org/bugzilla/db/Bug.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/Bug.class.php	(working copy)
@@ -50,7 +50,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &Bug::getPeer()); {
+      with ($peer= Bug::getPeer()); {
         $peer->setTable('bugs');
         $peer->setConnection('bugzilla');
         $peer->setIdentity('bug_id');
@@ -94,7 +94,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -106,8 +106,8 @@
      * @return  &org.bugzilla.db.Bug object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_id($bug_id) {
-      $peer= &Bug::getPeer();
+    public function getByBug_id($bug_id) {
+      $peer= Bug::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('bug_id', $bug_id, EQUAL))));
     }
 
@@ -119,8 +119,8 @@
      * @return  &org.bugzilla.db.Bug object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByAlias($alias) {
-      $peer= &Bug::getPeer();
+    public function getByAlias($alias) {
+      $peer= Bug::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('alias', $alias, EQUAL))));
     }
 
@@ -132,8 +132,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByAssigned_to($assigned_to) {
-      $peer= &Bug::getPeer();
+    public function getByAssigned_to($assigned_to) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('assigned_to', $assigned_to, EQUAL)));
     }
 
@@ -145,8 +145,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByCreation_ts($creation_ts) {
-      $peer= &Bug::getPeer();
+    public function getByCreation_ts($creation_ts) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('creation_ts', $creation_ts, EQUAL)));
     }
 
@@ -158,8 +158,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByDelta_ts($delta_ts) {
-      $peer= &Bug::getPeer();
+    public function getByDelta_ts($delta_ts) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('delta_ts', $delta_ts, EQUAL)));
     }
 
@@ -171,8 +171,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_severity($bug_severity) {
-      $peer= &Bug::getPeer();
+    public function getByBug_severity($bug_severity) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('bug_severity', $bug_severity, EQUAL)));
     }
 
@@ -184,8 +184,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_status($bug_status) {
-      $peer= &Bug::getPeer();
+    public function getByBug_status($bug_status) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('bug_status', $bug_status, EQUAL)));
     }
 
@@ -197,8 +197,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByOp_sys($op_sys) {
-      $peer= &Bug::getPeer();
+    public function getByOp_sys($op_sys) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('op_sys', $op_sys, EQUAL)));
     }
 
@@ -210,8 +210,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByPriority($priority) {
-      $peer= &Bug::getPeer();
+    public function getByPriority($priority) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('priority', $priority, EQUAL)));
     }
 
@@ -223,8 +223,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByReporter($reporter) {
-      $peer= &Bug::getPeer();
+    public function getByReporter($reporter) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('reporter', $reporter, EQUAL)));
     }
 
@@ -236,8 +236,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByVersion($version) {
-      $peer= &Bug::getPeer();
+    public function getByVersion($version) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('version', $version, EQUAL)));
     }
 
@@ -249,8 +249,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByResolution($resolution) {
-      $peer= &Bug::getPeer();
+    public function getByResolution($resolution) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('resolution', $resolution, EQUAL)));
     }
 
@@ -262,8 +262,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByVotes($votes) {
-      $peer= &Bug::getPeer();
+    public function getByVotes($votes) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('votes', $votes, EQUAL)));
     }
 
@@ -275,8 +275,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByProduct_id($product_id) {
-      $peer= &Bug::getPeer();
+    public function getByProduct_id($product_id) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('product_id', $product_id, EQUAL)));
     }
 
@@ -288,8 +288,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByComponent_id($component_id) {
-      $peer= &Bug::getPeer();
+    public function getByComponent_id($component_id) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('component_id', $component_id, EQUAL)));
     }
 
@@ -301,8 +301,8 @@
      * @return  &org.bugzilla.db.Bug[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByShort_desc($short_desc) {
-      $peer= &Bug::getPeer();
+    public function getByShort_desc($short_desc) {
+      $peer= Bug::getPeer();
       return $peer->doSelect(new Criteria(array('short_desc', $short_desc, EQUAL)));
     }
 
@@ -417,7 +417,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getCreation_ts() {
+    public function getCreation_ts() {
       return $this->creation_ts;
     }
       
@@ -428,7 +428,7 @@
      * @param   &util.Date creation_ts
      * @return  &util.Date the previous value
      */
-    public function &setCreation_ts(&$creation_ts) {
+    public function setCreation_ts($creation_ts) {
       return $this->_change('creation_ts', $creation_ts);
     }
 
@@ -438,7 +438,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDelta_ts() {
+    public function getDelta_ts() {
       return $this->delta_ts;
     }
       
@@ -449,7 +449,7 @@
      * @param   &util.Date delta_ts
      * @return  &util.Date the previous value
      */
-    public function &setDelta_ts(&$delta_ts) {
+    public function setDelta_ts($delta_ts) {
       return $this->_change('delta_ts', $delta_ts);
     }
 
@@ -711,7 +711,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getLastdiffed() {
+    public function getLastdiffed() {
       return $this->lastdiffed;
     }
       
@@ -722,7 +722,7 @@
      * @param   &util.Date lastdiffed
      * @return  &util.Date the previous value
      */
-    public function &setLastdiffed(&$lastdiffed) {
+    public function setLastdiffed($lastdiffed) {
       return $this->_change('lastdiffed', $lastdiffed);
     }
 
Index: ports/classes/org/bugzilla/db/BugsActivity.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugsActivity.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugsActivity.class.php	(working copy)
@@ -29,7 +29,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugsActivity::getPeer()); {
+      with ($peer= BugsActivity::getPeer()); {
         $peer->setTable('bugs_activity');
         $peer->setConnection('bugzilla');
         $peer->setPrimary(array(''));
@@ -51,7 +51,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -63,8 +63,8 @@
      * @return  &BugsActivity[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_id($bug_id) {
-      $peer= &BugsActivity::getPeer();
+    public function getByBug_id($bug_id) {
+      $peer= BugsActivity::getPeer();
       return $peer->doSelect(new Criteria(array('bug_id', $bug_id, EQUAL)));
     }
 
@@ -76,8 +76,8 @@
      * @return  &BugsActivity[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByBug_when($bug_when) {
-      $peer= &BugsActivity::getPeer();
+    public function getByBug_when($bug_when) {
+      $peer= BugsActivity::getPeer();
       return $peer->doSelect(new Criteria(array('bug_when', $bug_when, EQUAL)));
     }
 
@@ -89,8 +89,8 @@
      * @return  &BugsActivity[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByFieldid($fieldid) {
-      $peer= &BugsActivity::getPeer();
+    public function getByFieldid($fieldid) {
+      $peer= BugsActivity::getPeer();
       return $peer->doSelect(new Criteria(array('fieldid', $fieldid, EQUAL)));
     }
 
Index: ports/classes/org/bugzilla/db/BugzillaProducts.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaProducts.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaProducts.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugzillaProducts::getPeer()); {
+      with ($peer= BugzillaProducts::getPeer()); {
         $peer->setTable('products');
         $peer->setConnection('bugzilla');
         $peer->setIdentity('id');
@@ -56,7 +56,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -68,8 +68,8 @@
      * @return  &org.bugzilla.db.BugzillaProducts object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getById($id) {
-      $peer= &BugzillaProducts::getPeer();
+    public function getById($id) {
+      $peer= BugzillaProducts::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('id', $id, EQUAL))));
     }
 
@@ -81,8 +81,8 @@
      * @return  &org.bugzilla.db.BugzillaProducts object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByName($name) {
-      $peer= &BugzillaProducts::getPeer();
+    public function getByName($name) {
+      $peer= BugzillaProducts::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('name', $name, EQUAL))));
     }
 
Index: ports/classes/org/bugzilla/db/BugzillaComponents.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaComponents.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaComponents.class.php	(working copy)
@@ -28,7 +28,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &BugzillaComponents::getPeer()); {
+      with ($peer= BugzillaComponents::getPeer()); {
         $peer->setTable('components');
         $peer->setConnection('bugzilla');
         $peer->setIdentity('id');
@@ -50,7 +50,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -62,8 +62,8 @@
      * @return  &org.bugzilla.db.BugzillaComponents object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getById($id) {
-      $peer= &BugzillaComponents::getPeer();
+    public function getById($id) {
+      $peer= BugzillaComponents::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('id', $id, EQUAL))));
     }
 
@@ -76,8 +76,8 @@
      * @return  &org.bugzilla.db.BugzillaComponents object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByProduct_idName($product_id, $name) {
-      $peer= &BugzillaComponents::getPeer();
+    public function getByProduct_idName($product_id, $name) {
+      $peer= BugzillaComponents::getPeer();
       return array_shift($peer->doSelect(new Criteria(
         array('product_id', $product_id, EQUAL),
         array('name', $name, EQUAL)
@@ -92,8 +92,8 @@
      * @return  &org.bugzilla.db.BugzillaComponents[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByName($name) {
-      $peer= &BugzillaComponents::getPeer();
+    public function getByName($name) {
+      $peer= BugzillaComponents::getPeer();
       return $peer->doSelect(new Criteria(array('name', $name, EQUAL)));
     }
 
Index: ports/classes/org/bugzilla/db/BugzillaMySQLConnection.class.php
===================================================================
--- ports/classes/org/bugzilla/db/BugzillaMySQLConnection.class.php	(revision 8952)
+++ ports/classes/org/bugzilla/db/BugzillaMySQLConnection.class.php	(working copy)
@@ -27,7 +27,7 @@
      * @access  public
      * @param   &rdbms.DSN dsn
      */
-    public function __construct(&$dsn) { 
+    public function __construct($dsn) { 
       parent::__construct($dsn);
             
       $this->shadow= $this->dsn->getValue('shadow', FALSE);
@@ -54,7 +54,7 @@
     public function insert() { 
       $args= func_get_args();
       $args[0]= 'insert '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -73,7 +73,7 @@
     public function update() {
       $args= func_get_args();
       $args[0]= 'update '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -91,7 +91,7 @@
     public function delete() { 
       $args= func_get_args();
       $args[0]= 'delete '.$args[0];
-      if (!($r= &call_user_func_array(array(&$this, 'query'), $args))) {
+      if (!($r= call_user_func_array(array($this, 'query'), $args))) {
         return FALSE;
       }
       
@@ -106,12 +106,12 @@
      * @return  &rdbms.mysql.MySQLResultSet or FALSE to indicate failure
      * @throws  rdbms.SQLException
      */
-    public function &query() {
+    public function query() {
       $args= func_get_args();
       $sql= $this->_prepare($args);
 
       try {
-        $res= &parent::query($sql);
+        $res= parent::query($sql);
       } catch (SQLException $e) {
         throw($e);
       }
Index: ports/classes/de/document-root/gui/gtk/project/ParserManager.class.php
===================================================================
--- ports/classes/de/document-root/gui/gtk/project/ParserManager.class.php	(revision 8952)
+++ ports/classes/de/document-root/gui/gtk/project/ParserManager.class.php	(working copy)
@@ -82,21 +82,21 @@
       // Use function names as array keys
       $this->functions= array();
       foreach (array_keys($parser->functions) as $idx) {
-        $f= &$parser->functions[$idx];
-        $this->functions[$f->name]= &$f;
+        $f= $parser->functions[$idx];
+        $this->functions[$f->name]= $f;
       }
       
       // Use class- and function-names as array_keys
       foreach (array_keys($parser->classes) as $idx) {
-        $c= &$parser->classes[$idx];
+        $c= $parser->classes[$idx];
         
         // Intentional copy
         $this->classes[$c->name]= $c;
         $this->classes[$c->name]->functions= array();
         
         foreach (array_keys($c->functions) as $fidx) {
-          $f= &$c->functions[$fidx];
-          $this->classes[$c->name]->functions[$f->name]= &$f;
+          $f= $c->functions[$fidx];
+          $this->classes[$c->name]->functions[$f->name]= $f;
         }
       }
       
Index: ports/classes/de/document-root/gui/gtk/project/ProjectManagerPopupMenu.class.php
===================================================================
--- ports/classes/de/document-root/gui/gtk/project/ProjectManagerPopupMenu.class.php	(revision 8952)
+++ ports/classes/de/document-root/gui/gtk/project/ProjectManagerPopupMenu.class.php	(working copy)
@@ -19,8 +19,8 @@
      * @access  public
      * @param   &Object
      */
-    public function setParent(&$parent) {
-      $this->parent= &$parent;
+    public function setParent($parent) {
+      $this->parent= $parent;
     }
 
     /**
@@ -31,7 +31,7 @@
      * @param   &GdkEvent
      * @return  boolean success
      */
-    public function addFile(&$menuItem, &$event) {
+    public function addFile($menuItem, $event) {
       if ($this->parent->dialog->show ()) {
       
         // OK pressed and file selected
Index: ports/classes/de/document-root/gui/gtk/project/ProjectManager.class.php
===================================================================
--- ports/classes/de/document-root/gui/gtk/project/ProjectManager.class.php	(revision 8952)
+++ ports/classes/de/document-root/gui/gtk/project/ProjectManager.class.php	(working copy)
@@ -30,14 +30,14 @@
      *
      * @access  public
      */
-    function __construct(&$p, $base) {
-      $pm= &PropertyManager::getInstance();
+    function __construct($p, $base) {
+      $pm= PropertyManager::getInstance();
       
-      $l= &Logger::getInstance();
-      $this->log= &$l->getCategory ($this->getClassName());
+      $l= Logger::getInstance();
+      $this->log= $l->getCategory ($this->getClassName());
 
       try {
-        $this->prop= &$pm->getProperties('prj');
+        $this->prop= $pm->getProperties('prj');
       } catch(IOException $e) {
         // Ignore exception, but take it off the stack
       }
@@ -94,7 +94,7 @@
      * @param   string ref
      * @return  &GtkCTreeItem
      */
-    function &_getNode($ref) {
+    function _getNode($ref) {
       return $this->hash[$ref];
     }
     
@@ -163,21 +163,21 @@
       $this->window->set_default_size (600, 400);
       
       // Setup filedialog
-      $this->dialog= &new FileDialog();
+      $this->dialog= new FileDialog();
       
       // Init ClassTree
-      $this->tree= &$this->widget ('classTree');
-      $this->tree->connect ('select_row', array (&$this, 'onTreeSelectRow'));
-      $this->tree->connect ('unselect_row', array (&$this, 'onTreeUnselectRow'));
-      $this->tree->connect ('button_press_event', array (&$this, 'onTreeClick'));
+      $this->tree= $this->widget ('classTree');
+      $this->tree->connect ('select_row', array ($this, 'onTreeSelectRow'));
+      $this->tree->connect ('unselect_row', array ($this, 'onTreeUnselectRow'));
+      $this->tree->connect ('button_press_event', array ($this, 'onTreeClick'));
       $this->tree->set_line_style (GTK_CTREE_LINES_DOTTED);
 
       // Init Statusbar
-      $this->statusbar= &$this->widget ('statusbar');
+      $this->statusbar= $this->widget ('statusbar');
       
       // Load pixmaps
-      $l= &new GtkPixmapLoader ($this->window->window, $this->base.'/ui/xpm/');
-      $this->pixmap= &$l->load (array (
+      $l= new GtkPixmapLoader ($this->window->window, $this->base.'/ui/xpm/');
+      $this->pixmap= $l->load (array (
         'sv_class',
         'sv_scalar', 
         'sv_session',
@@ -197,7 +197,7 @@
       
       // Check every 60 seconds
       $timeout= $this->prop->readInteger ('main', 'autocheck', 60);
-      $this->timer= gtk::timeout_add (1000 * $timeout, array (&$this, 'onAutoUpdate'));
+      $this->timer= gtk::timeout_add (1000 * $timeout, array ($this, 'onAutoUpdate'));
     }
     
     function onAutoUpdate() {
@@ -224,17 +224,17 @@
       return $cache[$path];
     }
     
-    function onTreeSelectRow(&$widget, $row, &$data, &$event) {
-      $node= &$this->tree->node_nth ($row);
-      $this->_selectedNode= &$node;
+    function onTreeSelectRow($widget, $row, $data, $event) {
+      $node= $this->tree->node_nth ($row);
+      $this->_selectedNode= $node;
     }
     
-    function onTreeUnselectRow(&$widget, $row, &$data, &$event) {
+    function onTreeUnselectRow($widget, $row, $data, $event) {
       if (isset ($this->_selectedRow))
         unset ($this->_selectedNode);
     }
     
-    function onTreeClick(&$clist, &$event) {
+    function onTreeClick($clist, $event) {
     
       // Check for right-click
       if (3 == $event->button)
@@ -248,16 +248,16 @@
       return TRUE;
     }
     
-    function onTreeRightClick(&$clist, &$event) {
-      $this->menu= &new ProjectManagerPopupMenu();
+    function onTreeRightClick($clist, $event) {
+      $this->menu= new ProjectManagerPopupMenu();
       $this->menu->setParent($this);
-      $this->menu->addMenuItem ('Add file...', array (&$this->menu, 'addFile'));
-      $this->menu->addMenuItem ('Reparse files', array (&$this->menu, 'reparse'));
+      $this->menu->addMenuItem ('Add file...', array ($this->menu, 'addFile'));
+      $this->menu->addMenuItem ('Reparse files', array ($this->menu, 'reparse'));
       
       if (isset ($this->_selectedNode)) {
         $this->menu->addSeparator();
-        $this->menu->addMenuItem('Open', array (&$this, 'onFileOpenCtx'));
-        $this->menu->addMenuItem('cvs diff', array(&$this, 'onCvsDiff'));
+        $this->menu->addMenuItem('Open', array ($this, 'onFileOpenCtx'));
+        $this->menu->addMenuItem('cvs diff', array($this, 'onCvsDiff'));
       }
 
       $this->menu->show(MENU_WANT_LEFTCLICK);
@@ -297,10 +297,10 @@
           return FALSE;
       }
       
-      $parser= &new ParserManager($filename);
+      $parser= new ParserManager($filename);
       $parser->parse();
 
-      $this->files[$filename]= &$parser;
+      $this->files[$filename]= $parser;
 
       $this->statusbar->push (1, 'Added file '.$parser->filename);
       $this->log && $this->log->info ('Added file '.$parser->filename);
@@ -377,9 +377,9 @@
       return TRUE;
     }
     
-    function &_addNode(&$parent, $label, $ref, $pixmap= 'sv_session') {
+    function _addNode($parent, $label, $ref, $pixmap= 'sv_session') {
       $this->log && $this->log->info('Added ref', $ref);
-      $node= &$this->tree->insert_node (
+      $node= $this->tree->insert_node (
         $parent,
         NULL,
         $label,
@@ -393,10 +393,10 @@
       );
       
       $this->tree->node_set_row_data($node, $ref);
-      $this->hash[$ref]= &$node;
+      $this->hash[$ref]= $node;
 
       // $style= gtk::widget_get_default_style();
-      $style= &new GtkStyle();
+      $style= new GtkStyle();
       $style->fg[GTK_STATE_NORMAL]= new GdkColor ('#cccccc');
       $this->tree->node_set_cell_style ($node, 1, $style);
       $this->tree->node_set_cell_style ($node, 2, $style);
@@ -404,10 +404,10 @@
       return $node;
     }
     
-    function &getNode($name) {
+    function getNode($name) {
       if (!isset($this->nodes[$name])) {
         $this->log && $this->log->debug('Adding node', $name);
-        $this->nodes[$name]= &$this->tree->insert_node(
+        $this->nodes[$name]= $this->tree->insert_node(
           $this->nodes['root'],
           NULL,
           array($name),
@@ -429,7 +429,7 @@
       // $this->tree->clear();
       
       if (empty($this->nodes['root'])) {
-        $this->nodes['root']= &$this->tree->insert_node (
+        $this->nodes['root']= $this->tree->insert_node (
           NULL,
           NULL,
           array('Workspace'),
@@ -444,7 +444,7 @@
       }
       
       if (empty($this->nodes['core'])) {
-        $this->nodes['core']= &$this->tree->insert_node(
+        $this->nodes['core']= $this->tree->insert_node(
           $this->nodes['root'],
           NULL,
           array('Core classes'),
@@ -459,7 +459,7 @@
       }
 
       if (empty($this->nodes['framework'])) {
-        $this->nodes['framework']= &$this->tree->insert_node(
+        $this->nodes['framework']= $this->tree->insert_node(
           $this->nodes['root'],
           NULL,
           array('Framework classes'),
@@ -474,7 +474,7 @@
       }
       
       foreach (array_keys ($this->files) as $idx) {
-        $file= &$this->files[$idx];
+        $file= $this->files[$idx];
 
         $classification= $this->classifyFile($file->filename);
         
@@ -484,10 +484,10 @@
           continue;
           
         foreach (array_keys ($file->classes) as $cIdx) {
-          $c= &$file->classes[$cIdx];
+          $c= $file->classes[$cIdx];
           
           if (!$this->_nodeExists($this->_getRef($idx, $cIdx))) {
-            $classNode= &$this->_addNode (
+            $classNode= $this->_addNode (
               $this->getNode($classification),
               array ($c->name),
               $this->_getRef($idx, $cIdx),
@@ -500,9 +500,9 @@
             'line' => $c->line
           ));
           
-          $classNode= &$this->_getNode($this->_getRef($idx, $cIdx));
+          $classNode= $this->_getNode($this->_getRef($idx, $cIdx));
           foreach (array_keys ($c->functions) as $fIdx) {
-            $f= &$c->functions[$fIdx];
+            $f= $c->functions[$fIdx];
 
             $this->_setRefInfo($this->_getRef($idx, $cIdx, $fIdx), array(
               'file' => $file->filename,
@@ -524,10 +524,10 @@
       
       // Now add global functions
       foreach (array_keys ($this->files) as $idx) {
-        $file= &$this->files[$idx];
+        $file= $this->files[$idx];
         
         foreach (array_keys ($file->functions) as $fIdx) {
-          $f= &$file->functions[$fIdx];
+          $f= $file->functions[$fIdx];
           
           $this->_setRefInfo($this->_getRef($idx, NULL, $fIdx), array(
             'file' => $file->filename,
@@ -574,7 +574,7 @@
      * @param   &GdkEvent
      */    
     function onFileOpenCtx() {
-      $n= &$this->tree->node_get_row_data ($this->_selectedNode);
+      $n= $this->tree->node_get_row_data ($this->_selectedNode);
       $cmd= $this->prop->readString (
         'editor',
         'cmdline',
@@ -600,8 +600,8 @@
      * @access  public
      */
     function onCvsDiff() {
-      $n= &$this->tree->node_get_row_data($this->_selectedNode);
-      $d= &$this->_getRefInfo($n);
+      $n= $this->tree->node_get_row_data($this->_selectedNode);
+      $d= $this->_getRefInfo($n);
       
       $tmpFile= System::tempDir().DIRECTORY_SEPARATOR.md5($d['file']).'.diff';
       $cmd= sprintf('cvs diff -u %s', basename($d['file']));
Index: ports/classes/de/fraunhofer/mp3/ID3Tag.class.php
===================================================================
--- ports/classes/de/fraunhofer/mp3/ID3Tag.class.php	(revision 8952)
+++ ports/classes/de/fraunhofer/mp3/ID3Tag.class.php	(working copy)
@@ -90,7 +90,7 @@
      * @param   string version one of the ID3_VERSION_* constants
      * @return  &de.fraunhofer.mp3.ID3Tag a tag
      */
-    public static function &fromString(&$buf, $version) {
+    public static function fromString($buf, $version) {
       $tag= new ID3Tag();
       
       switch ($version) {
Index: ports/classes/de/fraunhofer/mp3/MP3File.class.php
===================================================================
--- ports/classes/de/fraunhofer/mp3/MP3File.class.php	(revision 8952)
+++ ports/classes/de/fraunhofer/mp3/MP3File.class.php	(working copy)
@@ -20,8 +20,8 @@
      * @access  public
      * @param   &io.File file
      */
-    public function __construct(&$file) {
-      $this->file= &$file;
+    public function __construct($file) {
+      $this->file= $file;
       
     }
     
@@ -33,7 +33,7 @@
      * @return  &de.fraunhofer.mp3.ID3Tag tag object or NULL if no tag exists
      * @see     http://www.id3.org/
      */
-    public function &getID3Tag($version= ID3_VERSION_UNKNOWN) {
+    public function getID3Tag($version= ID3_VERSION_UNKNOWN) {
       try {
         $this->file->open(FILE_MODE_READ);
         
Index: ports/classes/de/uska/db/Team.class.php
===================================================================
--- ports/classes/de/uska/db/Team.class.php	(revision 8952)
+++ ports/classes/de/uska/db/Team.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &Team::getPeer()); {
+      with ($peer= Team::getPeer()); {
         $peer->setTable('uska.team');
         $peer->setConnection('uskadb');
         $peer->setIdentity('team_id');
@@ -42,7 +42,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -54,8 +54,8 @@
      * @return  &de.uska.db.Team object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByTeam_id($team_id) {
-      $peer= &Team::getPeer();
+    public function getByTeam_id($team_id) {
+      $peer= Team::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('team_id', $team_id, EQUAL))));
     }
 
Index: ports/classes/de/uska/db/EventAttendee.class.php
===================================================================
--- ports/classes/de/uska/db/EventAttendee.class.php	(revision 8952)
+++ ports/classes/de/uska/db/EventAttendee.class.php	(working copy)
@@ -29,7 +29,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &EventAttendee::getPeer()); {
+      with ($peer= EventAttendee::getPeer()); {
         $peer->setTable('uska.event_attendee');
         $peer->setConnection('uskadb');
         $peer->setPrimary(array('event_id', 'player_id'));
@@ -51,7 +51,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -64,8 +64,8 @@
      * @return  &de.uska.db.EventAttendee object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByEvent_idPlayer_id($event_id, $player_id) {
-      $peer= &EventAttendee::getPeer();
+    public function getByEvent_idPlayer_id($event_id, $player_id) {
+      $peer= EventAttendee::getPeer();
       return array_shift($peer->doSelect(new Criteria(
         array('event_id', $event_id, EQUAL),
         array('player_id', $player_id, EQUAL)
@@ -80,8 +80,8 @@
      * @return  &de.uska.db.EventAttendee[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByEvent_id($event_id) {
-      $peer= &EventAttendee::getPeer();
+    public function getByEvent_id($event_id) {
+      $peer= EventAttendee::getPeer();
       return $peer->doSelect(new Criteria(array('event_id', $event_id, EQUAL)));
     }
 
@@ -93,8 +93,8 @@
      * @return  &de.uska.db.EventAttendee[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByPlayer_id($player_id) {
-      $peer= &EventAttendee::getPeer();
+    public function getByPlayer_id($player_id) {
+      $peer= EventAttendee::getPeer();
       return $peer->doSelect(new Criteria(array('player_id', $player_id, EQUAL)));
     }
 
Index: ports/classes/de/uska/db/Player.class.php
===================================================================
--- ports/classes/de/uska/db/Player.class.php	(revision 8952)
+++ ports/classes/de/uska/db/Player.class.php	(working copy)
@@ -35,7 +35,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &Player::getPeer()); {
+      with ($peer= Player::getPeer()); {
         $peer->setTable('uska.player');
         $peer->setConnection('uska');
         $peer->setIdentity('player_id');
@@ -64,7 +64,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -76,8 +76,8 @@
      * @return  &de.uska.db.Player object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByPlayer_id($player_id) {
-      $peer= &Player::getPeer();
+    public function getByPlayer_id($player_id) {
+      $peer= Player::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('player_id', $player_id, EQUAL))));
     }
 
@@ -89,8 +89,8 @@
      * @return  &de.uska.db.Player object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByUsername($username) {
-      $peer= &Player::getPeer();
+    public function getByUsername($username) {
+      $peer= Player::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('username', $username, EQUAL))));
     }
 
@@ -102,8 +102,8 @@
      * @return  &de.uska.db.Player[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByCreated_by($created_by) {
-      $peer= &Player::getPeer();
+    public function getByCreated_by($created_by) {
+      $peer= Player::getPeer();
       return $peer->doSelect(new Criteria(array('created_by', $created_by, EQUAL)));
     }
 
@@ -115,8 +115,8 @@
      * @return  &de.uska.db.Player[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByTeam_id($team_id) {
-      $peer= &Player::getPeer();
+    public function getByTeam_id($team_id) {
+      $peer= Player::getPeer();
       return $peer->doSelect(new Criteria(array('team_id', $team_id, EQUAL)));
     }
 
@@ -336,7 +336,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getLastchange() {
+    public function getLastchange() {
       return $this->lastchange;
     }
       
@@ -347,7 +347,7 @@
      * @param   &util.Date lastchange
      * @return  &util.Date the previous value
      */
-    public function &setLastchange(&$lastchange) {
+    public function setLastchange($lastchange) {
       return $this->_change('lastchange', $lastchange);
     }
 
Index: ports/classes/de/uska/db/Event.class.php
===================================================================
--- ports/classes/de/uska/db/Event.class.php	(revision 8952)
+++ ports/classes/de/uska/db/Event.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  public
      */
     public static function __static() { 
-      with ($peer= &Event::getPeer()); {
+      with ($peer= Event::getPeer()); {
         $peer->setTable('uska.event');
         $peer->setConnection('uskadb');
         $peer->setIdentity('event_id');
@@ -62,7 +62,7 @@
      * @access  public
      * @return  &rdbms.Peer
      */
-    public function &getPeer() {
+    public function getPeer() {
       return Peer::forName(__CLASS__);
     }
   
@@ -74,8 +74,8 @@
      * @return  &de.uska.db.Event object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByEvent_id($event_id) {
-      $peer= &Event::getPeer();
+    public function getByEvent_id($event_id) {
+      $peer= Event::getPeer();
       return array_shift($peer->doSelect(new Criteria(array('event_id', $event_id, EQUAL))));
     }
 
@@ -87,8 +87,8 @@
      * @return  &de.uska.db.Event[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByTarget_date($target_date) {
-      $peer= &Event::getPeer();
+    public function getByTarget_date($target_date) {
+      $peer= Event::getPeer();
       return $peer->doSelect(new Criteria(array('target_date', $target_date, EQUAL)));
     }
 
@@ -100,8 +100,8 @@
      * @return  &de.uska.db.Event[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByTeam_id($team_id) {
-      $peer= &Event::getPeer();
+    public function getByTeam_id($team_id) {
+      $peer= Event::getPeer();
       return $peer->doSelect(new Criteria(array('team_id', $team_id, EQUAL)));
     }
 
@@ -113,8 +113,8 @@
      * @return  &de.uska.db.Event[] object
      * @throws  rdbms.SQLException in case an error occurs
      */
-    public function &getByEvent_type_id($event_type_id) {
-      $peer= &Event::getPeer();
+    public function getByEvent_type_id($event_type_id) {
+      $peer= Event::getPeer();
       return $peer->doSelect(new Criteria(array('event_type_id', $event_type_id, EQUAL)));
     }
 
Index: ports/classes/de/uska/scriptlet/state/EventsState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/EventsState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/EventsState.class.php	(working copy)
@@ -26,7 +26,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       // FIXME: Put into ini-file?
       static $types= array(
         'training'    => 1,
@@ -82,7 +82,7 @@
         throw($e);
       }
       
-      $events= &$response->addFormResult(new Node('events', NULL, array(
+      $events= $response->addFormResult(new Node('events', NULL, array(
         'team'  => intval($team),
         'type'  => ($type ? $type : '0'),
         'all'   => intval($all),
@@ -94,14 +94,14 @@
         $description= $record['description'];
         unset($record['description']);
         
-        $n= &$events->addChild(Node::fromArray($record, 'event'));
+        $n= $events->addChild(Node::fromArray($record, 'event'));
         $n->addChild(FormresultHelper::markupNodeFor('description', $description));
       }
       
       // Create context date
       $date= NULL;
       if ($year && $month) {
-        $date= &Date::fromString(sprintf('%d-%d-%d',
+        $date= Date::fromString(sprintf('%d-%d-%d',
           $year,
           $month,
           $day ? $day : 1
Index: ports/classes/de/uska/scriptlet/state/OrganizationState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/OrganizationState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/OrganizationState.class.php	(working copy)
@@ -20,7 +20,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @return  int
      */
-    public function getParentCategory(&$request) {
+    public function getParentCategory($request) {
       switch ($request->getQueryString()) {
         case 'application': return 3;
         case 'imprint': return 5;
@@ -37,7 +37,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) {
+    public function getEntries($db, $request) {
       return $db->query('
         select 
           entry.id as id,
Index: ports/classes/de/uska/scriptlet/state/EditEventState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/EditEventState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/EditEventState.class.php	(working copy)
@@ -36,7 +36,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       $this->addHandler(new EditEventHandler());
       parent::setup($request, $response, $context);
     }
Index: ports/classes/de/uska/scriptlet/state/ViewNewsState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/ViewNewsState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/ViewNewsState.class.php	(working copy)
@@ -20,13 +20,13 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
-      $cm= &ConnectionManager::getInstance();
+    public function process($request, $response) {
+      $cm= ConnectionManager::getInstance();
       
       // Fetch entry
       try {
-        $db= &$cm->getByHost('uskanews', 0);
-        $q= &$db->query('
+        $db= $cm->getByHost('uskanews', 0);
+        $q= $db->query('
           select 
             entry.id as id,
             entry.title as title,
@@ -53,7 +53,7 @@
       }
       
       // Add entry to the formresult
-      with ($entry= &$response->addFormResult(new Node('entry'))); {
+      with ($entry= $response->addFormResult(new Node('entry'))); {
         $entry->setAttribute('id', $record['id']);
         $entry->addChild(new Node('title', $record['title']));
         $entry->addChild(new Node('author', $record['author']));
Index: ports/classes/de/uska/scriptlet/state/LoginState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/LoginState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/LoginState.class.php	(working copy)
@@ -33,7 +33,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       parent::setup($request, $response, $context);
       
       if ($request->hasParam('logout')) {
Index: ports/classes/de/uska/scriptlet/state/ReportsAboutState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/ReportsAboutState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/ReportsAboutState.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) {
+    public function getEntries($db, $request) {
       return $db->query('
         select 
           entry.id as id,
Index: ports/classes/de/uska/scriptlet/state/ViewpointsEventState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/ViewpointsEventState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/ViewpointsEventState.class.php	(working copy)
@@ -27,7 +27,7 @@
      * @param   &scriptlet.xml.Context context
      * @return  boolean
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       parent::process($request, $response, $context);
       
       $eventid= $request->getParam('event_id', 0);
@@ -37,9 +37,9 @@
       if (!$eventid && !$teamid) return TRUE;
       
       try {
-        $eventid && $event= &Event::getByEvent_id($eventid);
+        $eventid && $event= Event::getByEvent_id($eventid);
         
-        $query= &$this->db->query('
+        $query= $this->db->query('
           select
             p.player_id,
             p.firstname,
@@ -73,13 +73,13 @@
         $eventarr= (array)$event;
         unset($eventarr['description']);
 
-        $node= &$response->addFormResult(Node::fromArray($eventarr, 'event'));
+        $node= $response->addFormResult(Node::fromArray($eventarr, 'event'));
         $node->addChild(FormresultHelper::markupNodeFor('description', $event->getDescription()));
       }
       
-      $n= &$response->addFormResult(new Node('attendeeinfo'));
-      while ($query && $record= &$query->next()) {
-        $t= &$n->addChild(new Node('player', NULL, $record));
+      $n= $response->addFormResult(new Node('attendeeinfo'));
+      while ($query && $record= $query->next()) {
+        $t= $n->addChild(new Node('player', NULL, $record));
       }
     }
   }
Index: ports/classes/de/uska/scriptlet/state/NewsState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/NewsState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/NewsState.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) {
+    public function getEntries($db, $request) {
       return $db->query('
         select 
           entry.id as id,
Index: ports/classes/de/uska/scriptlet/state/ViewEventState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/ViewEventState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/ViewEventState.class.php	(working copy)
@@ -28,16 +28,16 @@
      * @param   &scriptlet.xml.Context context
      * @return  boolean
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       parent::process($request, $response, $context);
       
       $eventid= intval($request->getQueryString());
       if (!$eventid) return FALSE;
       
       try {
-        $event= &Event::getByEvent_id($eventid);
+        $event= Event::getByEvent_id($eventid);
         
-        $event && $query= &$this->db->query('
+        $event && $query= $this->db->query('
           select
             p.player_id,
             p.firstname,
@@ -85,17 +85,17 @@
       // the description member (which needs markup processing)
       $eventarr= (array)$event;
       unset($eventarr['description']);
-      $deadline= &$event->getDeadline();
-      $target= &$event->getTarget_date();
+      $deadline= $event->getDeadline();
+      $target= $event->getTarget_date();
       $attendeesCount= 0;
       
       $n= new Node('attendeeinfo');
-      while ($query && $record= &$query->next()) {
-        $t= &$n->addChild(new Node('player', NULL, $record));
+      while ($query && $record= $query->next()) {
+        $t= $n->addChild(new Node('player', NULL, $record));
         
         // For guests, select creator
         if (2 == $record['player_type_id']) {
-          $creator= &Player::getByPlayer_id($record['created_by']);
+          $creator= Player::getByPlayer_id($record['created_by']);
           $t->addChild(Node::fromObject($creator, 'creator'));
         }
         
@@ -110,7 +110,7 @@
         (!$event->getMax_Attendees() || $attendeesCount < $event->getMax_attendees())
       );
       
-      $node= &$response->addFormResult(Node::fromArray($eventarr, 'event'));
+      $node= $response->addFormResult(Node::fromArray($eventarr, 'event'));
       $node->addChild(FormresultHelper::markupNodeFor('description', $event->getDescription()));
       $node->addChild($n);
     }
Index: ports/classes/de/uska/scriptlet/state/AccountEventState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/AccountEventState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/AccountEventState.class.php	(working copy)
@@ -29,7 +29,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       $this->addHandler(new AccountEventHandler());
       parent::setup($request, $response, $context);
     }
Index: ports/classes/de/uska/scriptlet/state/AttendEventState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/AttendEventState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/AttendEventState.class.php	(working copy)
@@ -31,7 +31,7 @@
      * @param   
      * @return  
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       $this->addHandler(new AttendEventHandler());
       parent::setup($request, $response, $context);
     }
Index: ports/classes/de/uska/scriptlet/state/EditPlayerState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/EditPlayerState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/EditPlayerState.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       $this->addHandler(new EditPlayerHandler());
       parent::setup($request, $response, $context);
     }
Index: ports/classes/de/uska/scriptlet/state/UskaState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/state/UskaState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/state/UskaState.class.php	(working copy)
@@ -25,8 +25,8 @@
      * @access  public
      */
     public function __construct() {
-      $log= &Logger::getInstance();
-      $this->cat= &$log->getCategory();
+      $log= Logger::getInstance();
+      $this->cat= $log->getCategory();
     }
     
     /**
@@ -38,14 +38,14 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
     
       // Automatically handle authentication if state indicates so
       if ($this->requiresAuthentication()) {
         if (!is('de.uska.db.Player', $context->user)) {
 
           // Store return point in session
-          $uri= &$request->getURI();
+          $uri= $request->getURI();
           $request->session->putValue('authreturn', $uri);
 
           // Send redirect
@@ -65,8 +65,8 @@
         }
       }
     
-      $cm= &ConnectionManager::getInstance();
-      $this->db= &$cm->getByHost($request->getProduct(), 0);
+      $cm= ConnectionManager::getInstance();
+      $this->db= $cm->getByHost($request->getProduct(), 0);
       parent::setup($request, $response, $context);
     }
   
@@ -77,9 +77,9 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      */
-    public function insertTeams(&$request, &$response) {
-      $pm= &PropertyManager::getInstance();
-      $prop= &$pm->getProperties('product');
+    public function insertTeams($request, $response) {
+      $pm= PropertyManager::getInstance();
+      $prop= $pm->getProperties('product');
       
       try {
         $teams= $this->db->select('
@@ -104,13 +104,13 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      */
-    public function insertEventCalendar(&$request, &$response, $team= NULL, $contextDate= NULL) {
-      $pm= &PropertyManager::getInstance();
-      $prop= &$pm->getProperties('product');
+    public function insertEventCalendar($request, $response, $team= NULL, $contextDate= NULL) {
+      $pm= PropertyManager::getInstance();
+      $prop= $pm->getProperties('product');
       
-      if (!$contextDate) $contextDate= &Date::now();
+      if (!$contextDate) $contextDate= Date::now();
       
-      $month= &$response->addFormResult(new Node('month', NULL, array(
+      $month= $response->addFormResult(new Node('month', NULL, array(
         'num'   => $contextDate->getMonth(),    // Month number, e.g. 4 = April
         'year'  => $contextDate->getYear(),     // Year
         'days'  => $contextDate->toString('t'), // Number of days in the given month
@@ -120,7 +120,7 @@
       )));
 
       try {
-        $calendar= &$this->db->query('
+        $calendar= $this->db->query('
           select
             dayofmonth(target_date) as day,
             count(*) as numevents
@@ -138,7 +138,7 @@
         throw($e);
       }
       
-      while ($record= &$calendar->next()) {
+      while ($record= $calendar->next()) {
         $month->addChild(new Node('entries', $record['numevents'], array(
           'day' => $record['day']
         )));
Index: ports/classes/de/uska/scriptlet/UskaContext.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/UskaContext.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/UskaContext.class.php	(working copy)
@@ -26,9 +26,9 @@
      * @access  public
      * @param   &scriptlet.xml.XMLScriptletRequest request
      */
-    public function setup(&$request) {
-      $cm= &ConnectionManager::getInstance();
-      $db= &$cm->getByHost('uska', 0);
+    public function setup($request) {
+      $cm= ConnectionManager::getInstance();
+      $db= $cm->getByHost('uska', 0);
       
       $this->eventtypes= array();
       try {
@@ -50,12 +50,12 @@
      * @param   &scriptlet.HttpScriptletRequest request
      * @throws  lang.IllegalAccessException to indicate an error
      */
-    public function process(&$request) {
+    public function process($request) {
       if ($this->user) {
         $cookie= $request->getCookie('uska-user');
         if (!is('scriptlet.Cookie', $cookie) || !$this->user->getUsername() == $cookie->getValue()) {
-          $log= &Logger::getInstance();
-          $cat= &$log->getCategory();
+          $log= Logger::getInstance();
+          $cat= $log->getCategory();
           
           $cat->warn('User', $this->user->getUsername(), 'has exposed his session id to user', $cookie);
           $cat->warn('Destroying session', $request->getSessionId());
@@ -84,7 +84,7 @@
      * @access  public
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function insertStatus(&$response) {
+    public function insertStatus($response) {
       if (isset($this->_forwardTo)) {
 
         // Forward to same page without session (session hijacking)
@@ -93,11 +93,11 @@
       }
       
       if ($this->user) {
-        $n= &$response->addFormResult(Node::fromObject($this->user, 'user'));
+        $n= $response->addFormResult(Node::fromObject($this->user, 'user'));
         $n->addChild(Node::fromArray(array_keys($this->permissions), 'permissions'));
       }
       
-      $enode= &$response->addFormResult(new node('eventtypes'));
+      $enode= $response->addFormResult(new node('eventtypes'));
       foreach ($this->eventtypes as $id => $desc) {
         $enode->addChild(new Node('type', $desc['name'], array(
           'id' => $id,
@@ -112,8 +112,8 @@
      * @access  public
      * @param   &de.uska.db.Player user
      */
-    public function setUser(&$user) {
-      $this->user= &$user;
+    public function setUser($user) {
+      $this->user= $user;
       $this->setChanged();
     }
     
@@ -123,8 +123,8 @@
      * @access  public
      * @param   &array perms
      */
-    public function setPermissions(&$perm) {
-      $this->permissions= &$perm;
+    public function setPermissions($perm) {
+      $this->permissions= $perm;
       $this->setChanged();
     }
     
Index: ports/classes/de/uska/scriptlet/AbstractNewsListingState.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/AbstractNewsListingState.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/AbstractNewsListingState.class.php	(working copy)
@@ -28,7 +28,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &rdbms.ResultSet
      */
-    public function &getEntries(&$db, &$request) { }
+    public function getEntries($db, $request) { }
     
     /**
      * Return date
@@ -37,7 +37,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @return  &util.Date
      */
-    public function &getContextMonth(&$request) {
+    public function getContextMonth($request) {
       return Date::now();
     }
     
@@ -48,7 +48,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @return  int
      */
-    public function getParentCategory(&$request) {
+    public function getParentCategory($request) {
       return 0;
     }
     
@@ -59,11 +59,11 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @param   &scriptlet.xml.XMLScriptletResponse response
      */
-    public function process(&$request, &$response) {
+    public function process($request, $response) {
 
       // Retrieve date information
-      $contextDate= &$this->getContextMonth($request);
-      $month= &$response->addFormResult(new Node('month', NULL, array(
+      $contextDate= $this->getContextMonth($request);
+      $month= $response->addFormResult(new Node('month', NULL, array(
         'num'   => $contextDate->getMonth(),    // Month number, e.g. 4 = April
         'year'  => $contextDate->getYear(),     // Year
         'days'  => $contextDate->toString('t'), // Number of days in the given month
@@ -72,13 +72,13 @@
         )) + 6) % 7
       )));
 
-      $cm= &ConnectionManager::getInstance();
+      $cm= ConnectionManager::getInstance();
       try {
-        $db= &$cm->getByHost('uskanews', 0);
+        $db= $cm->getByHost('uskanews', 0);
         
         // Add all categories to the formresult
-        $n= &$response->addFormResult(new Node('categories'));
-        $q= &$db->query(
+        $n= $response->addFormResult(new Node('categories'));
+        $q= $db->query(
           'select categoryid, category_name from serendipity_category where parentid= %d',
           $this->getParentCategory($request)
         );
@@ -89,7 +89,7 @@
         }
         
         // Fill in all days for which an entry exists
-        $q= &$db->query('
+        $q= $db->query('
           select 
             dayofmonth(from_unixtime(entry.timestamp)) as day, 
             count(*) as numentries
@@ -112,15 +112,15 @@
         // and returns the corresponding entries). For perfomance reasons, it
         // does a join on entries and categories (which have a 1:n 
         // relationship, so the returned results are not unique)
-        $q= &$this->getEntries($db, $request);
+        $q= $this->getEntries($db, $request);
       } catch (SQLException $e) {
         throw($e);
       }
       
-      $n= &$response->addFormResult(new Node('entries'));
+      $n= $response->addFormResult(new Node('entries'));
       while ($record= $q->next()) {
         if (!isset($entry[$record['id']])) {
-          $entry[$record['id']]= &$n->addChild(new Node('entry', NULL, array('id' => $record['id'])));
+          $entry[$record['id']]= $n->addChild(new Node('entry', NULL, array('id' => $record['id'])));
           $entry[$record['id']]->addChild(new Node('title', $record['title']));
           $entry[$record['id']]->addChild(new Node('author', $record['author']));
           $entry[$record['id']]->addChild(new Node('extended_length', $record['extended_length']));
Index: ports/classes/de/uska/scriptlet/UskaScriptlet.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/UskaScriptlet.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/UskaScriptlet.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  protected
      * @return  &xml.XSLProcessor
      */
-    public function &_processor() {
+    public function _processor() {
       return new DomXSLProcessor();
     }
     
@@ -35,7 +35,7 @@
      * @param   &scriptlet.scriptlet.XMLScriptletRequest request
      * @param   &scriptlet.scriptlet.XMLScriptletResponse response
      */
-    public function _setStylesheet(&$request, &$response) {
+    public function _setStylesheet($request, $response) {
       $response->setStylesheet(sprintf(
         '%s/%s.xsl',
         $request->getProduct(),
@@ -51,7 +51,7 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request
      * @return  bool
      */
-    public function wantsContext(&$request) {
+    public function wantsContext($request) {
       return $this->needsSession($request) || $request->hasSession();
     }
   }
Index: ports/classes/de/uska/scriptlet/handler/EditEventHandler.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/handler/EditEventHandler.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/handler/EditEventHandler.class.php	(working copy)
@@ -35,7 +35,7 @@
      * @param   &scriptlet.xml.Context context
      * @return  string
      */
-    public function identifierFor(&$request, &$context) {
+    public function identifierFor($request, $context) {
       return $this->name.'.'.$request->getParam('event_id', 'new');
     }
 
@@ -47,9 +47,9 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function setup(&$request, &$context) {
+    public function setup($request, $context) {
       if (
-        $request->hasParam('event_id', 'new') && ($event= &Event::getByEvent_id($request->getParam('event_id')))
+        $request->hasParam('event_id', 'new') && ($event= Event::getByEvent_id($request->getParam('event_id')))
       ) {
         $this->setFormValue('event_id', $event->getEvent_id());
         $this->setFormValue('event_type', $event->getEvent_type_id());
@@ -57,13 +57,13 @@
         $this->setFormValue('name', $event->getName());
         $this->setFormValue('description', $event->getDescription());
 
-        $tdate= &$event->getTarget_date();
+        $tdate= $event->getTarget_date();
         if ($tdate) {
           $this->setFormValue('target_date', $tdate->toString('d.m.Y'));
           $this->setFormValue('target_time', $tdate->toString('H:i'));
         }
 
-        $ddate= &$event->getDeadline();
+        $ddate= $event->getDeadline();
         if ($ddate) {
           $this->setFormValue('deadline_date', $ddate->toString('d.m.Y'));
           $this->setFormValue('deadline_time', $ddate->toString('H:i'));
@@ -77,7 +77,7 @@
       } else {
       
         // New event, set some default values...
-        $date= &Date::now();
+        $date= Date::now();
         $this->setFormValue('target_date', $date->toString('d.m.Y'));
         $this->setFormValue('target_time', '18:30');
         $this->setFormValue('guests', 1);
@@ -86,12 +86,12 @@
       }
       
       // Select teams
-      $pm= &PropertyManager::getInstance();
-      $prop= &$pm->getProperties('product');
-      $cm= &ConnectionManager::getInstance();
+      $pm= PropertyManager::getInstance();
+      $prop= $pm->getProperties('product');
+      $cm= ConnectionManager::getInstance();
       
       try {
-        $db= &$cm->getByHost('uska', 0);
+        $db= $cm->getByHost('uska', 0);
         $teams= $db->select('
             team_id,
             name
@@ -117,12 +117,12 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function handleSubmittedData(&$request, &$context) {
+    public function handleSubmittedData($request, $context) {
       $sane= TRUE;
       switch ($this->getValue('mode')) {
         case 'update':
           try {
-            $event= &Event::getByEvent_id($this->wrapper->getEvent_id());
+            $event= Event::getByEvent_id($this->wrapper->getEvent_id());
           } catch (SQLException $e) {
             throw($e);
           }
@@ -141,8 +141,8 @@
       $event->setChangedby($context->user->getUsername());
       $event->setLastchange(Date::now());
       
-      $targetdate= &$this->wrapper->getTarget_date();
-      $deadline= &$this->wrapper->getDeadline_date();
+      $targetdate= $this->wrapper->getTarget_date();
+      $deadline= $this->wrapper->getDeadline_date();
       
       list($th, $tm)= preg_split('/[:\.\-]/', $this->wrapper->getTarget_time(), 2);
       $targetdate= new Date(Date::mktime(
@@ -167,7 +167,7 @@
       }
       
       // Check order of dates. Now < deadline < target_date
-      with ($now= &Date::now()); {
+      with ($now= Date::now()); {
         if ($now->isAfter($targetdate)) {
           $this->addError('order', 'target_date');
           $sane= FALSE;
Index: ports/classes/de/uska/scriptlet/handler/LoginHandler.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/handler/LoginHandler.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/handler/LoginHandler.class.php	(working copy)
@@ -28,8 +28,8 @@
       parent::__construct();
       $this->setWrapper(new LoginWrapper());
       
-      $log= &Logger::getInstance();
-      $this->cat= &$log->getCategory();
+      $log= Logger::getInstance();
+      $this->cat= $log->getCategory();
     }
     
     /**
@@ -39,12 +39,12 @@
      * @param   &scriptlet.xml.workflow.WorkflowScriptletRequest request 
      * @param   &scriptlet.xml.Context context
      */
-    public function handleSubmittedData(&$request, &$context) {
-      $cm= &ConnectionManager::getInstance();
-      $wrapper= &$this->getWrapper();
+    public function handleSubmittedData($request, $context) {
+      $cm= ConnectionManager::getInstance();
+      $wrapper= $this->getWrapper();
       
       try {
-        $player= &Player::getByUsername($wrapper->getUsername());
+        $player= Player::getByUsername($wrapper->getUsername());
       } catch (SQLException $e) {
         throw($e);
       }
@@ -67,7 +67,7 @@
       $context->setUser($player);
       
       try {
-        $db= &$cm->getByHost('uska', 0);
+        $db= $cm->getByHost('uska', 0);
         $perms= $db->select('
             p.name
           from
@@ -96,7 +96,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function finalize(&$request, &$response, &$context) {
+    public function finalize($request, $response, $context) {
 
       // Set a cookie
       $response->setCookie(new Cookie('uska-user', $context->user->getUsername()));
Index: ports/classes/de/uska/scriptlet/handler/AccountEventHandler.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/handler/AccountEventHandler.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/handler/AccountEventHandler.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  string
      */
-    public function identifierFor(&$request, &$context) {
+    public function identifierFor($request, $context) {
       return $this->name.'#'.$request->getParam('event_id');
     }
     
@@ -46,16 +46,16 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function setup(&$request, &$context) {
+    public function setup($request, $context) {
       if (!$context->hasPermission('edit_points')) return FALSE;
-      $cm= &ConnectionManager::getInstance();
+      $cm= ConnectionManager::getInstance();
       
       $event_id= $request->getParam('event_id');
       
       try {
-        $db= &$cm->getByHost('uska', 0);
+        $db= $cm->getByHost('uska', 0);
         
-        $query= &$db->query('
+        $query= $db->query('
           select
             p.player_id,
             p.firstname,
@@ -99,12 +99,12 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function handleSubmittedData(&$request, &$context) {
-      $cm= &ConnectionManager::getInstance();
+    public function handleSubmittedData($request, $context) {
+      $cm= ConnectionManager::getInstance();
       try {
-        $db= &$cm->getByHost('uska', 0);
+        $db= $cm->getByHost('uska', 0);
         
-        $transaction= &$db->begin(new Transaction('updpoints'));
+        $transaction= $db->begin(new Transaction('updpoints'));
         
         $submitted= $request->getParam('points');
         foreach ($this->getValue('players') as $p) {
@@ -149,7 +149,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function finalize(&$request, &$response, &$context) {
+    public function finalize($request, $response, $context) {
       $response->forwardTo('event/viewpoints', 'event_id='.$this->getValue('event_id'));
     }
   }
Index: ports/classes/de/uska/scriptlet/handler/AttendEventHandler.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/handler/AttendEventHandler.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/handler/AttendEventHandler.class.php	(working copy)
@@ -37,7 +37,7 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  string
      */
-    public function identifierFor(&$request, &$context) {
+    public function identifierFor($request, $context) {
       return $this->name.'.'.$request->getParam('event_id');
     }
     
@@ -49,7 +49,7 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function setup(&$request, &$context) {
+    public function setup($request, $context) {
       $this->setFormValue('offers_seats', 0);
       if ($request->hasParam('guest')) $this->setValue('mode', 'addguest');
       
@@ -64,11 +64,11 @@
       }
       
       // Check if we're updating or inserting later
-      $attendee= &EventAttendee::getByEvent_idPlayer_id($request->getParam('event_id'), $player_id);
+      $attendee= EventAttendee::getByEvent_idPlayer_id($request->getParam('event_id'), $player_id);
       if ($player_id == $context->user->getPlayer_id()) {
-        $player= &$context->user;
+        $player= $context->user;
       } else {
-        $player= &Player::getByPlayer_id($player_id);
+        $player= Player::getByPlayer_id($player_id);
       }
       
       if ($attendee) {
@@ -84,9 +84,9 @@
       
       // Check that this event is still in the future. If not, only admins may change
       // the attending status
-      $event= &Event::getByEvent_id($request->getParam('event_id'));
-      $deadline_date= &$event->getDeadline();
-      $target_date= &$event->getTarget_date();
+      $event= Event::getByEvent_id($request->getParam('event_id'));
+      $deadline_date= $event->getDeadline();
+      $target_date= $event->getTarget_date();
       if ((($daedline_date && $deadline_date->isBefore(Date::now())) || $target_date->isBefore(Date::now())) && !$context->hasPermission('create_event')) {
         $this->addError('date_expired', '*');
         return FALSE;
@@ -106,8 +106,8 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function handleSubmittedData(&$request, &$context) {
-      $cm= &ConnectionManager::getInstance();
+    public function handleSubmittedData($request, $context) {
+      $cm= ConnectionManager::getInstance();
       
       // Either user requires a driver or he can offer seats - not both.
       if ($this->wrapper->getNeeds_seat() && $this->wrapper->getOffers_seats() > 0) {
@@ -127,13 +127,13 @@
       
       $attendee= $this->wrapper->getPlayer_id();
       try {
-        $db= &$cm->getByHost('uskadb', 0);
-        $transaction= &$db->begin(new Transaction('attend'));
+        $db= $cm->getByHost('uskadb', 0);
+        $transaction= $db->begin(new Transaction('attend'));
         
         // Check if this is a guest attendee
         if ('addguest' == $this->getValue('mode')) {
 
-          $event= &Event::getByEvent_id($this->wrapper->getEvent_id());
+          $event= Event::getByEvent_id($this->wrapper->getEvent_id());
           
           // Prevent adding guests to events without such.
           if (!$event->getAllow_guests()) {
@@ -157,7 +157,7 @@
         }
         
         $newAttend= FALSE;
-        $eventattend= &EventAttendee::getByEvent_idPlayer_id($this->wrapper->getEvent_id(), $attendee);
+        $eventattend= EventAttendee::getByEvent_idPlayer_id($this->wrapper->getEvent_id(), $attendee);
         if (!is('de.uska.db.EventAttendee', $eventattend)) {
           $eventattend= new EventAttendee();
           $eventattend->setEvent_id($this->wrapper->getEvent_id());
@@ -178,7 +178,7 @@
         }
         
         // Check on current number of attendees
-        $event= &Event::getByEvent_id($this->wrapper->getEvent_id());
+        $event= Event::getByEvent_id($this->wrapper->getEvent_id());
         $count= array_shift($db->select('
           count(*) as attendees
           from
@@ -216,7 +216,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response 
      * @param   &scriptlet.xml.Context context
      */
-    public function finalize(&$request, &$response, &$context) {
+    public function finalize($request, $response, $context) {
       $response->forwardTo('event/view', $this->getValue('event_id'));
     }
   }
Index: ports/classes/de/uska/scriptlet/handler/EditPlayerHandler.class.php
===================================================================
--- ports/classes/de/uska/scriptlet/handler/EditPlayerHandler.class.php	(revision 8952)
+++ ports/classes/de/uska/scriptlet/handler/EditPlayerHandler.class.php	(working copy)
@@ -36,7 +36,7 @@
      * @param   &scriptlet.xml.Context context
      * @return  string
      */
-    public function identifierFor(&$request, &$context) {
+    public function identifierFor($request, $context) {
       return $this->name.'.'.$request->getParam('player_id', 'new');
     }
     
@@ -48,10 +48,10 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function setup(&$request, &$context) {
+    public function setup($request, $context) {
       if (
         $request->hasParam('player_id') && 
-        ($player= &Player::getByPlayer_id($request->getParam('player_id')))
+        ($player= Player::getByPlayer_id($request->getParam('player_id')))
       ) {
       
         // Check for admin permission, if not editing himself
@@ -79,12 +79,12 @@
       }
       
       // Select teams
-      $pm= &PropertyManager::getInstance();
-      $prop= &$pm->getProperties('product');
-      $cm= &ConnectionManager::getInstance();
+      $pm= PropertyManager::getInstance();
+      $prop= $pm->getProperties('product');
+      $cm= ConnectionManager::getInstance();
       
       try {
-        $db= &$cm->getByHost('uska', 0);
+        $db= $cm->getByHost('uska', 0);
         $teams= $db->select('
             team_id,
             name
@@ -137,14 +137,14 @@
      * @param   &scriptlet.xml.workflow.Context context
      * @return  boolean
      */
-    public function handleSubmittedData(&$request, &$context) {
-      $log= &Logger::getInstance();
-      $cat= &$log->getCategory();
+    public function handleSubmittedData($request, $context) {
+      $log= Logger::getInstance();
+      $cat= $log->getCategory();
       
       switch ($this->getValue('mode')) {
         case 'update':
           try {
-            $player= &Player::getByPlayer_id($this->wrapper->getPlayer_id());
+            $player= Player::getByPlayer_id($this->wrapper->getPlayer_id());
           } catch (SQLException $e) {
             throw($e);
           }
@@ -175,7 +175,7 @@
       }
       
       // update email, remember old one for ezmlm updates
-      $email= &$this->wrapper->getEmail();
+      $email= $this->wrapper->getEmail();
       $oldemail= NULL;
       if ($player->getEmail() != $email->localpart.'@'.$email->domain) $oldemail= $player->getEmail();
       $player->setEmail($email->localpart.'@'.$email->domain);
@@ -191,11 +191,11 @@
       
       // Now insert or update...
       try {
-        $peer= &Player::getPeer();
-        $transaction= &$peer->begin(new Transaction('editplayer'));
+        $peer= Player::getPeer();
+        $transaction= $peer->begin(new Transaction('editplayer'));
         
-        $cm= &ConnectionManager::getInstance();
-        $db= &$cm->getByHost($peer->connection, 0);
+        $cm= ConnectionManager::getInstance();
+        $db= $cm->getByHost($peer->connection, 0);
         
         if ($this->getValue('mode') == 'update') {
           $player->update();
Index: ports/classes/de/uska/EzmlmSqlUtil.class.php
===================================================================
--- ports/classes/de/uska/EzmlmSqlUtil.class.php	(revision 8952)
+++ ports/classes/de/uska/EzmlmSqlUtil.class.php	(working copy)
@@ -41,8 +41,8 @@
      * @access  public
      * @param   &rdbms.mysql.MysqlConnection db
      */
-    public function setConnection(&$db) {
-      $this->db= &$db;
+    public function setConnection($db) {
+      $this->db= $db;
     }
   
     /**
@@ -75,7 +75,7 @@
      * @return  string[]
      */
     public function getSubscribers() {
-      $q= &$this->db->query('
+      $q= $this->db->query('
         select
           address
         from
Index: ports/classes/de/thekid/dialog/AlbumChapter.class.php
===================================================================
--- ports/classes/de/thekid/dialog/AlbumChapter.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/AlbumChapter.class.php	(working copy)
@@ -51,8 +51,8 @@
      * @access  public
      * @param   &de.thekid.dialog.AlbumImage image
      */
-    public function addImage(&$image) {
-      $this->images[]= &$image;
+    public function addImage($image) {
+      $this->images[]= $image;
     }
 
     /**
@@ -63,7 +63,7 @@
      * @param   int i
      * @return  &de.thekid.dialog.AlbumImage
      */
-    public function &imageAt($i) {
+    public function imageAt($i) {
       if (!isset($this->images[$i])) return NULL;
       return $this->images[$i];
     }
Index: ports/classes/de/thekid/dialog/GroupByHourStrategy.class.php
===================================================================
--- ports/classes/de/thekid/dialog/GroupByHourStrategy.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/GroupByHourStrategy.class.php	(working copy)
@@ -20,7 +20,7 @@
      * @param   &de.thekid.dialog.AlbumImage
      * @return  string unique group identifier
      */
-    public function groupFor(&$image) { 
+    public function groupFor($image) { 
       return $image->exifData->dateTime->toString('Y-m-d H');
     }
   
Index: ports/classes/de/thekid/dialog/GroupByDayStrategy.class.php
===================================================================
--- ports/classes/de/thekid/dialog/GroupByDayStrategy.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/GroupByDayStrategy.class.php	(working copy)
@@ -20,7 +20,7 @@
      * @param   &de.thekid.dialog.AlbumImage
      * @return  string unique group identifier
      */
-    public function groupFor(&$image) { 
+    public function groupFor($image) { 
       return $image->exifData->dateTime->toString('Y-m-d');
     }
   
Index: ports/classes/de/thekid/dialog/IEntry.class.php
===================================================================
--- ports/classes/de/thekid/dialog/IEntry.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/IEntry.class.php	(working copy)
@@ -17,6 +17,6 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDate();
+    public function getDate();
   }
 ?>
Index: ports/classes/de/thekid/dialog/io/IndexCreator.class.php
===================================================================
--- ports/classes/de/thekid/dialog/io/IndexCreator.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/io/IndexCreator.class.php	(working copy)
@@ -55,9 +55,9 @@
      * @param   &io.Folder folder
      * @return  &de.thekid.dialog.io.IndexCreator
      */
-    public static function &forFolder(&$folder) {
+    public static function forFolder($folder) {
       $i= new IndexCreator();
-      $i->folder= &$folder;
+      $i->folder= $folder;
       return $i;
     }
     
@@ -74,13 +74,13 @@
         $entry= $i->next();
         $file= new File($entry);
         try {
-          $data= &unserialize(FileUtil::getContents($file));
+          $data= unserialize(FileUtil::getContents($file));
         } catch (IOException $e) {
           $e->printStackTrace();
           exit(-1);
         }
 
-        $date= &$data->getDate();
+        $date= $data->getDate();
         $this->cat && $this->cat->debugf(
           '---> %s "%s" @ %s', 
           xp::typeOf($data),
@@ -143,8 +143,8 @@
      * @access  public
      * @param   &util.log.LogCategory cat
      */
-    public function setTrace(&$cat) {
-      $this->cat= &$cat;
+    public function setTrace($cat) {
+      $this->cat= $cat;
     }
 
   } 
Index: ports/classes/de/thekid/dialog/io/ShotProcessor.class.php
===================================================================
--- ports/classes/de/thekid/dialog/io/ShotProcessor.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/io/ShotProcessor.class.php	(working copy)
@@ -39,10 +39,10 @@
      * @param   int[2] dimensions (0 = X, 1 = Y)
      * @return  &img.Image
      */
-    public function resampleToFixedCut(&$origin, $dimensions) {
+    public function resampleToFixedCut($origin, $dimensions) {
       $this->cat && $this->cat->debug('Resampling image to fixed', implode('x', $dimensions));
       
-      with ($resized= &Image::create($dimensions[0], $dimensions[1], IMG_TRUECOLOR)); {
+      with ($resized= Image::create($dimensions[0], $dimensions[1], IMG_TRUECOLOR)); {
         $factor= $origin->getWidth() / $resized->getWidth();
         $cut= max(0, intval(((($origin->getHeight() / $factor) - $dimensions[1]) * $factor) / 2));
         
@@ -61,7 +61,7 @@
      * @param   &img.util.ExifData exifData
      * @return  &img.Image
      */
-    public function detailImageFor(&$origin, &$exifData) {
+    public function detailImageFor($origin, $exifData) {
       return $this->resampleToFixedCut($origin, $this->detailDimensions);
     }
 
@@ -73,8 +73,8 @@
      * @param   &img.util.ExifData exifData
      * @return  &img.Image
      */
-    public function grayScaleThumbImageFor(&$origin, &$exifData) {
-      $resized= &$this->resampleToFixedCut($origin, $this->thumbDimensions);
+    public function grayScaleThumbImageFor($origin, $exifData) {
+      $resized= $this->resampleToFixedCut($origin, $this->thumbDimensions);
       $resized->convertTo($this->converter['grayscale']);
       return $resized;
     }
@@ -87,8 +87,8 @@
      * @param   &img.util.ExifData exifData
      * @return  &img.Image
      */
-    public function grayScaleFullImageFor(&$origin, &$exifData) {
-      $resized= &$this->resampleTo($origin, $exifData->isHorizontal(), $this->fullDimensions);
+    public function grayScaleFullImageFor($origin, $exifData) {
+      $resized= $this->resampleTo($origin, $exifData->isHorizontal(), $this->fullDimensions);
       $resized->convertTo($this->converter['grayscale']);
       return $resized;
     }
@@ -100,7 +100,7 @@
      * @param   &io.File in
      * @return  de.thekid.dialog.io.ProcessorTarget[]
      */
-    public function targetsFor(&$in) {
+    public function targetsFor($in) {
       return array(
         new ProcessorTarget('detailImageFor', 'detail.'.$in->getFilename(), TRUE),
         new ProcessorTarget('fullImageFor', 'color.'.$in->getFilename(), TRUE),
Index: ports/classes/de/thekid/dialog/io/ImageProcessor.class.php
===================================================================
--- ports/classes/de/thekid/dialog/io/ImageProcessor.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/io/ImageProcessor.class.php	(working copy)
@@ -38,8 +38,8 @@
      * @access  public
      * @param   &io.Folder outputFolder
      */
-    public function setOutputFolder(&$outputFolder) {
-      $this->outputFolder= &$outputFolder;
+    public function setOutputFolder($outputFolder) {
+      $this->outputFolder= $outputFolder;
     }
     
     /**
@@ -50,8 +50,8 @@
      * @param   &img.filter.ImageFilter filter
      * @return  &img.filter.ImageFilter filter
      */
-    public function &addFilter(&$filter) {
-      $this->filters[]= &$filter;
+    public function addFilter($filter) {
+      $this->filters[]= $filter;
       return $filter;
     }
 
@@ -61,7 +61,7 @@
      * @access  public
      * @return  &io.Folder
      */
-    public function &getOutputFolder() {
+    public function getOutputFolder() {
       return $this->outputFolder;
     }
     
@@ -94,7 +94,7 @@
      * @param   int[2] dimensions (0 = X, 1 = Y)
      * @return  &img.Image
      */
-    public function resampleTo(&$origin, $horizontal, $dimensions) {
+    public function resampleTo($origin, $horizontal, $dimensions) {
     
       // Check whether the picture is landscape or portrait
       if ($origin->getWidth() < $origin->getHeight()) {
@@ -121,7 +121,7 @@
         $d[0],
         $d[1]
       );
-      $resized= &Image::create($d[0], $d[1], IMG_TRUECOLOR);
+      $resized= Image::create($d[0], $d[1], IMG_TRUECOLOR);
       $resized->resampleFrom($origin);
       return $resized;
     }
@@ -137,10 +137,10 @@
      * @param   &img.Color color
      * @return  &img.Image
      */
-    public function resampleToFixed(&$origin, $dimensions, &$color) {
+    public function resampleToFixed($origin, $dimensions, $color) {
       $this->cat && $this->cat->debug('Resampling image to fixed', implode('x', $dimensions));
       
-      with ($resized= &Image::create($dimensions[0], $dimensions[1], IMG_TRUECOLOR)); {
+      with ($resized= Image::create($dimensions[0], $dimensions[1], IMG_TRUECOLOR)); {
         $factor= $origin->getHeight() / $resized->getHeight();
         $border= intval(($resized->getWidth() - $origin->getWidth() / $factor) / 2);
         if ($border > 0) {
@@ -160,7 +160,7 @@
      * @param   &img.util.ExifData exifData
      * @return  &img.Image
      */
-    public function thumbImageFor(&$origin, &$exifData) {
+    public function thumbImageFor($origin, $exifData) {
       return $this->resampleToFixed($origin, $this->thumbDimensions, new Color('#ffffff'));
     }
 
@@ -172,7 +172,7 @@
      * @param   &img.util.ExifData exifData
      * @return  &img.Image
      */
-    public function fullImageFor(&$origin, &$exifData) {
+    public function fullImageFor($origin, $exifData) {
       return $this->resampleTo($origin, $exifData->isHorizontal(), $this->fullDimensions);
     }
     
@@ -183,7 +183,7 @@
      * @param   &io.File in
      * @return  de.thekid.dialog.io.ProcessorTarget[]
      */
-    public function targetsFor(&$in) {
+    public function targetsFor($in) {
       return array(
         new ProcessorTarget('thumbImageFor', 'thumb.'.$in->getFilename(), FALSE),
         new ProcessorTarget('fullImageFor', $in->getFilename(), TRUE)
@@ -198,14 +198,14 @@
      * @return  &de.thekid.dialog.AlbumImage
      * @throws  img.ImagingException in case of an error
      */
-    public function &albumImageFor($filename) {
+    public function albumImageFor($filename) {
       with ($image= new AlbumImage(basename($filename))); {
         $in= new File($filename);
 
         // Read the image's EXIF data
         $this->cat && $this->cat->debug('Extracting EXIF data from', $filename);        
         try {
-          $image->exifData= &ExifData::fromFile($in);
+          $image->exifData= ExifData::fromFile($in);
         } catch (ImagingException $e) {
           $this->cat && $this->cat->error($e);
           throw($e);
@@ -227,7 +227,7 @@
           if (!isset($origin)) {
             $this->cat && $this->cat->debug('Loading', $filename);        
             try {
-              $origin= &Image::loadFrom(new StreamReader($in));
+              $origin= Image::loadFrom(new StreamReader($in));
             } catch (ImagingException $e) {
               $this->cat && $this->cat->error($e);
               throw($e);
@@ -235,7 +235,7 @@
           }
           
           // Transform
-          $transformed= &$this->{$target->getMethod()}($origin, $image->exifData);
+          $transformed= $this->{$target->getMethod()}($origin, $image->exifData);
           
           // Apply post-transform filters if specified by the target
           if ($target->getApplyFilters()) {
@@ -276,8 +276,8 @@
      * @access  public
      * @param   &util.log.LogCategory cat
      */
-    public function setTrace(&$cat) {
-      $this->cat= &$cat;
+    public function setTrace($cat) {
+      $this->cat= $cat;
     }
 
   } 
Index: ports/classes/de/thekid/dialog/io/FilteredFolderIterator.class.php
===================================================================
--- ports/classes/de/thekid/dialog/io/FilteredFolderIterator.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/io/FilteredFolderIterator.class.php	(working copy)
@@ -37,8 +37,8 @@
      * @param   string pattern regular expression
      * @param   bool recursive default FALSE whether to recurse into subdirectories
      */
-    public function __construct(&$folder, $pattern, $recursive= FALSE) {
-      $this->folders= array(&$folder);
+    public function __construct($folder, $pattern, $recursive= FALSE) {
+      $this->folders= array($folder);
       $this->pattern= $pattern;
       $this->recursive= $recursive;
     }
Index: ports/classes/de/thekid/dialog/GroupingStrategy.class.php
===================================================================
--- ports/classes/de/thekid/dialog/GroupingStrategy.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/GroupingStrategy.class.php	(working copy)
@@ -18,7 +18,7 @@
      * @param   &de.thekid.dialog.AlbumImage
      * @return  string unique group identifier
      */
-    public function groupFor(&$image);
+    public function groupFor($image);
   
   }
 ?>
Index: ports/classes/de/thekid/dialog/EntryCollection.class.php
===================================================================
--- ports/classes/de/thekid/dialog/EntryCollection.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/EntryCollection.class.php	(working copy)
@@ -66,8 +66,8 @@
      * @access  public
      * @param   &lang.Object createdAt
      */
-    public function setCreatedAt(&$createdAt) {
-      $this->createdAt= &$createdAt;
+    public function setCreatedAt($createdAt) {
+      $this->createdAt= $createdAt;
     }
 
     /**
@@ -76,7 +76,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getCreatedAt() {
+    public function getCreatedAt() {
       return $this->createdAt;
     }
 
@@ -87,7 +87,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDate() {
+    public function getDate() {
       return $this->createdAt;
     }
 
@@ -118,8 +118,8 @@
      * @param   &de.thekid.dialog.IEntry entry
      * @return  &de.thekid.dialog.IEntry the added entry
      */
-    public function &addEntry(&$entry) {
-      $this->entries[]= &$entry;
+    public function addEntry($entry) {
+      $this->entries[]= $entry;
       return $entry;
     }
 
@@ -131,7 +131,7 @@
      * @param   int i
      * @return  &de.thekid.dialog.IEntry
      */
-    public function &entryAt($i) {
+    public function entryAt($i) {
       if (!isset($this->entries[$i])) return NULL;
       return $this->entries[$i];
     }
Index: ports/classes/de/thekid/dialog/scriptlet/state/ViewCollectionState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/state/ViewCollectionState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/state/ViewCollectionState.class.php	(working copy)
@@ -21,9 +21,9 @@
      * @access  public
      */
     public function __construct() {
-      for ($c= &$this->getClass(), $m= $c->getMethods(), $i= 0, $s= sizeof($m); $i < $s; $i++) {
+      for ($c= $this->getClass(), $m= $c->getMethods(), $i= 0, $s= sizeof($m); $i < $s; $i++) {
         $m[$i]->hasAnnotation('handles') && (
-          $this->nodeHandlers[$m[$i]->getAnnotation('handles')]= &$m[$i]
+          $this->nodeHandlers[$m[$i]->getAnnotation('handles')]= $m[$i]
         );
       }
     }
@@ -36,7 +36,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.Album')]
-    public function &albumNode(&$album) {
+    public function albumNode($album) {
       $child= new Node('entry', NULL, array(
         'name'          => $album->getName(),
         'title'         => $album->getTitle(),
@@ -58,7 +58,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.Update')]
-    public function &updateNode(&$update) {
+    public function updateNode($update) {
       $child= new Node('entry', NULL, array(
         'album'         => $update->getAlbumName(),
         'title'         => $update->getTitle()
@@ -77,7 +77,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.SingleShot')]
-    public function &shotNode(&$shot) {
+    public function shotNode($shot) {
       $child= new Node('entry', NULL, array(
         'name'      => $shot->getName(),
         'filename'  => $shot->getFileName(),
@@ -97,7 +97,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.EntryCollection')]
-    public function &collectionNode(&$collection) {
+    public function collectionNode($collection) {
       $numEntries= $collection->numEntries();
       $node= new Node('entry', NULL, array(
         'name'          => $collection->getName(),
@@ -108,12 +108,12 @@
       $node->addChild(Node::fromObject($collection->createdAt, 'created'));
       
       for ($i= 0; $i < $numEntries; $i++) {
-        $entry= &$collection->entryAt($i);
+        $entry= $collection->entryAt($i);
         if (!isset($this->nodeHandlers[$entry->getClassName()])) {
           throw(new FormatException('Index contains unknown element "'.$entry->getClassName().'"'));
         }
         
-        $child= &$node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
+        $child= $node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
         $child->setAttribute('type', $entry->getClassName());
       }
       
@@ -128,11 +128,11 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.workflow.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       $name= $request->getQueryString();
 
-      if ($collection= &$this->getEntryFor($name)) {
-        $child= &$response->addFormResult(new Node('collection', NULL, array(
+      if ($collection= $this->getEntryFor($name)) {
+        $child= $response->addFormResult(new Node('collection', NULL, array(
           'name'         => $collection->getName(),
           'title'        => $collection->getTitle(),
           'page'         => $this->getDisplayPageFor($name)
@@ -141,13 +141,13 @@
         $child->addChild(Node::fromObject($collection->createdAt, 'created'));
       	
         // Add entries from collection 
-        $node= &$response->addFormResult(new Node('entries'));
+        $node= $response->addFormResult(new Node('entries'));
         foreach ($collection->entries as $entry) {
           if (!isset($this->nodeHandlers[$entry->getClassName()])) {
             throw(new FormatException('Index contains unknown element "'.$entry->getClassName().'"'));
           }
 
-          $child= &$node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
+          $child= $node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
           $child->setAttribute('type', $entry->getClassName());
         }
       }
Index: ports/classes/de/thekid/dialog/scriptlet/state/StaticState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/state/StaticState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/state/StaticState.class.php	(working copy)
@@ -21,9 +21,9 @@
      * @access  public
      */
     public function __construct() {
-      for ($c= &$this->getClass(), $m= $c->getMethods(), $i= 0, $s= sizeof($m); $i < $s; $i++) {
+      for ($c= $this->getClass(), $m= $c->getMethods(), $i= 0, $s= sizeof($m); $i < $s; $i++) {
         $m[$i]->hasAnnotation('handles') && (
-          $this->nodeHandlers[$m[$i]->getAnnotation('handles')]= &$m[$i]
+          $this->nodeHandlers[$m[$i]->getAnnotation('handles')]= $m[$i]
         );
       }
     }
@@ -36,7 +36,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.Album')]
-    public function &albumNode(&$album) {
+    public function albumNode($album) {
       $child= new Node('entry', NULL, array(
         'name'          => $album->getName(),
         'title'         => $album->getTitle(),
@@ -58,7 +58,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.Update')]
-    public function &updateNode(&$update) {
+    public function updateNode($update) {
       $child= new Node('entry', NULL, array(
         'album'         => $update->getAlbumName(),
         'title'         => $update->getTitle()
@@ -77,7 +77,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.SingleShot')]
-    public function &shotNode(&$shot) {
+    public function shotNode($shot) {
       $child= new Node('entry', NULL, array(
         'name'      => $shot->getName(),
         'filename'  => $shot->getFileName(),
@@ -97,7 +97,7 @@
      * @return  &xml.Node node
      */
     #[@handles('de.thekid.dialog.EntryCollection')]
-    public function &collectionNode(&$collection) {
+    public function collectionNode($collection) {
       $numEntries= $collection->numEntries();
       $node= new Node('entry', NULL, array(
         'name'          => $collection->getName(),
@@ -108,12 +108,12 @@
       $node->addChild(Node::fromObject($collection->createdAt, 'created'));
       
       for ($i= 0; $i < $numEntries; $i++) {
-        $entry= &$collection->entryAt($i);
+        $entry= $collection->entryAt($i);
         if (!isset($this->nodeHandlers[$entry->getClassName()])) {
           throw(new FormatException('Index contains unknown element "'.$entry->getClassName().'"'));
         }
         
-        $child= &$node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
+        $child= $node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
         $child->setAttribute('type', $entry->getClassName());
       }
       
@@ -128,7 +128,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.workflow.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       sscanf($request->getQueryString(), 'page%d', $page);
       $index= $this->getIndexPage((int)$page);
       
@@ -140,14 +140,14 @@
       )));
       
       // Add entries from index
-      $node= &$response->addFormResult(new Node('entries'));
+      $node= $response->addFormResult(new Node('entries'));
       foreach ($index['entries'] as $name) {
-        $entry= &$this->getEntryFor($name);
+        $entry= $this->getEntryFor($name);
         if (!isset($this->nodeHandlers[$entry->getClassName()])) {
           throw(new FormatException('Index contains unknown element "'.$entry->getClassName().'"'));
         }
 
-        $child= &$node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array(&$entry)));
+        $child= $node->addChild($this->nodeHandlers[$entry->getClassName()]->invoke($this, array($entry)));
         $child->setAttribute('type', $entry->getClassName());
       }
     }
Index: ports/classes/de/thekid/dialog/scriptlet/state/ViewShotState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/state/ViewShotState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/state/ViewShotState.class.php	(working copy)
@@ -21,7 +21,7 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.workflow.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       static $modes= array(
         0 => 'color',
         1 => 'gray'
@@ -34,8 +34,8 @@
         throw(new IllegalAccessException('Malformed query string'));
       }
 
-      if ($shot= &$this->getEntryFor($name, 'de.thekid.dialog.SingleShot')) {
-        $s= &$response->addFormResult(Node::fromObject($shot, 'selected'));
+      if ($shot= $this->getEntryFor($name, 'de.thekid.dialog.SingleShot')) {
+        $s= $response->addFormResult(Node::fromObject($shot, 'selected'));
         $s->setAttribute('mode', $modes[$mode]);
         $s->setAttribute('page', $this->getDisplayPageFor($name));
       }
Index: ports/classes/de/thekid/dialog/scriptlet/state/ViewAlbumState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/state/ViewAlbumState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/state/ViewAlbumState.class.php	(working copy)
@@ -21,11 +21,11 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.workflow.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       $name= $request->getQueryString();
 
-      if ($album= &$this->getAlbumFor($name)) {
-        $child= &$response->addFormResult(new Node('album', NULL, array(
+      if ($album= $this->getAlbumFor($name)) {
+        $child= $response->addFormResult(new Node('album', NULL, array(
           'name'         => $album->getName(),
           'title'        => $album->getTitle(),
           'num_images'   => $album->numImages(),
@@ -40,7 +40,7 @@
         // Check if an album is inside a collection
         if (FALSE === ($p= strpos($name, '/'))) return; 
 
-        $parent= &$this->getEntryFor(substr($name, 0, $p));
+        $parent= $this->getEntryFor(substr($name, 0, $p));
         $child->setAttribute('page', $this->getDisplayPageFor($parent->getName()));
         $child->addChild(new Node('collection', NULL, array(
           'name'         => $parent->getName(),
Index: ports/classes/de/thekid/dialog/scriptlet/state/ViewImageState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/state/ViewImageState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/state/ViewImageState.class.php	(working copy)
@@ -21,15 +21,15 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.workflow.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       if (4 != sscanf($request->getQueryString(), '%[^,],%1s,%d,%d', $name, $type, $chapter, $id)) {
         throw(new IllegalAccessException('Malformed query string'));
       }
       
-      if ($album= &$this->getAlbumFor($name)) {
+      if ($album= $this->getAlbumFor($name)) {
 
         // Add formresult information about the album
-        $child= &$response->addFormResult(new Node('album', NULL, array(
+        $child= $response->addFormResult(new Node('album', NULL, array(
           'name'  => $album->getName(),
           'title' => $album->getTitle(),
           'page'  => $this->getDisplayPageFor($name)
@@ -52,7 +52,7 @@
         $next= $prev= NULL;
         switch ($type) {
           case 'h': {
-            $selected= &$response->addFormResult(Node::fromObject($album->highlightAt($id), 'selected'));
+            $selected= $response->addFormResult(Node::fromObject($album->highlightAt($id), 'selected'));
             if ($id < $album->numHighlights() - 1) {
               $next= sprintf('h,0,%d', $id+ 1);
             } else if (($album->numChapters() > 0) && ($album->chapters[0]->numImages() > 0)) {
@@ -65,7 +65,7 @@
           }
 
           case 'i': {
-            $selected= &$response->addFormResult(Node::fromObject($album->chapters[$chapter]->imageAt($id), 'selected'));
+            $selected= $response->addFormResult(Node::fromObject($album->chapters[$chapter]->imageAt($id), 'selected'));
             if ($id < $album->chapters[$chapter]->numImages() - 1) {
               $next= sprintf('i,%d,%d', $chapter, $id+ 1);
             } elseif ($chapter < $album->numChapters() - 1) {
@@ -90,7 +90,7 @@
         // Check if an album is inside a collection
         if (FALSE === ($p= strpos($name, '/'))) return; 
 
-        $parent= &$this->getEntryFor(substr($name, 0, $p));
+        $parent= $this->getEntryFor(substr($name, 0, $p));
         $child->setAttribute('page', $this->getDisplayPageFor($parent->getName()));
         $child->addChild(new Node('collection', NULL, array(
           'name'         => $parent->getName(),
Index: ports/classes/de/thekid/dialog/scriptlet/state/ViewChapterState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/state/ViewChapterState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/state/ViewChapterState.class.php	(working copy)
@@ -21,19 +21,19 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.workflow.Context context
      */
-    public function process(&$request, &$response, &$context) {
+    public function process($request, $response, $context) {
       if (2 != sscanf($request->getQueryString(), '%[^,],%d', $name, $id)) {
         throw(new IllegalAccessException('Malformed query string'));
       }
 
-      if ($album= &$this->getAlbumFor($name)) {
-        $child= &$response->addFormResult(new Node('album', NULL, array(
+      if ($album= $this->getAlbumFor($name)) {
+        $child= $response->addFormResult(new Node('album', NULL, array(
           'name'  => $album->getName(),
           'title' => $album->getTitle(),
           'page'  => $this->getDisplayPageFor($name)
         )));
 
-        $chapter= &$response->addFormResult(Node::fromObject($album->chapterAt($id), 'chapter'));
+        $chapter= $response->addFormResult(Node::fromObject($album->chapterAt($id), 'chapter'));
         $chapter->setAttribute('id', $id+ 1);
         $chapter->setAttribute('previous', $id == 0 ? NULL : $id - 1);
         $chapter->setAttribute('next', $id == $album->numChapters() - 1 ? NULL : $id + 1);
@@ -41,7 +41,7 @@
         // Check if an album is inside a collection
         if (FALSE === ($p= strpos($name, '/'))) return; 
 
-        $parent= &$this->getEntryFor(substr($name, 0, $p));
+        $parent= $this->getEntryFor(substr($name, 0, $p));
         $child->setAttribute('page', $this->getDisplayPageFor($parent->getName()));
         $child->addChild(new Node('collection', NULL, array(
           'name'         => $parent->getName(),
Index: ports/classes/de/thekid/dialog/scriptlet/WebsiteScriptlet.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/WebsiteScriptlet.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/WebsiteScriptlet.class.php	(working copy)
@@ -23,7 +23,7 @@
      * @access  protected
      * @return  &.xml.XSLProcessor
      */
-    public function &_processor() {
+    public function _processor() {
       return new DomXSLProcessor();
     }
 
@@ -34,7 +34,7 @@
      * @param   &scriptlet.scriptlet.XMLScriptletRequest request
      * @param   &scriptlet.scriptlet.XMLScriptletResponse response
      */
-    public function _setStylesheet(&$request, &$response) {
+    public function _setStylesheet($request, $response) {
       $response->setStylesheet(sprintf(
         '%s/%s.xsl',
         $request->getProduct(),
Index: ports/classes/de/thekid/dialog/scriptlet/AbstractDialogState.class.php
===================================================================
--- ports/classes/de/thekid/dialog/scriptlet/AbstractDialogState.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/scriptlet/AbstractDialogState.class.php	(working copy)
@@ -65,9 +65,9 @@
      * @return  &de.thekid.dialog.IEntry
      * @throws  lang.IllegalArgumentException if found entry is not of expected type
      */
-    public function &_getEntryFor($name, $expect) {
+    public function _getEntryFor($name, $expect) {
       try {
-        $entry= &unserialize(FileUtil::getContents(new File($this->dataLocation.$name.'.dat')));
+        $entry= unserialize(FileUtil::getContents(new File($this->dataLocation.$name.'.dat')));
       } catch (IOException $e) {
         throw($e);
       }
@@ -89,7 +89,7 @@
      * @param   string name
      * @return  &de.thekid.dialog.IEntry
      */
-    public function &getEntryFor($name) {
+    public function getEntryFor($name) {
       return $this->_getEntryFor($name, 'de.thekid.dialog.IEntry');
     }
 
@@ -101,7 +101,7 @@
      * @return  &de.thekid.dialog.Album
      * @throws  lang.IllegalArgumentException if it is not an album
      */
-    public function &getAlbumFor($name) {
+    public function getAlbumFor($name) {
       return $this->_getEntryFor($name, 'de.thekid.dialog.Album');
     }
     
@@ -113,12 +113,12 @@
      * @param   &scriptlet.xml.XMLScriptletResponse response
      * @param   &scriptlet.xml.Context context
      */
-    public function setup(&$request, &$response, &$context) {
+    public function setup($request, $response, $context) {
       parent::setup($request, $response, $context);
       
       // Read configuration
-      $pm= &PropertyManager::getInstance();
-      with ($prop= &$pm->getProperties($request->getProduct())); {
+      $pm= PropertyManager::getInstance();
+      with ($prop= $pm->getProperties($request->getProduct())); {
         $this->dataLocation= $prop->readString(
           'data',
           'location',
Index: ports/classes/de/thekid/dialog/SingleShot.class.php
===================================================================
--- ports/classes/de/thekid/dialog/SingleShot.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/SingleShot.class.php	(working copy)
@@ -111,8 +111,8 @@
      * @access  public
      * @param   &util.Date date
      */
-    public function setDate(&$date) {
-      $this->date= &$date;
+    public function setDate($date) {
+      $this->date= $date;
     }
 
     /**
@@ -121,7 +121,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDate() {
+    public function getDate() {
       return $this->date;
     }
 
@@ -131,8 +131,8 @@
      * @access  public
      * @param   &de.thekid.dialog.AlbumImage image
      */
-    public function setImage(&$image) {
-      $this->image= &$image;
+    public function setImage($image) {
+      $this->image= $image;
     }
 
     /**
@@ -141,7 +141,7 @@
      * @access  public
      * @return  &de.thekid.dialog.AlbumImage
      */
-    public function &getImage() {
+    public function getImage() {
       return $this->image;
     }
 
Index: ports/classes/de/thekid/dialog/Album.class.php
===================================================================
--- ports/classes/de/thekid/dialog/Album.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/Album.class.php	(working copy)
@@ -71,8 +71,8 @@
      * @access  public
      * @param   &util.Date createdAt
      */
-    public function setCreatedAt(&$createdAt) {
-      $this->createdAt= &$createdAt;
+    public function setCreatedAt($createdAt) {
+      $this->createdAt= $createdAt;
     }
 
     /**
@@ -81,7 +81,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getCreatedAt() {
+    public function getCreatedAt() {
       return $this->createdAt;
     }
     
@@ -92,7 +92,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDate() {
+    public function getDate() {
       return $this->createdAt;
     }
 
@@ -123,8 +123,8 @@
      * @param   &de.thekid.dialog.AlbumImage highlight
      * @return  &de.thekid.dialog.AlbumImage the added highlight
      */
-    public function &addHighlight(&$highlight) {
-      $this->highlights[]= &$highlight;
+    public function addHighlight($highlight) {
+      $this->highlights[]= $highlight;
       return $highlight;
     }
 
@@ -136,7 +136,7 @@
      * @param   int i
      * @return  &de.thekid.dialog.AlbumImage
      */
-    public function &highlightAt($i) {
+    public function highlightAt($i) {
       if (!isset($this->highlights[$i])) return NULL;
       return $this->highlights[$i];
     }
@@ -158,8 +158,8 @@
      * @param   &de.thekid.dialog.AlbumChapter chapter
      * @return  &de.thekid.dialog.AlbumChapter the added chapter
      */
-    public function &addChapter(&$chapter) {
-      $this->chapters[]= &$chapter;
+    public function addChapter($chapter) {
+      $this->chapters[]= $chapter;
       return $chapter;
     }
 
@@ -171,7 +171,7 @@
      * @param   int i
      * @return  &de.thekid.dialog.AlbumChapter
      */
-    public function &chapterAt($i) {
+    public function chapterAt($i) {
       if (!isset($this->chapters[$i])) return NULL;
       return $this->chapters[$i];
     }
Index: ports/classes/de/thekid/dialog/Update.class.php
===================================================================
--- ports/classes/de/thekid/dialog/Update.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/Update.class.php	(working copy)
@@ -85,8 +85,8 @@
      * @access  public
      * @param   &util.Date date
      */
-    public function setDate(&$date) {
-      $this->date= &$date;
+    public function setDate($date) {
+      $this->date= $date;
     }
 
     /**
@@ -95,7 +95,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getDate() {
+    public function getDate() {
       return $this->date;
     }
 
Index: ports/classes/de/thekid/dialog/AlbumImage.class.php
===================================================================
--- ports/classes/de/thekid/dialog/AlbumImage.class.php	(revision 8952)
+++ ports/classes/de/thekid/dialog/AlbumImage.class.php	(working copy)
@@ -53,8 +53,8 @@
      * @access  public
      * @param   &img.util.ExifData exifData
      */
-    public function setExifData(&$exifData) {
-      $this->exifData= &$exifData;
+    public function setExifData($exifData) {
+      $this->exifData= $exifData;
     }
 
     /**
@@ -63,7 +63,7 @@
      * @access  public
      * @return  &img.util.ExifData
      */
-    public function &getExifData() {
+    public function getExifData() {
       return $this->exifData;
     }
     
Index: ports/classes/de/thekid/gui/gtk/MBoxMonitor.class.php
===================================================================
--- ports/classes/de/thekid/gui/gtk/MBoxMonitor.class.php	(revision 8952)
+++ ports/classes/de/thekid/gui/gtk/MBoxMonitor.class.php	(working copy)
@@ -34,7 +34,7 @@
      * @access  public
      * @param   &util.cmd.ParamString p
      */
-    public function __construct(&$p) {
+    public function __construct($p) {
       if (!$p->exists(1)) {
         printf(
           "Usage: gtkphp %1\$s protocol://user:password@server\n".
@@ -80,26 +80,26 @@
       
       // Connect buttons
       GTKWidgetUtil::connect($this->widget('button_receive'), array(
-        ':clicked'  => array(&$this, 'onReceiveButtonClicked')
+        ':clicked'  => array($this, 'onReceiveButtonClicked')
       ));
       GTKWidgetUtil::connect($this->widget('button_expunge'), array(
-        ':clicked'  => array(&$this, 'onExpungeButtonClicked')
+        ':clicked'  => array($this, 'onExpungeButtonClicked')
       ));
       
       // Set up additional widgets we need to access via name
-      $this->statusbar= &$this->widget('statusbar');
-      $this->menu= &$this->widget('menu1');
+      $this->statusbar= $this->widget('statusbar');
+      $this->menu= $this->widget('menu1');
       GTKWidgetUtil::connectChildren($this->menu, array(
-        ':activate'             => array(&$this, 'onMenuItemActivated'),
+        ':activate'             => array($this, 'onMenuItemActivated'),
       ));
       
-      $this->tree= &$this->widget('ctree_messages');
+      $this->tree= $this->widget('ctree_messages');
       $this->tree->set_row_height(18);
       $this->tree->set_line_style(GTK_CTREE_LINES_NONE);
       $this->tree->set_expander_style(GTK_CTREE_EXPANDER_TRIANGLE);
       GTKWidgetUtil::connect($this->tree, array(
-        ':click_column'         => array(&$this, 'onListColumnClicked'),
-        ':button_press_event'   => array(&$this, 'onListButtonPressed'),
+        ':click_column'         => array($this, 'onListColumnClicked'),
+        ':button_press_event'   => array($this, 'onListButtonPressed'),
       ));
       
       // Load art
@@ -121,7 +121,7 @@
     public function onDeleteMenuItemActivated($selection) {
       $this->tree->freeze();
       foreach (array_values($this->tree->selection) as $idx) {
-        $msg= &$this->tree->node_get_row_data($idx);
+        $msg= $this->tree->node_get_row_data($idx);
         
         try {
           $msg->folder->deleteMessage($msg);
@@ -154,7 +154,7 @@
     public function onUndeleteMenuItemActivated($selection) {
       $this->tree->freeze();
       foreach (array_values($this->tree->selection) as $idx) {
-        $msg= &$this->tree->node_get_row_data($idx);
+        $msg= $this->tree->node_get_row_data($idx);
         
         try {
           $msg->folder->undeleteMessage($msg);
@@ -184,9 +184,9 @@
      * @access  protected
      * @param   &php.GtkWidget item
      */
-    public function onMenuItemActivated(&$item) {
+    public function onMenuItemActivated($item) {
       return call_user_func(
-        array(&$this, sprintf('on%sMenuItemActivated', ucfirst($item->get_name()))),
+        array($this, sprintf('on%sMenuItemActivated', ucfirst($item->get_name()))),
         $this->tree->selection
       );
     }
@@ -198,7 +198,7 @@
      * @param   &php.GtkWidget widget
      * @param   &php.GdkEvent event
      */
-    public function onListButtonPressed(&$widget, &$event) {
+    public function onListButtonPressed($widget, $event) {
       if (3 != $event->button || empty($widget->selection)) return;
       
       // Show context menu
@@ -218,7 +218,7 @@
      * @param   &php.GtkWidget widget
      * @param   int column
      */
-    public function onListColumnClicked(&$widget, $column) {
+    public function onListColumnClicked($widget, $column) {
       $this->cat->debug('Column', $column, 'clicked, sorting...');
       $widget->set_sort_column($column);
       $widget->sort();
@@ -247,7 +247,7 @@
      * @access  protected
      * @param   &peer.mail.Message msg
      */
-    public function addMessage(&$msg) {
+    public function addMessage($msg) {
       static $style= NULL;
 
       // Set up child row style
@@ -257,7 +257,7 @@
         $style->fg[GTK_STATE_NORMAL]= $style->fg[GTK_STATE_INSENSITIVE];
       }
       
-      $node= &$this->tree->insert_node(
+      $node= $this->tree->insert_node(
         NULL, 
         NULL, 
         array(
@@ -308,7 +308,7 @@
             continue;
           }
           
-          $child= &$this->tree->insert_node(
+          $child= $this->tree->insert_node(
             $node,
             NULL,
             array(
@@ -334,7 +334,7 @@
       
       // Add headers
       foreach ($msg->headers as $key => $val) {
-        $child= &$this->tree->insert_node(
+        $child= $this->tree->insert_node(
           $node,
           NULL,
           array(
@@ -369,7 +369,7 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onExpungeButtonClicked(&$widget) {
+    public function onExpungeButtonClicked($widget) {
       try {
         $this->stor->expunge();
       } catch (Exception $e) {
@@ -391,10 +391,10 @@
      * @access  protected
      * @param   &php.GtkWidget widget
      */
-    public function onReceiveButtonClicked(&$widget) {
+    public function onReceiveButtonClicked($widget) {
 
       // Set receive button unsensitive
-      $r= &$this->widget('button_receive');
+      $r= $this->widget('button_receive');
       $r->set_sensitive(FALSE);
       
       // Freeze list
@@ -416,11 +416,11 @@
         }
         
         $this->setStatusText('Getting folder contents for '.$mbox);
-        if ($f= &$this->stor->getFolder($mbox)) {
+        if ($f= $this->stor->getFolder($mbox)) {
           $f->open();
           
           $this->tree->clear();
-          while ($msg= &$f->getMessage()) {
+          while ($msg= $f->getMessage()) {
             $this->setStatusText('Retrieving message %s', $msg->uid);
             $this->addMessage($msg);
           }
@@ -441,7 +441,7 @@
       $r->set_sensitive(TRUE);
       
       // Set expunge button sensitive
-      $e= &$this->widget('button_expunge');
+      $e= $this->widget('button_expunge');
       $e->set_sensitive(TRUE);
       
       // Unfreeze list
Index: ports/classes/de/thekid/gui/gtk/Klip.class.php
===================================================================
--- ports/classes/de/thekid/gui/gtk/Klip.class.php	(revision 8952)
+++ ports/classes/de/thekid/gui/gtk/Klip.class.php	(working copy)
@@ -40,7 +40,7 @@
      * @param   &util.cmd.ParamString p
      * @param   &util.Properties prop
      */
-    public function __construct(&$p, &$prop) {
+    public function __construct($p, $prop) {
       parent::__construct($p, dirname($p->value(0)).'/../ui/klip.glade', 'main');
 
       // Initialize visited hashmap to an empty set
@@ -50,9 +50,9 @@
       $this->conn= new HttpConnection($prop->readString('settings', 'url'));
       
       // Set refresh interval, defaulting to 60 seconds
-      $timer= &Gtk::timeout_add(
+      $timer= Gtk::timeout_add(
         $prop->readString('settings', 'refresh', 60) * 1000,
-        array(&$this, 'onRefresh')
+        array($this, 'onRefresh')
       );
 
       // Set up XSL processor
@@ -62,9 +62,9 @@
         dirname($p->value(0)),
         $p->value('skin', 's', $prop->readString('settings', 'skin', 'default'))
       ));
-      $this->proc->setSchemeHandler(array('get_all' => array(&$this, 'onScheme')));
+      $this->proc->setSchemeHandler(array('get_all' => array($this, 'onScheme')));
       
-      $this->prop= &$prop;
+      $this->prop= $prop;
     }
     
     /**
@@ -82,17 +82,17 @@
 
       // Set up GtkHTML
       $this->view= new GtkHtml();
-      $this->view->connect_url_request(array(&$this, 'onURLRequest'));
-      $this->view->connect('link-clicked', array(&$this, 'onLinkClicked'));
-      $this->view->connect('title-changed', array(&$this, 'onTitleChanged'));
-      with ($stream= &$this->view->begin()); {
+      $this->view->connect_url_request(array($this, 'onURLRequest'));
+      $this->view->connect('link-clicked', array($this, 'onLinkClicked'));
+      $this->view->connect('title-changed', array($this, 'onTitleChanged'));
+      with ($stream= $this->view->begin()); {
         $this->streamWrite($stream, '<html></html>');
         $this->view->end($stream, GTK_HTML_STREAM_OK);
       }
 
       // Add the GTKHtml widget to the viewport container and
       // connect the "external" scrollbar
-      with ($viewport= &$this->widget('viewport'), $scroll= &$this->widget('scroll')); {
+      with ($viewport= $this->widget('viewport'), $scroll= $this->widget('scroll')); {
         $viewport->add($this->view);
         $scroll->set_adjustment($viewport->get_vadjustment());
       }
@@ -114,13 +114,13 @@
      * @param   string rest
      * @return  string
      */
-    public function onScheme(&$proc, $scheme, $rest) {
+    public function onScheme($proc, $scheme, $rest) {
       switch ($scheme) {
         case 'rdf':
           $this->cat->debug('Retrieving', $scheme.'('.$rest.')');
           $c= new HttpConnection(substr($rest, 1));
           try {
-            if ($response= &$c->get()) {
+            if ($response= $c->get()) {
               $this->cat->debug('Response headers:', $response->getHeaders());
               $src= '';
               while ($buf= $response->readData(0x2000, $binary= TRUE)) {
@@ -128,7 +128,7 @@
               }
               
               // Parse into a RDFNewsFeed object and create XML strings
-              if ($rdf= &RDFNewsFeed::fromString($src)) {
+              if ($rdf= RDFNewsFeed::fromString($src)) {
                 $s= sizeof($rdf->items);
                 $xml= $rdf->getDeclaration().sprintf('<items count="%d">', $s);
                 for ($i= 0; $i < $s; $i++) {
@@ -168,7 +168,7 @@
      * @param   &php.gtk.GtkWidget widget
      * @param   string url
      */
-    public function onLinkClicked(&$widget, $url) {
+    public function onLinkClicked($widget, $url) {
       $this->cat->debug('Clicked:', $url, 'in widget', $widget);
       $this->visited->put($url, TRUE);
 
@@ -195,7 +195,7 @@
      * @param   &php.gtk.GtkWidget widget
      * @param   string title
      */
-    public function onTitleChanged(&$widget, $title) {
+    public function onTitleChanged($widget, $title) {
       $this->window->set_title('Klip: '.$title);
     }
     
@@ -206,7 +206,7 @@
      * @param   string uri
      * @param   &php.gtk.GtkHTMLStream stream
      */
-    public function onURLRequest($uri, &$stream) {
+    public function onURLRequest($uri, $stream) {
       $this->cat->debug('Requested:', $uri, $stream);
       
       $url= new URL($uri);
@@ -229,7 +229,7 @@
           $c= new HttpConnection($url);
           $this->cat->debug('Loading HTTP element', $url);
           try {
-            if ($response= &$c->get()) {
+            if ($response= $c->get()) {
               $this->cat->debug('Response headers:', $response->getHeaders());
               while ($buf= $response->readData(0x2000, $binary= TRUE)) {
                 $this->streamWrite($stream, $buf);
@@ -256,7 +256,7 @@
      * @param   int len default -1
      * @return  mixed
      */
-    public function streamWrite(&$stream, $str, $len= -1) {
+    public function streamWrite($stream, $str, $len= -1) {
       return $this->view->write($stream, $str, (-1 == $len ? strlen($str) : $len));
     }
     
@@ -275,7 +275,7 @@
       }
       
       // Update GtkHTML view
-      with ($html= $this->proc->output(), $stream= &$this->view->begin()); {
+      with ($html= $this->proc->output(), $stream= $this->view->begin()); {
         $this->cat->debug('Writing to', $this->view, 'html', strlen($html), 'bytes');
         $this->streamWrite($stream, $html);
         $this->view->end($stream, GTK_HTML_STREAM_OK);
@@ -291,14 +291,14 @@
      * @param   &php.gtk.GtkWidget widget
      * @return  bool
      */
-    public function onRefresh(&$widget) {
+    public function onRefresh($widget) {
       
       // Retrieve klip. Prepend header to make encoding default to iso-8859-1,
       // map some known characters (Klip looks like XML but actually isn't 
       // conform - the KlipFolio parser seems to ignore this...) and strip off
       // junk after document element
       try {
-        if ($response= &$this->conn->get()) {
+        if ($response= $this->conn->get()) {
           $klipsrc= XML_HEADER;
           while ($buf= $response->readData()) {
             $klipsrc.= strtr($buf, array(
Index: ports/classes/de/thekid/irc/KrokerdilBotListener.class.php
===================================================================
--- ports/classes/de/thekid/irc/KrokerdilBotListener.class.php	(revision 8952)
+++ ports/classes/de/thekid/irc/KrokerdilBotListener.class.php	(working copy)
@@ -44,8 +44,8 @@
      * @access  public
      * @param   &util.Properties config
      */
-    public function __construct(&$config) {
-      $this->config= &$config;
+    public function __construct($config) {
+      $this->config= $config;
       $this->reloadConfiguration();
       $this->tstart= time();
       $this->mode= MOOD_AWAKE;
@@ -61,8 +61,8 @@
       // Set up quote client
       $this->quote= new Socket('ausredenkalender.informatik.uni-bremen.de', 17);
       
-      $l= &Logger::getInstance();
-      $this->cat= &$l->getCategory();
+      $l= Logger::getInstance();
+      $this->cat= $l->getCategory();
       $this->dictc->setTrace($this->cat);
     }
     
@@ -115,7 +115,7 @@
           $f= new File($base.'karma.list');
           if ($f->exists()) {
             $karma= unserialize(FileUtil::getContents($f));
-            if ($karma) $this->karma= &$karma;
+            if ($karma) $this->karma= $karma;
           }
         } catch (IOException $e) {
         
@@ -160,7 +160,7 @@
      * @param   string message
      * @return  bool success
      */
-    public function sendRandomMessage(&$connection, $target, $list, $nick, $message) {
+    public function sendRandomMessage($connection, $target, $list, $nick, $message) {
       $format= $this->lists[$list][rand(0, sizeof($this->lists[$list])- 1)];
       if (empty($format)) return;
       
@@ -193,7 +193,7 @@
      * @param   string password
      * @return  bool
      */
-    public function doPrivileged(&$connection, $nick, $password) {
+    public function doPrivileged($connection, $nick, $password) {
       if ($this->config->readString('control', 'password') == $password) return TRUE;
       
       $connection->sendMessage($nick, 'Nice try, but >%s< is incorrect', $password);
@@ -250,7 +250,7 @@
      * @param   string mode the mode including a + or - as its first letter
      * @param   string params additional parameters
      */
-    public function onModeChanges(&$connection, $nick, $target, $mode, $params) { 
+    public function onModeChanges($connection, $nick, $target, $mode, $params) { 
       if (strcasecmp($params, $connection->user->getNick()) != 0) return;
 
       $delta= ('-' == $mode[0] ? -10 : 10);
@@ -283,7 +283,7 @@
      * @param   string nick the old nick
      * @param   string new the new nick
      */
-    public function onNickChanges(&$connection, $nick, $new) {
+    public function onNickChanges($connection, $nick, $new) {
       $this->cat && $this->cat->debug('Moving karma from', $nick, 'to', $new);
       $this->setKarma($new, $this->karma[$nick]);
       unset($this->karma[$nick]);
@@ -318,7 +318,7 @@
      * @param   string target
      * @param   string message
      */
-    public function handlePrivateMessageDefault(&$connection, $nick, $target, $message) {
+    public function handlePrivateMessageDefault($connection, $nick, $target, $message) {
 
       // Commands
       if (sscanf($message, "!%s %[^\r]", $command, $params)) {
@@ -809,7 +809,7 @@
      * @param   string target
      * @param   string message
      */
-    public function handlePrivateMessageSleeping(&$connection, $nick, $target, $message) {
+    public function handlePrivateMessageSleeping($connection, $nick, $target, $message) {
     
       // Auto-Wakeup after the specified period of time
       if (time() > $this->registry['wakeup']) {
@@ -857,7 +857,7 @@
      * @param   &peer.irc.IRCConnection connection
      * @param   int time time to sleep
      */
-    public function doSleep(&$connection, $time) {
+    public function doSleep($connection, $time) {
       if ($this->mode == MODE_SLEEP) return;
       
       $this->cat && $this->cat->debugf('Going to sleep for %d seconds', $time);
@@ -885,7 +885,7 @@
      * @access  public
      * @param   &peer.irc.IRCConnection connection
      */
-    public function doWakeup(&$connection) {
+    public function doWakeup($connection) {
       if ($this->mode == MODE_AWAKE) return;
       
       $this->cat && $this->cat->debug('The bot is waking up again. Scheduled wake time was',
@@ -917,7 +917,7 @@
      * @param   string target
      * @param   string message
      */
-    public function onPrivateMessage(&$connection, $nick, $target, $message) {
+    public function onPrivateMessage($connection, $nick, $target, $message) {
       switch ($this->mode) {
         case MODE_AWAKE:
         default:
@@ -939,9 +939,9 @@
      * @param   string target whom the message is for
      * @param   string data
      */
-    public function onEndOfMOTD(&$connection, $server, $target, $data) {
+    public function onEndOfMOTD($connection, $server, $target, $data) {
       if ($this->config->hasSection('autojoin')) {
-        $hash= &$this->config->readHash('autojoin', 'channels');
+        $hash= $this->config->readHash('autojoin', 'channels');
         foreach ($hash->keys() as $channel) {
           
           if (is_numeric($channel)) {
@@ -964,7 +964,7 @@
      * @param   string who who is invited
      * @param   string channel invitation is for
      */
-    public function onInvite(&$connection, $nick, $who, $channel) {
+    public function onInvite($connection, $nick, $who, $channel) {
       if ($this->config->readBool('invitations', 'follow', FALSE)) {
         $connection->join($channel);
         $this->setKarma($nick, 5, '@@invite');
@@ -981,7 +981,7 @@
      * @param   string who who was kicked
      * @param   string reason what reason the user was kicked for
      */
-    public function onKicks(&$connection, $channel, $nick, $who, $reason) {
+    public function onKicks($connection, $channel, $nick, $who, $reason) {
       if (strcasecmp($who, $connection->user->getNick()) == 0) {
         $connection->join($channel);
         $connection->sendMessage($nick, 'He! "%s" ist KEIN Grund', $reason);
@@ -1001,7 +1001,7 @@
      * @param   string channel which channel was joined
      * @param   string nick who joined
      */
-    public function onJoins(&$connection, $channel, $nick) {
+    public function onJoins($connection, $channel, $nick) {
       if (strcasecmp($nick, $connection->user->getNick()) == 0) {
         $connection->writeln('NOTICE %s :%s is back!', $channel, $nick);
         $this->channels[$channel]= TRUE;
@@ -1021,7 +1021,7 @@
      * @param   string nick who part
      * @param   string message the part message, if any
      */
-    public function onParts(&$connection, $channel, $nick, $message) {
+    public function onParts($connection, $channel, $nick, $message) {
       if (strcasecmp($nick, $connection->user->getNick()) == 0) {
         $this->channels[$channel]= FALSE;
       }
@@ -1040,7 +1040,7 @@
      * @param   string target where action was initiated
      * @param   string action what actually happened (e.g. "looks around")
      */
-    public function onAction(&$connection, $nick, $target, $params) {
+    public function onAction($connection, $nick, $target, $params) {
       if (MODE_AWAKE != $this->mode) return;
       
       if (10 == rand(0, 20)) {
@@ -1064,7 +1064,7 @@
      * @param   string target where version was requested
      * @param   string params additional parameters
      */
-    public function onVersion(&$connection, $nick, $target, $params) {
+    public function onVersion($connection, $nick, $target, $params) {
       $connection->writeln('NOTICE %s :%sVERSION Krokerdil $Revision$%s', $nick, "\1", "\1");
     }
     
@@ -1075,7 +1075,7 @@
      * @param   &peer.irc.IRCConnection connection
      * @param   string data
      */
-    public function onPings(&$connection, $data) {
+    public function onPings($connection, $data) {
     
       // Automatically store configuration every hour
       if (time() > $this->registry['laststore'] + 3600) {
Index: ports/classes/ch/ecma/StliConnection.class.php
===================================================================
--- ports/classes/ch/ecma/StliConnection.class.php	(revision 8952)
+++ ports/classes/ch/ecma/StliConnection.class.php	(working copy)
@@ -59,8 +59,8 @@
      * @param   &peer.Socket sock
      * @param   int version default STLI_VERSION_2
      */
-    public function __construct(&$sock, $version= STLI_VERSION_2) {
-      $this->sock= &$sock;
+    public function __construct($sock, $version= STLI_VERSION_2) {
+      $this->sock= $sock;
       $this->version= $version;
     }
     
@@ -195,7 +195,7 @@
      * @param   &util.telephony.TelephonyAddress destination
      * @return  &util.telephony.TelephonyCall a call object
      */
-    public function &createCall(&$terminal, &$destination) {
+    public function createCall($terminal, $destination) {
       if (FALSE === $this->_expect(
         STLI_MAKECALL_RESPONSE,
         $this->_sockcmd('MakeCall %s %s', 
@@ -219,7 +219,7 @@
      * @param   &util.telephony.TelephonyAddress address
      * @return  &util.telephony.TelephonyTerminal
      */
-    public function &getTerminal(&$address) {
+    public function getTerminal($address) {
       return new TelephonyTerminal($address);
     }
 
@@ -231,7 +231,7 @@
      * @param   bool status TRUE to start observing, FALSE top stop
      * @return  bool success
      */
-    public function observeTerminal(&$terminal, $status) {
+    public function observeTerminal($terminal, $status) {
       if ($status) {
         $success= $this->_expect(
           STLI_MON_START_RESPONSE,
@@ -255,7 +255,7 @@
      * @param   &util.telephony.TelephonyTerminal terminal
      * @return  bool success
      */
-    public function releaseTerminal(&$terminal) {
+    public function releaseTerminal($terminal) {
       return TRUE;
     }
   }
Index: ports/classes/com/capeconnect/GlobalWeather.class.php
===================================================================
--- ports/classes/com/capeconnect/GlobalWeather.class.php	(revision 8952)
+++ ports/classes/com/capeconnect/GlobalWeather.class.php	(working copy)
@@ -58,7 +58,7 @@
      * @param   string code Airport code, such as "FRA" for Frankfurt/Main, Germany  
      * @return  &lang.Object report                                                        
      */
-    public function &getWeatherReport($code) {
+    public function getWeatherReport($code) {
       return $this->invoke('getWeatherReport', new Parameter('code', $code));
     }
   }
Index: ports/classes/com/microsoft/format/chm/CHMFile.class.php
===================================================================
--- ports/classes/com/microsoft/format/chm/CHMFile.class.php	(revision 8952)
+++ ports/classes/com/microsoft/format/chm/CHMFile.class.php	(working copy)
@@ -67,8 +67,8 @@
      * @access  public
      * @param   &io.Stream stream
      */  
-    public function __construct(&$stream) {
-      $this->stream= &$stream;
+    public function __construct($stream) {
+      $this->stream= $stream;
       
     }
 
@@ -93,7 +93,7 @@
      * @param   int len
      * @return  string str
      */
-    public function _substr($str, &$p, $len) {
+    public function _substr($str, $p, $len) {
       $str= substr($str, ++$p, $len);
       $p+= $len;
       return $str;
@@ -108,7 +108,7 @@
      * @param   &int p
      * @return  int
      */
-    public function _int($str, &$p) {
+    public function _int($str, $p) {
       $r= 0;
       while (ord($str{$p}) & 0x80) {
         $r= ($r << 7) | (ord($str{$p++}) & 0x7F);
@@ -181,7 +181,7 @@
      * @return  &com.microsoft.format.chm.CHMHeader
      * @throws  lang.FormatException if the identifier is not correct
      */
-    public function &getHeader() {
+    public function getHeader() {
       if (!empty($this->header)) {
         $this->stream->seek($this->_headeroffset, SEEK_SET);
         return $this->header;
@@ -235,7 +235,7 @@
      * @return  &com.microsoft.format.chm.CHMDirectory
      * @throws  lang.FormatException if the identifier is not correct
      */ 
-    public function &getDirectory() {
+    public function getDirectory() {
       $this->getHeader();       // We need this so the file pointer position is correct
       if (!empty($this->directory)) {
         $this->stream->seek($this->_diroffset, SEEK_SET);
Index: ports/classes/com/microsoft/format/BIFFWriter.class.php
===================================================================
--- ports/classes/com/microsoft/format/BIFFWriter.class.php	(revision 8952)
+++ ports/classes/com/microsoft/format/BIFFWriter.class.php	(working copy)
@@ -148,7 +148,7 @@
      * @return  &io.Stream stream passed in
      * @throws  io.IOException
      */
-    public function &write(&$stream) {
+    public function write($stream) {
       $stream->open(FILE_MODE_WRITE);
       $stream->write($this->_data);
       $stream->close();
Index: ports/classes/com/microsoft/wscript/WshShell.class.php
===================================================================
--- ports/classes/com/microsoft/wscript/WshShell.class.php	(revision 8952)
+++ ports/classes/com/microsoft/wscript/WshShell.class.php	(working copy)
@@ -32,7 +32,7 @@
      * @access  public
      * @return  &com.microsoft.wscript.WshShell
      */
-    public static function &getInstance() {
+    public static function getInstance() {
       static $instance= NULL;
       
       if (!$instance) $instance= new WshShell();
Index: ports/classes/com/microsoft/RegistryKey.class.php
===================================================================
--- ports/classes/com/microsoft/RegistryKey.class.php	(revision 8952)
+++ ports/classes/com/microsoft/RegistryKey.class.php	(working copy)
@@ -71,7 +71,7 @@
     public function __construct($name) {
       
       $this->name= $name;
-      $this->_sh= &WshShell::getInstance();
+      $this->_sh= WshShell::getInstance();
     }
     
     /**
@@ -118,7 +118,7 @@
      * @return  &mixed   
      * @throws  com.microsoft.RegistryException
      */
-    public function &getValue() {
+    public function getValue() {
       if (NULL === ($v= $this->_sh->regRead($this->name))) {
         throw(new RegistryException('Could not read key "'.$this->name.'"'));  
       }
Index: ports/classes/com/microsoft/com/COMObject.class.php
===================================================================
--- ports/classes/com/microsoft/com/COMObject.class.php	(revision 8952)
+++ ports/classes/com/microsoft/com/COMObject.class.php	(working copy)
@@ -52,7 +52,7 @@
      * @return  bool success
      */
     public function __get($name) {
-      $value= &com_get($this->h, $name);
+      $value= com_get($this->h, $name);
       return $value;
     }
     
@@ -64,7 +64,7 @@
      * @param   &mixed value
      * @return  bool success
      */
-    public function __set($name, &$value) {
+    public function __set($name, $value) {
       com_set($this->h, $name, $value);
       return TRUE;
     }
@@ -81,7 +81,7 @@
     public function __call($name, $args) {
       $return= call_user_func_array(
         'com_invoke', 
-        array_merge(array(&$this->h, $name), $args)
+        array_merge(array($this->h, $name), $args)
       );
       return $return;
     }
Index: ports/classes/com/sun/webstart/jnlp/JnlpDocument.class.php
===================================================================
--- ports/classes/com/sun/webstart/jnlp/JnlpDocument.class.php	(revision 8952)
+++ ports/classes/com/sun/webstart/jnlp/JnlpDocument.class.php	(working copy)
@@ -44,10 +44,10 @@
       $this->root->setAttribute('spec', $spec);
       $this->root->setAttribute('codebase', $codebase);
       $this->root->setAttribute('href', $href);
-      $this->_nodes['information']= &$this->root->addChild(new Node('information'));
-      $this->_nodes['security']= &$this->root->addChild(new Node('security'));
-      $this->_nodes['resources']= &$this->root->addChild(new Node('resources'));
-      $this->_nodes['application-desc']= &$this->root->addChild(new Node('application-desc'));
+      $this->_nodes['information']= $this->root->addChild(new Node('information'));
+      $this->_nodes['security']= $this->root->addChild(new Node('security'));
+      $this->_nodes['resources']= $this->root->addChild(new Node('resources'));
+      $this->_nodes['application-desc']= $this->root->addChild(new Node('application-desc'));
     }
 
     /**
@@ -59,7 +59,7 @@
      * @param   string name
      * @return  &xml.Node
      */
-    public function &findFirst(&$base, $name) {
+    public function findFirst($base, $name) {
       for ($i= 0, $s= sizeof($base->children); $i < $s; $i++) {
         if ($name == $base->children[$i]->getName()) return $base->children[$i];
       }
@@ -75,7 +75,7 @@
     public function extract() {
 
       // Extract information
-      with ($this->_nodes['information']= &$this->findFirst($this->root, 'information')); {
+      with ($this->_nodes['information']= $this->findFirst($this->root, 'information')); {
         $this->information= new JnlpInformation();
         for ($i= 0, $s= sizeof($this->_nodes['information']->children); $i < $s; $i++) {
           $name= $this->_nodes['information']->children[$i]->getName();
@@ -122,12 +122,12 @@
       }
       
       // Extract security (TBI)
-      $this->_nodes['security']= &$this->findFirst($this->root, 'security');
+      $this->_nodes['security']= $this->findFirst($this->root, 'security');
 
       // Extract resources
-      with ($this->_nodes['resources']= &$this->findFirst($this->root, 'resources')); {
+      with ($this->_nodes['resources']= $this->findFirst($this->root, 'resources')); {
         for ($i= 0, $s= sizeof($this->_nodes['resources']->children); $i < $s; $i++) {
-          $node= &$this->_nodes['resources']->children[$i];
+          $node= $this->_nodes['resources']->children[$i];
           switch ($name= $node->getName()) {
             case 'j2se':    // The Java2 version required
               $this->resources[]= new JnlpJ2seResource(
@@ -174,7 +174,7 @@
       }
 
       // Extract application description
-      with ($this->_nodes['application-desc']= &$this->findFirst($this->root, 'application-desc')); {
+      with ($this->_nodes['application-desc']= $this->findFirst($this->root, 'application-desc')); {
         $this->appdesc= new JnlpApplicationDesc();
         $this->appdesc->setMain_class($this->_nodes['application-desc']->getAttribute('main-class'));
         
@@ -192,8 +192,8 @@
      * @param   string str
      * @return  &com.sun.webstart.JnlpDocument
      */
-    public static function &fromString($str) {
-      if ($j= &parent::fromString($str, __CLASS__)) {
+    public static function fromString($str) {
+      if ($j= parent::fromString($str, __CLASS__)) {
         $j->extract();
       }
       return $j;
@@ -207,8 +207,8 @@
      * @param   &io.File file
      * @return  &com.sun.webstart.JnlpDocument
      */
-    public static function &fromFile(&$file) {
-      if ($j= &parent::fromFile($file, __CLASS__)) {
+    public static function fromFile($file) {
+      if ($j= parent::fromFile($file, __CLASS__)) {
         $j->extract();
       }
       return $j;
@@ -281,8 +281,8 @@
      * @param   &com.sun.webstart.JnlpResource resource
      * @return  &com.sun.webstart.JnlpResource the added resource
      */
-    public function &addResource(&$resource) {
-      $this->resources[]= &$resource;
+    public function addResource($resource) {
+      $this->resources[]= $resource;
       $this->_nodes['resources']->addChild(new Node(
         $resource->getTagName(), 
         NULL,
@@ -307,7 +307,7 @@
      * @access  public
      * @return  &com.sun.webstart.JnlpInformation
      */
-    public function &getInformation() {
+    public function getInformation() {
       return $this->information;
     }
 
@@ -317,8 +317,8 @@
      * @access  public
      * @param   &com.sun.webstart.JnlpInformation i
      */
-    public function setInformation(&$i) {
-      $this->information= &$i;
+    public function setInformation($i) {
+      $this->information= $i;
       $this->_nodes['information']->addChild(new Node('title', $i->getTitle()));
       $this->_nodes['information']->addChild(new Node('vendor', $i->getVendor()));
       foreach ($i->description as $kind => $descr) {
@@ -339,7 +339,7 @@
      * @access  public
      * @return  &com.sun.webstart.JnlpApplicationDesc
      */
-    public function &getApplicationDesc() {
+    public function getApplicationDesc() {
       return $this->appdesc;
     }
   }
Index: ports/classes/com/xmlrpc/MetaWeblogApi.class.php
===================================================================
--- ports/classes/com/xmlrpc/MetaWeblogApi.class.php	(revision 8952)
+++ ports/classes/com/xmlrpc/MetaWeblogApi.class.php	(working copy)
@@ -132,7 +132,7 @@
      * @param   &io.File file
      * @return  array url of the file
      */  
-    public function newMediaObject(&$file) {
+    public function newMediaObject($file) {
       return $this->invoke(
         'metaWeblog.newMediaObject',
         $this->blogid,
Index: ports/classes/com/flickr/xmlrpc/FlickrClient.class.php
===================================================================
--- ports/classes/com/flickr/xmlrpc/FlickrClient.class.php	(revision 8952)
+++ ports/classes/com/flickr/xmlrpc/FlickrClient.class.php	(working copy)
@@ -91,7 +91,7 @@
      * @return  mixed
      */
     public function unserialize($xml) {
-      $tree= &Tree::fromString('<?xml version="1.0" encoding="utf-8"?><data>'.$xml.'</data>');
+      $tree= Tree::fromString('<?xml version="1.0" encoding="utf-8"?><data>'.$xml.'</data>');
       return $this->_recurse($tree->root);
     }    
     
@@ -102,7 +102,7 @@
      * @param   &xml.Node node
      * @return  mixed
      */
-    public function _recurse(&$node) {
+    public function _recurse($node) {
       if (sizeof($node->children)) {
         $ret= array();
         foreach ($node->children as $index => $value) {
@@ -171,7 +171,7 @@
         throw($e);
       }
       
-      $return= &Unmarshaller::unmarshal($res[0], $expect);
+      $return= Unmarshaller::unmarshal($res[0], $expect);
       $return->setClient($this);
       return $return;
     }
@@ -182,7 +182,7 @@
      * @access  public
      * @return  &com.flickr.api.FlickrInterestingness
      */
-    public function &getInterestingnessInterface() {
+    public function getInterestingnessInterface() {
       $if= new FlickrInterestingness();
       $if->setClient($this);
       return $if;
Index: ports/classes/com/flickr/api/FlickrPackage.class.php
===================================================================
--- ports/classes/com/flickr/api/FlickrPackage.class.php	(revision 8952)
+++ ports/classes/com/flickr/api/FlickrPackage.class.php	(working copy)
@@ -20,8 +20,8 @@
      * @access  public
      * @param   &com.flickr.xmlrpc.FlickrClient client
      */
-    public function setClient(&$client) {
-      $this->client= &$client;
+    public function setClient($client) {
+      $this->client= $client;
     }    
   }
 ?>
Index: ports/classes/com/flickr/api/FlickrAuth.class.php
===================================================================
--- ports/classes/com/flickr/api/FlickrAuth.class.php	(revision 8952)
+++ ports/classes/com/flickr/api/FlickrAuth.class.php	(working copy)
@@ -62,7 +62,7 @@
      * @access  public
      * @param   &com.flickr.xmlrpc.Client client
      */
-    public function getFrob(&$client) {
+    public function getFrob($client) {
       $res= $client->invoke('flickr.auth.getFrob', array(
         'perms' => 'read'
       ));
@@ -76,7 +76,7 @@
      * @param   &com.flickr.xmlrpc.Client client
      * @return  string url
      */
-    public function getFrobURL(&$client) {
+    public function getFrobURL($client) {
       $arguments= array(
         'frob'  => $this->getFrobValue(),
         'perms' => 'read'
@@ -96,7 +96,7 @@
      * @param   &com.flickr.xmlrpc.Client client
      * @return  mixed
      */
-    public function getToken(&$client) {
+    public function getToken($client) {
       $res= $client->invoke('flickr.auth.getToken', array(
         'frob'  => $this->getFrobValue()
       ));
Index: ports/classes/com/flickr/api/FlickrInterestingnessResponse.class.php
===================================================================
--- ports/classes/com/flickr/api/FlickrInterestingnessResponse.class.php	(revision 8952)
+++ ports/classes/com/flickr/api/FlickrInterestingnessResponse.class.php	(working copy)
@@ -24,7 +24,7 @@
      * @access  public
      */
     public function __construct() {
-      $this->photos= &Collection::forClass('com.flickr.FlickrPhoto');
+      $this->photos= Collection::forClass('com.flickr.FlickrPhoto');
     }
     
     /**
@@ -34,7 +34,7 @@
      * @param   &com.flickr.FlickrPhoto photo
      */
     #[@xmlmapping(element= 'photo', class= 'com.flickr.FlickrPhoto')]
-    public function addPhoto(&$photo) {
+    public function addPhoto($photo) {
       $this->photos->add($photo);
     }
   }
Index: ports/classes/com/flickr/api/FlickrInterestingness.class.php
===================================================================
--- ports/classes/com/flickr/api/FlickrInterestingness.class.php	(revision 8952)
+++ ports/classes/com/flickr/api/FlickrInterestingness.class.php	(working copy)
@@ -26,7 +26,7 @@
      * @param   int page default 1
      * @return  &com.flickr.FlickrPhotoCollection
      */
-    public function &getList($date= NULL, $extras= NULL, $perPage= 100, $page= 1) {
+    public function getList($date= NULL, $extras= NULL, $perPage= 100, $page= 1) {
       $arguments= array(
         'per_page'  => $perPage,
         'page'      => $page
Index: ports/classes/com/flickr/FlickrPhotoSize.class.php
===================================================================
--- ports/classes/com/flickr/FlickrPhotoSize.class.php	(revision 8952)
+++ ports/classes/com/flickr/FlickrPhotoSize.class.php	(working copy)
@@ -90,7 +90,7 @@
      * @param   &lang.Object url
      */
     #[@xmlmapping(element= '@url')]
-    public function setUrl(&$url) {
+    public function setUrl($url) {
       $this->url= new URL($url);
     }
 
@@ -100,7 +100,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getUrl() {
+    public function getUrl() {
       return $this->url;
     }
 
@@ -111,7 +111,7 @@
      * @param   &lang.Object source
      */
     #[@xmlmapping(element= '@source')]
-    public function setSource(&$source) {
+    public function setSource($source) {
       $this->source= new URL($source);
     }
 
@@ -121,7 +121,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getSource() {
+    public function getSource() {
       return $this->source;
     }
 
Index: ports/classes/com/flickr/FlickrPhotoCollection.class.php
===================================================================
--- ports/classes/com/flickr/FlickrPhotoCollection.class.php	(revision 8952)
+++ ports/classes/com/flickr/FlickrPhotoCollection.class.php	(working copy)
@@ -31,10 +31,10 @@
      * @access  public
      * @param   &com.flickr.xmlrpc.FlickrClient client
      */
-    public function setClient(&$client) {
-      $this->_client= &$client;
+    public function setClient($client) {
+      $this->_client= $client;
       for ($i= 0; $i < $this->photos->size(); $i++) {
-        $p= &$this->photos->get($i);
+        $p= $this->photos->get($i);
         $p->setClient($client);
       }
     }
@@ -45,7 +45,7 @@
      * @access  public
      */
     public function __construct() {
-      $this->photos= &Collection::forClass('com.flickr.FlickrPhoto');
+      $this->photos= Collection::forClass('com.flickr.FlickrPhoto');
     }
     
     /**
@@ -55,7 +55,7 @@
      * @param   &lang.Object photos
      */
     #[@xmlmapping(element= 'photo', class= 'com.flickr.FlickrPhoto')]
-    public function addPhoto(&$photo) {
+    public function addPhoto($photo) {
       $this->photos->add($photo);
       return $photo;
     }
@@ -66,7 +66,7 @@
      * @access  public
      * @return  &lang.Object
      */
-    public function &getPhotos() {
+    public function getPhotos() {
       return $this->photos;
     }
 
Index: ports/classes/com/flickr/FlickrPhotoSizes.class.php
===================================================================
--- ports/classes/com/flickr/FlickrPhotoSizes.class.php	(revision 8952)
+++ ports/classes/com/flickr/FlickrPhotoSizes.class.php	(working copy)
@@ -25,7 +25,7 @@
      * @access  public
      */
     public function __construct() {
-      $this->sizes= &Collection::forClass('com.flickr.FlickrPhotoSize');
+      $this->sizes= Collection::forClass('com.flickr.FlickrPhotoSize');
     }
     
     /**
@@ -34,7 +34,7 @@
      * @access  public
      * @param   &com.flickr.xmlrpc.FlickrClient client
      */
-    public function setClient(&$client) {
+    public function setClient($client) {
     }
       
     /**
@@ -44,7 +44,7 @@
      * @param   &lang.Object size
      */
     #[@xmlmapping(element= 'size', class= 'com.flickr.FlickrPhotoSize')]
-    public function addSize(&$size) {
+    public function addSize($size) {
       $this->sizes->add($size);
       return $size;
     }
Index: ports/classes/com/flickr/FlickrPhoto.class.php
===================================================================
--- ports/classes/com/flickr/FlickrPhoto.class.php	(revision 8952)
+++ ports/classes/com/flickr/FlickrPhoto.class.php	(working copy)
@@ -31,8 +31,8 @@
      * @access  public
      * @param   &com.flickr.xmlrpc.FlickrClient client
      */
-    public function setClient(&$client) {
-      $this->_client= &$client;
+    public function setClient($client) {
+      $this->_client= $client;
     }
 
     /**
@@ -209,7 +209,7 @@
      * @access  public
      * @return  &peer.URL
      */
-    public function &getURL() {
+    public function getURL() {
       $url= new URL(sprintf('http://static.flickr.com/%s/%s_%s_b.jpg',
         $this->getServer(),
         $this->getId(),
Index: ports/classes/com/google/soap/search/GoogleSearchClient.class.php
===================================================================
--- ports/classes/com/google/soap/search/GoogleSearchClient.class.php	(revision 8952)
+++ ports/classes/com/google/soap/search/GoogleSearchClient.class.php	(working copy)
@@ -134,7 +134,7 @@
      * @throws  xml.XMLFormatException in case not-well-formed XML is returned
      * @see     http://www.google.com/apis/reference.html#searchrequest Search Parameters 
      */
-    public function &doGoogleSearch($key, $q, $start, $maxResults, $filter, $restrict, $safeSearch, $lr, $ie, $oe) {
+    public function doGoogleSearch($key, $q, $start, $maxResults, $filter, $restrict, $safeSearch, $lr, $ie, $oe) {
       return $this->invoke(
         'doGoogleSearch',
         new Parameter('key', $key),
Index: ports/classes/com/google/soap/search/GoogleSearchResult.class.php
===================================================================
--- ports/classes/com/google/soap/search/GoogleSearchResult.class.php	(revision 8952)
+++ ports/classes/com/google/soap/search/GoogleSearchResult.class.php	(working copy)
@@ -141,7 +141,7 @@
      * @param   int pos
      * @return  &com.google.soap.search.ResultElement
      */
-    public function &getResultElement($pos) {
+    public function getResultElement($pos) {
       if (!isset($this->resultElements[$pos])) return NULL;
       return $this->resultElements[$pos];
     }
@@ -274,7 +274,7 @@
      * @param   int pos
      * @return  &com.google.soap.search.DirectoryCategory
      */
-    public function &getDirectoryCategory($pos) {
+    public function getDirectoryCategory($pos) {
       if (!isset($this->directoryCategories[$pos])) return NULL;
       return $this->directoryCategories[$pos];
     }
Index: ports/classes/com/google/util/GoogleDateRange.class.php
===================================================================
--- ports/classes/com/google/util/GoogleDateRange.class.php	(revision 8952)
+++ ports/classes/com/google/util/GoogleDateRange.class.php	(working copy)
@@ -55,7 +55,7 @@
      * @param   &util.Date end
      * @return  &com.google.util.GoogleDateRange
      */
-    public static function &forDates(&$start, &$end) {
+    public static function forDates($start, $end) {
       $range= new GoogleDateRange();
       $range->setStart($start);
       $range->setEnd($end);
@@ -68,8 +68,8 @@
      * @access  public
      * @param   &util.Date start
      */
-    public function setStart(&$start) {
-      $this->start= &$start;
+    public function setStart($start) {
+      $this->start= $start;
     }
 
     /**
@@ -78,7 +78,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getStart() {
+    public function getStart() {
       return $this->start;
     }
 
@@ -88,8 +88,8 @@
      * @access  public
      * @param   &util.Date end
      */
-    public function setEnd(&$end) {
-      $this->end= &$end;
+    public function setEnd($end) {
+      $this->end= $end;
     }
 
     /**
@@ -98,7 +98,7 @@
      * @access  public
      * @return  &util.Date
      */
-    public function &getEnd() {
+    public function getEnd() {
       return $this->end;
     }
     
@@ -115,7 +115,7 @@
      * @param   &util.Date date
      * @return  int
      */
-    public static function dateToJulian(&$date) {
+    public static function dateToJulian($date) {
       with ($iyear= $date->getYear(), $imonth= $date->getMonth(), $iday= $date->getDay()); {
       
         // Check for invalid dates
